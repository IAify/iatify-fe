"use strict";(self.webpackChunk_amzn_dvwebnode=self.webpackChunk_amzn_dvwebnode||[]).push([[2568],{"./src/apex/LandingPage/Component.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var n=a("./node_modules/react/index.js"),i=a("./src/util/api/WPSClient.ts"),r=a("./src/util/utils/swiftDevice.ts"),l=a("./src/util/api/swiftCommonArgs.ts"),s=a("./src/util/api/swiftPageParams.ts"),o=a("./src/shared/Stores/context.ts");const c=(e,t,a,n)=>{var i;const r=(0,o.getRequestContext)(),{queryParameters:c}=r,{pageNumber:d,pageSize:u,startIndex:m,serviceToken:p,jic:g,targetId:v,resiliencyToken:h}=c,y=(0,s.VF)();let f=null==n?void 0:n.serviceToken;const b=null==g?void 0:g[0];var E;if(n)return{context:r,pageType:y.pageType,pageId:y.pageId,...f&&{serviceToken:f},...b&&{journeyIngressContext:b},...(0,l.Xc)({customerFeature:"LandingPage",domain:r.domain,isInternal:r.isInternal,queryParameters:r.queryParameters,device:e,requestFeatureSwitches:t}),isRemasterEnabled:null!==(E=null==t?void 0:t.isRemasterEnabled)&&void 0!==E&&E};const C=(null==a?void 0:a.pageNumber)||parseInt(null==d?void 0:d[0])||void 0,T=(null==a?void 0:a.pageSize)||parseInt(null==u?void 0:u[0])||void 0,_=(null==a?void 0:a.startIndex)||parseInt(null==m?void 0:m[0])||void 0;f=(null==a?void 0:a.serviceToken)||(null==p?void 0:p[0]);const k=y.filterId,I=(null==a?void 0:a.targetId)||(null==v?void 0:v[0]),L=(null==h?void 0:h[0])||void 0;return{context:r,pageType:y.pageType,pageId:y.pageId,...C&&{pageNumber:C},...T&&{pageSize:T},..._&&{startIndex:_},...f&&{serviceToken:f},...k&&{filterId:k},...b&&{journeyIngressContext:b},...!a&&L&&{resiliencyToken:L},...I&&{targetId:I},...(0,l.Xc)({customerFeature:"LandingPage",domain:r.domain,isInternal:r.isInternal,queryParameters:r.queryParameters,device:e,requestFeatureSwitches:t}),isRemasterEnabled:null!==(i=null==t?void 0:t.isRemasterEnabled)&&void 0!==i&&i}};var d=a("./src/shared/Explore/containers/DiscoverPageContainer/index.tsx"),u=a("./src/shared/Explore/containers/DiscoverPageContainer/DiscoverPageContainer.tsx"),m=a("./src/shared/Explore/containers/PaginationApiController/PaginateViaPaginateCollectionAPI.tsx"),p=a("./src/shared/deviceProxy/PVClickstreamClient.ts"),g=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),v=a("./src/shared/Explore/hooks/TestDebugFlagsHooks/testDebugFlags.ts");const h=new i.eZ,y=e=>{const{filters:t,containers:a,pagination:i,isTrailerAutoplayEnabled:l,pageMetadata:s,playbackLaunchType:y,swiftPageParameters:f,availabilityMessage:b,customerMessage:E,redirectedMessage:C,strings:T,resiliencyCxMode:_,requestFeatureSwitches:k,featureSwitches:I,clickstreamPageParams:L,homeRegion:x,notification:w,alertBanner:P,enableVerticalPerformantRender:S}=e,D=(0,p.U)({homeRegion:x||void 0}),N=g.Nb.Explore,M=(0,o.getRequestContext)(),R=n.useMemo((()=>new r.AS(M.userAgent,M.appName)),[M.userAgent,M.appName]);return n.createElement(m.Z,{swiftPageParameters:f,swiftCustomerFeature:"LandingPage",requestFeatureSwitches:k,device:R},n.createElement(d.Z,{page:"LandingPage",device:R,pageMetadata:s,filters:t,filteringFunction:async e=>{const t=await h.GetLandingPage(c(R,k,void 0,e));if(t.hasFailed)throw new u.e;return{containers:t.containers,filters:t.filters,pagination:t.pagination}},containers:a,pagination:i,paginatingFunction:async e=>{if(null==e||!e.serviceToken)throw new Error("serviceToken cannot be undefined for Browse pagination");const t=await h.GetLandingPage(c(R,k,e));return{containers:t.containers,pagination:t.pagination}},availabilityMessage:b||E,redirectedMessage:C,isTrailerAutoplayEnabled:l,strings:T,playbackLaunchType:y,clickstream:D,clickstreamPageContext:{...L,clientVariant:N},featureSwitches:I,requiresMinimumPageWidth:null==I?void 0:I.requiresMinimumPageWidth,testDebugFlags:(0,v.D)(),resiliencyCxMode:_,swiftPageParameters:f,notification:w,alertBanner:P,enableVerticalPerformantRender:S}))};var f=a("./src/shared/components/PangaeaBanner/index.ts");const b=({pangaeaBanner:e,landingPage:t})=>n.createElement(n.Fragment,null,e&&n.createElement(f.B,e),n.createElement(y,t)),E=n.memo(b)},"./src/shared/CS/components/ActionForm/actionForm.tsx":(e,t,a)=>{a.d(t,{y:()=>r});var n=a("./node_modules/react/index.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const r=({hiddenInputs:e={},method:t="POST",children:a,...r})=>n.createElement("form",i({},r,{method:t}),a,Object.keys(e).map((t=>n.createElement("input",{key:t,type:"hidden",name:t,value:e[t]}))))},"./src/shared/CS/components/AlertBanner/AlertBanner.tsx":(e,t,a)=>{a.d(t,{Y:()=>l});var n=a("./node_modules/react/index.js"),i=a("./node_modules/@amzn/dvui/dist/Fable/components/Banner/index.js");const r={Info:"info",Error:"error",Success:"success"},l=({heading:e,body:t,presentation:a,closeButtonAriaLabel:l,actionButton:s,testID:o})=>{const c=l?{ariaLabel:l}:void 0;return n.createElement(i.Banner,{heading:e,presentation:r[a],actionLinkProps:{href:null==s?void 0:s.link,children:null==s?void 0:s.label},closeButtonProps:c,dismissible:!0,"data-testid":null!=o?o:"alert-banner"},t)}},"./src/shared/CS/components/DraperPlayerInstrumentedEventHandlers/utils/metrics.ts":(e,t,a)=>{a.d(t,{DF:()=>o,iI:()=>r});var n=a("./src/util/logger/kirup.ts");const i=new Map,r=({videoURL:e,trackingEvents:t,eventName:a,debounceDuration:r=1e3,logger:c})=>{const d=t&&t[a];if(d&&!i.has(d)){n.c.count(`DVWebDraperFiredEvent${a}`),o(a),s(e,a,d,!1);const t=l(r).then((()=>(i.delete(d),fetch(d)))).catch((e=>{i.delete(d);const t="dvWebClientDraperEventError";c.count(t,1,!1),c.warn(`[${t} - ${a}] Error firing Draper tracking event with eventUrl: `+d,e)}));return i.set(d,t),t.then((()=>{}))}return d&&s(e,a,d,!0),Promise.resolve()},l=e=>new Promise((t=>setTimeout(t,e))),s=(e,t,a,n=!1)=>{window&&window.location.href.includes("draperDebug")&&window.console.log({eventLogged:t,trackingEventURL:a,videoURL:e,debounced:n})},o=e=>{n.c.count("DVWebDraperEvent",{event:e})}},"./src/shared/CS/components/EntitlementHeader/EntitlementHeader.tsx":(e,t,a)=>{a.d(t,{D:()=>f});var n=a("./node_modules/react/index.js"),i=a("./node_modules/@amzn/dvui/dist/Text.js"),r=a("./src/shared/CS/components/Text/Text.tsx"),l=a("./node_modules/classnames/index.js"),s=a.n(l);const o="CUqrUf",c="uqAJSI",d="whIpcm",u="fAKy1i",m="o86fri",p="wtkZWr",g="u-vmzo",v="JwLRN-";var h=a("./node_modules/@amzn/dvui/dist/Fable/components/Link/index.js"),y=a("./src/util/utils/hooks/useRemasterGating.ts");const f=({title:e,facetText:t,offerType:a,entitlementType:l,children:f,className:b,icon:E,action:C})=>{const{enabled:T}=(0,y.F)(),_=e.trim();if(!_)return null;const k=n.createElement(n.Fragment,null,n.createElement("p",null,_),(null==C?void 0:C.label)&&n.createElement(h.Link,{href:C.url,text:C.label}));let I;if("SVOD"===a)I=n.createElement("div",{className:d},t&&!T&&n.createElement(i.Text,{testID:"svod-facet-text",string:t,tag:"span",className:s()(p,u,g)}),n.createElement("span",{"data-testid":"carousel-title",className:s()({[v]:E})},k),E);else{const e="NotEntitled"===l;I=n.createElement("div",{className:s()(d,{[m]:e&&!T})},t&&!T&&n.createElement(n.Fragment,null,n.createElement(i.Text,{testID:"facet-text",string:t,tag:"span",className:s()(u)}),n.createElement(i.Text,{string:":",tag:"span",className:s()(g)})),n.createElement("span",{"data-testid":"carousel-title",className:s()({[v]:E})},k),E)}return n.createElement(r.Z.Super,{className:s()(o,b,{[c]:T})},I,f)}},"./src/shared/CS/components/EntitlementMessage/EntitlementMessage.tsx":(e,t,a)=>{a.d(t,{C:()=>l,n:()=>o});var n=a("./node_modules/react/index.js"),i=a("./node_modules/@amzn/dvui/dist/EntitlementMessage.js");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}let l=function(e){return e.OFFER="OFFER_ICON",e.ADS="ADS_ICON",e.ENTITLED="ENTITLED_ICON",e.ERROR="ERROR_ICON",e}({});const s=e=>{switch(e){case l.ENTITLED:return i.EntitlementType.entitled;case l.ADS:return i.EntitlementType.ads;case l.OFFER:return i.EntitlementType.offer;case l.ERROR:return i.EntitlementType.error;default:return}},o=({icon:e,level:t,...a})=>n.createElement(i.EntitlementMessage,r({},a,{entitlementType:s(e),level:t}))},"./src/shared/CS/components/Filters/FiltersContainer.tsx":(e,t,a)=>{a.d(t,{J:()=>me,P:()=>pe});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./node_modules/@amzn/dvui/dist/Icons/Close.js"),s=a("./node_modules/@amzn/dvui/dist/Button.js"),o=a.n(s),c=a("./node_modules/@amzn/dvui/dist/Icons/ExpanderDown.js"),d=a("./node_modules/@amzn/dvui/dist/Icons/Tick.js");const u="vMgsn9",m="wsxMim",p="ICNxzs",g="p+Vugy",v="ECrmxp",h="S0ePbs",y="UTgAAs",f="jNVzDt",b="UBiO6q",E="yU6sTz",C="dgsz+x",T="kS6Mq7",_="maX2Gf",k="gQwJEs",I="fRRenr",L="M1dXNg",x="KU3eMv",w="D5IBkY",P="yROaIs",S="k0uWjy",D="BCOvN9",N="mefDZd",M="uAlp4I",R="_0Wd4fc",A="AbYjcS",O="tU8gSw",B="iovUou",G="_9p25pD",V="UrY0Hx",W="quO4ok",F="WB59Ph",H="vSuDIq",z="_8A1dJ2",j="g1yAmJ",U="Di79n+",$="kP-92q",q="TSrWMv",Z="_0p0vDQ",J="_8P4YZw",K="ePeReH",X="SPgvgU",Y="ip261X";var Q=a("./src/util/utils/history.ts"),ee=a("./src/shared/Explore/containers/PageContainer/VerticalPaginationController.tsx");const te=n.memo((e=>{const{isTheOnlyFilter:t,alignDropdownListEnd:a,testID:i}=e,{actions:l}=n.useContext(ee.U),[s,o]=n.useState(!1),m=n.useRef(null);n.useEffect((()=>{const e=e=>{s&&m.current&&e.target instanceof Node&&!m.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[s]);const p=t=>async()=>{var a;void 0===t.serviceToken&&"MyStuff"!==e.consumingWidgetType||(o(!1),t.href&&(0,Q.qA)({[me]:!0},document.title,t.href),await e.onFilter({id:t.id,serviceToken:null!==(a=t.serviceToken)&&void 0!==a?a:""},l.resetAll))},h=()=>{const t=e.values.filter((e=>e.isCurrentlyApplied));return 0===t.length?e.text:t[0].text};return n.createElement("div",{className:r()(A,{[O]:t}),key:e.text,ref:m,"data-testid":"single-select-filter"},n.createElement("button",{className:r()(G,V,{[x]:s}),onClick:()=>o(!s),"data-testid":i||"single-select-filter-button","data-automation-id":i||"single-select-filter-button",disabled:e.isLoading},n.createElement("label",{className:r()(v,{[I]:s})},e.text," "),n.createElement("div",{className:g},n.createElement("label",{className:u}," ",h()," ")),n.createElement("span",{className:r()(L,{[x]:s})},n.createElement(c.ExpanderDown,null)),n.createElement("div",{className:r()(E,{[x]:h()!==e.text})},h())),n.createElement("ul",{className:r()(W,{[x]:s,[F]:a}),"data-testid":"single-select-filter-options"},null==(y=e.values)?void 0:y.map((t=>n.createElement("li",{className:H,key:t.text,"data-testid":"single-select-filter-value"},n.createElement("button",{key:t.text,onClick:p(t),className:r()(z,{[I]:t.isCurrentlyApplied}),"data-automation-id":i?`${i}-${t.id}${t.isCurrentlyApplied?"-active":""}`:"single-select-filter-value-button","data-testid":i?`${i}-${t.id}${t.isCurrentlyApplied?"-active":""}`:"single-select-filter-value-button",disabled:e.isLoading},n.createElement("div",{className:j},n.createElement(d.Tick,null)),n.createElement("div",{className:$},t.text)))))));var y}));var ae=a("./node_modules/@amzn/dvui/dist/Icons/Checkbox.js"),ne=a("./node_modules/@amzn/dvui/dist/Icons/CheckboxChecked.js");const ie=n.memo((e=>{const{isTheOnlyFilter:t,testID:a}=e,[i,l]=n.useState(!1),s=n.useRef(null),{actions:o}=n.useContext(ee.U);n.useEffect((()=>{const e=e=>{s.current&&e.target instanceof Node&&!s.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const d=t=>async()=>{void 0!==t.serviceToken&&(l(!1),t.href&&(0,Q.qA)({[me]:!0},document.title,t.href),await e.onFilter({serviceToken:t.serviceToken},o.resetAll))},h=()=>e.values.filter((e=>e.isCurrentlyApplied)).length;return n.createElement("div",{className:r()(A,{[O]:t}),key:e.text,ref:s,"data-testid":"multi-select-filter"},n.createElement("button",{className:r()(G,V,{[x]:i}),onClick:()=>l(!i),"data-automation-id":a||"multi-select-filter-button","data-testid":a||"multi-select-filter-button",disabled:e.isLoading},n.createElement("label",{className:r()(v,{[I]:i})},e.text," "),n.createElement("div",{className:r()(g)},n.createElement("label",{className:r()(p,{[m]:h()>0})}," ",e.text," "),n.createElement("label",{className:r()(u,{[m]:0==h()})},e.text),n.createElement("label",{className:r()(_,{[m]:0==h()})},h())),n.createElement("label",{className:r()(b,{[m]:0==h()})},h()),n.createElement("span",{className:r()(L,{[x]:i})},n.createElement(c.ExpanderDown,null))),n.createElement("ul",{className:r()(W,{[x]:i}),"data-testid":"multi-select-filter-options"},null==(y=e.values)?void 0:y.map((e=>n.createElement("li",{className:H,key:e.text,"data-testid":"multi-select-filter-value"},n.createElement("button",{key:e.text,onClick:d(e),className:r()(z,{[I]:e.isCurrentlyApplied}),"data-automation-id":a?`${a}-${e.id}${e.isCurrentlyApplied?"-active":""}`:"multi-select-filter-value-button","data-testid":a?`${a}-${e.id}${e.isCurrentlyApplied?"-active":""}`:"multi-select-filter-value-button"},n.createElement("div",{className:U},e.isCurrentlyApplied?n.createElement(ne.CheckboxChecked,null):n.createElement(ae.Checkbox,null)),n.createElement("div",{className:$},e.text)))))));var y}));var re=a("./src/shared/Explore/components/Carousel/index.ts");const le=n.memo((e=>{const{actions:t}=n.useContext(ee.U),a=e.values.map((e=>({title:e.text,id:e.id,serviceToken:e.serviceToken,isCurrentlyApplied:e.isCurrentlyApplied,href:e.href})));return n.createElement(re.Dj,{testID:"filter-carousel",cards:a,navigation:re.W_.Framed,renderCard:a=>{return n.createElement(o(),{className:r()(D,{[N]:a.isCurrentlyApplied}),onClick:(i=a,async()=>{var a;void 0===i.serviceToken&&"MyStuff"!==e.consumingWidgetType||(i.href&&(0,Q.qA)({[me]:!0},document.title,i.href),await e.onFilter({id:i.id,serviceToken:null!==(a=i.serviceToken)&&void 0!==a?a:""},t.resetAll))}),disabled:e.isLoading,doNotMigrateToFable:!0,testID:"filter-carousel-filter"},a.title);var i},className:B})}));function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},se.apply(this,arguments)}const oe=e=>{var t,a,i;const l=1===(null===(t=e.filters)||void 0===t?void 0:t.length);var s;return l&&"link"===(null===(a=e.filters)||void 0===a?void 0:a[0].selection)?n.createElement("div",{className:r()(S,{[R]:e.noTopPadding})},n.createElement(le,se({},null===(s=e.filters)||void 0===s?void 0:s[0],{onFilter:e.onFilter,isLoading:e.isLoading}))):n.createElement("div",{className:r()(M,e.className,{[R]:e.noTopPadding})},e.topContent,null===(i=e.filters)||void 0===i?void 0:i.map((t=>{switch(t.selection){case"exclusive":case"list_single_option":return n.createElement(te,se({},t,{key:t.id,consumingWidgetType:e.consumingWidgetType,onFilter:e.onFilter,isTheOnlyFilter:l,testID:e.testID,alignDropdownListEnd:e.alignDropdownListEnd,isLoading:e.isLoading}));case"inclusive":case"list_multiple_option":return n.createElement(ie,se({},t,{key:t.id,onFilter:e.onFilter,isTheOnlyFilter:l,testID:e.testID,isLoading:e.isLoading}))}})))};var ce=a("./node_modules/@amzn/dvui/dist/Icon.js"),de=a("./node_modules/@amzn/dvui/dist/Alert.js"),ue=a("./src/shared/CS/utils/icons.ts");const me="filterablePage",pe=e=>{var t;const{filters:a,isLoading:i,onFilter:s,noTopPadding:c,alignDropdownListEnd:d,filterButtonsClassName:u,consumingWidgetType:p,errorLoadingMessage:g,testID:v}=e,[b,E]=n.useState(!1),C=1===a.items.length&&"link"===(null===(t=a.items)||void 0===t?void 0:t[0].selection);return n.createElement(n.Fragment,null,!C&&n.createElement("div",{className:r()(h,{[R]:e.noTopPadding})},n.createElement(o(),{className:q,onClick:()=>E(!0)},a.text)),n.createElement("div",{className:r()({[w]:!C,[P]:!e.pageHasTitle,[m]:!b})},!C&&n.createElement(n.Fragment,null,n.createElement("div",{className:r()(y)},a.text,n.createElement("button",{className:Z,onClick:()=>E(!1)},n.createElement(l.Close,{height:ue.W6,width:ue.Nu}))),i&&n.createElement("div",{className:r()(X),"data-automation-id":"filter-loading-spinner"},n.createElement(ce.Icon,{use:ce.IconType.SPINNER,className:r()(K)}))),n.createElement(oe,{filters:a.items,onFilter:s,noTopPadding:c,alignDropdownListEnd:d,topContent:n.createElement(n.Fragment,null,n.createElement(ve,{show:"FAILED"===e.error,type:"Mobile",errorLoadingMessage:g}),"NO_CONTENT"===e.error&&n.createElement("p",{className:T},e.noMatchErrorMessage)),className:u,consumingWidgetType:p,testID:v,isLoading:i}),n.createElement(ve,{show:"FAILED"===e.error,type:"Desktop",errorLoadingMessage:g}),!C&&n.createElement("div",{className:r()(f)},n.createElement("button",{className:J,onClick:()=>E(!1),"data-automation-id":"filter-close-button"},a.callToActionText))),"NO_CONTENT"===e.error&&n.createElement("p",{className:Y},e.noMatchErrorMessage))},ge={Mobile:C,Desktop:k},ve=({type:e,show:t,errorLoadingMessage:a})=>{if(!t)return null;const i=ge[e];return n.createElement("p",{className:i},n.createElement(de.ErrorAlert,null,a))}},"./src/shared/CS/components/LazyImage/LazyImage.tsx":(e,t,a)=>{a.d(t,{w:()=>v});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i);const l="om7nme",s="KLNBWL",o="Ah1hNY";var c=a("./src/shared/imageUtils/imageUtils.ts"),d=a("./src/util/utils/sample.ts"),u=a("./src/util/utils/imageUtils/imageUtils.tsx"),m=a("./src/util/logger/kirup.ts");var p=a("./src/shared/Explore/containers/PageContainer/index.tsx");function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}const v=n.memo((({src:e,baseValue:t,alt:a,aspectRatio:i,imageClassName:v,wrapperClassName:h,autoCrop:y,sizesOptions:f,srcSetWidths:b,parentListeners:E,shouldLazyLoad:C,debugID:T,responsiveScaleDimension:_=c.rB.WIDTH,elementTiming:k})=>{const I=(0,p.zm)(),{shouldDarkenImage:L}=I||{},[x,w]=n.useState(!1),P=n.useRef(null),S=new u.e(e).urlFileFormat,D="png"==S?"image/png":"image/jpeg",N="png"==S?c.GH.png:c.GH.jpg,M=e=>{var t;(w(!0),(0,d.d)(2,(()=>{m.c.count("DVWebClientImgLoadAttempt",0)})),e)&&(null==E||null===(t=E.onLoad)||void 0===t||t.call(E,e.currentTarget.currentSrc))};n.useEffect((()=>{var e;null!==(e=P.current)&&void 0!==e&&e.complete&&!x&&M()}),[]);const R=n.createElement("img",g({alt:null!=a?a:"",className:r()(v,{[o]:i,[s]:!i}),onLoad:M,onError:t=>{var a;null==E||null===(a=E.onError)||void 0===a||a.call(E),(0,d.d)(2,(()=>{m.c.count("DVWebClientImgLoadAttempt",1)})),m.c.count("DVWebClientImgLoadFailure"),m.c.warn(t,`[dvWebClientImgLoadFailure] LazyImage failed to load an image for ${T}. The image URL is: ${e}`)},style:i?{aspectRatio:i}:{},src:(0,c.e4)({src:e,value:t,baseType:_,skipStripTags:!0,supportTransparency:void 0,autoCrop:y,type:N,shouldDarkenImage:L}),"data-testid":"base-image",loading:C?"lazy":"eager"},k?{elementtiming:k}:{}));let A;return A=n.createElement("picture",null,n.createElement("source",{type:"image/webp",srcSet:b?(0,c.X8)(e,b,_,c.GH.webp,!0,y,L):(0,c.er)(e,t,_,c.GH.webp,!0,void 0,y,L),sizes:f&&(0,c.TQ)(f.defaultSrcSize,f.srcSizes)}),n.createElement("source",{type:D,srcSet:b?(0,c.X8)(e,b,_,N,!0,y,L):(0,c.er)(e,t,_,N,!0,void 0,y,L),sizes:f&&(0,c.TQ)(f.defaultSrcSize,f.srcSizes)}),R),n.createElement("div",{className:r()(l,h),style:i?{aspectRatio:i}:{}},A)}));v.displayName="LazyImage"},"./src/shared/CS/components/Modal/Modal.tsx":(e,t,a)=>{a.d(t,{u:()=>b});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./node_modules/@amzn/dvui/dist/Icons/Close.js"),s=a.n(l),o=a("./node_modules/@amzn/dvui/dist/Text.js"),c=a("./src/shared/CS/components/Text/Text.tsx"),d=a("./src/shared/CS/components/Modal/Modal.module.scss"),u=a("./node_modules/react-dom/index.js");const m=({children:e})=>{const t=n.useRef(null);n.useEffect((()=>(document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i))),[]);const a=[],i=e=>{var n;if("Tab"!==e.key)return;const i=e.shiftKey&&"Tab"===e.key,r=Array.from((null===(l=t.current)||void 0===l?void 0:l.querySelectorAll('a[href],textarea,input,button,label,[tabindex]:not([tabindex="-1"])'))||a);var l;const s=r.shift(),o=r.pop()||s,c=null===(n=t.current)||void 0===n?void 0:n.contains(document.activeElement),d=document.activeElement===(i?s:o)||null;c&&!d||((e,t)=>{t.preventDefault(),null==e||e.focus()})(i?o:s,e)};return n.createElement("div",{ref:t,"data-testid":"focus-trap"},e)};var p=a("./node_modules/@amzn/dvui/dist/Button.js"),g=a.n(p),v=a("./src/util/mShop.ts");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(this,arguments)}const y="modal-no-scroll",f={xs:d.Z.xsModalSize,s:d.Z.sModalSize,m:d.Z.mModalSize,l:d.Z.lModalSize},b=({isVisible:e,className:t,size:a="m",testID:i,titleText:l,bodyText:b,primaryActionText:E,secondaryActionText:C,onRequestClose:T,onDismiss:_,primaryActionHref:k,onPrimaryAction:I,onSecondaryAction:L,header:x,disableHeader:w,disableCloseButton:P,body:S,disableBody:D,footer:N,disableFooter:M,rootElement:R})=>{var A;const O=n.useRef(null),{mShopBottomBarHeights:B}=(0,v.n)();n.useEffect((()=>{var t,a,n;e?(null===(t=document)||void 0===t||null===(t=t.documentElement)||void 0===t||t.classList.add(y),null==O||null===(a=O.current)||void 0===a||a.focus()):(null===(n=document)||void 0===n||null===(n=n.documentElement)||void 0===n||n.classList.remove(y),null==_||_());return()=>{var e;null===(e=document)||void 0===e||null===(e=e.documentElement)||void 0===e||e.classList.remove(y)}}),[e]);if(!e)return null;const G=n.createElement("button",{type:"button",onClick:T,className:d.Z.closeButton,"data-testid":"modal-close-button"},n.createElement(s(),null)),V=n.createElement(o.Text,{string:l||" ",tag:"span",testID:"menu-header"}),W=n.createElement("div",{role:"presentation",className:d.Z.modalContainer,onKeyDown:e=>{O.current&&"Escape"===e.key&&T()}},n.createElement("div",{role:"presentation",onClick:T,className:d.Z.background}),n.createElement("div",h({role:"dialog","aria-label":"Modal",ref:O,tabIndex:0,className:r()(d.Z.modalWrapper,f[a],t)},i&&{"data-automation-id":i,"data-testid":i},{style:{marginBottom:`${null!==(A=null==B?void 0:B.visibleHeight)&&void 0!==A?A:0}px`}}),n.createElement(m,null,n.createElement("div",{className:d.Z.modalContent},!w&&n.createElement(c.Z.Header,{className:r()(d.Z.headerWrapper,{[d.Z.emptyHeader]:!(x||l)})},null!=x?x:V,!P&&G),!D&&(null!=S?S:n.createElement(c.Z.Body,{className:d.Z.bodyWrapper},n.createElement(o.Text,{string:b,tag:"span"}))),!M&&(null!=N?N:n.createElement("div",{className:d.Z.footerWrapper},E&&n.createElement(p.PrimaryButton,{testID:"primary-action-button",className:r()(d.Z.actionButton,{[d.Z.alignedActionButton]:k}),onClick:I,href:k},E),C&&n.createElement(g(),{testID:"secondary-action-button",className:d.Z.actionButton,onClick:L},C)))))));return R?(0,u.createPortal)(W,R):W};b.displayName="Modal"},"./src/shared/CS/components/PageTitle/PageTitle.tsx":(e,t,a)=>{a.d(t,{V:()=>u});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i);const l="NsL8tJ",s="uxLS3H",o="TAFu+r",c="D7O3L5";var d=a("./src/util/utils/hooks/useRemasterGating.ts");const u=({title:e,entitlementIntent:t,theme:a})=>{const{enabled:i}=(0,d.F)();return n.createElement("h1",{"data-testid":"page-title",className:r()(l,{[o]:"NotEntitled"===t,[c]:"Store"===a&&!i,[s]:i})},e)}},"./src/shared/CS/components/SingleReactionButton/SingleReactionButton.tsx":(e,t,a)=>{a.d(t,{j:()=>T,o:()=>_});var n=a("./node_modules/react/index.js"),i=a("./src/shared/utils/events/index.ts"),r=a("./src/shared/CS/components/ActionForm/actionForm.tsx"),l=a("./node_modules/classnames/index.js"),s=a.n(l);const o="mPtDpI",c="JVQBsl",d="mO+eGr";var u=a("./node_modules/@amzn/dvui/dist/IconButton.js"),m=a("./node_modules/uuid/dist/esm-browser/v4.js");const p=({setAnimation:e})=>{const[t,a]=n.useState("");return n.useEffect((()=>a((0,m.Z)())),[]),n.useEffect((()=>{if(t){const a=document.getElementById(`addLike${t}`),n=()=>e(T.NoAnimation);return null==a||a.addEventListener("endEvent",n),()=>{null==a||a.removeEventListener("endEvent",n)}}}),[t,e]),n.createElement("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 60 60","data-testid":"addLike"},n.createElement("defs",null,n.createElement("animate",{id:`addLike${t}`,repeatCount:"1",dur:"1.1s",begin:"0s",xlinkHref:`#addLike_R_G_L_0_G_L_5_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"0",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;1;0;0",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_5_G${t}`,fill:"freeze",keyTimes:"0;0.2;0.3454545;0.6545455;1",path:"M75.23 87.88 C75.23,87.88 75.23,87.88 75.23,87.88 C75.23,87.88 54.08,40.25 54.08,40.25 C54.08,40.25 47,30.33 47,30.33 C47,30.33 47,30.33 47,30.33 ",keyPoints:"0;0;0.81;1;1",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_5_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"-180",type:"rotate",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;-100;-180;-180",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_5_G${t}`,fill:"freeze",attributeName:"transform",from:"2 2",to:"1.2 1.2",type:"scale",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"2 2;2 2;2 2;1.2 1.2;1.2 1.2",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_5_G${t}`,fill:"freeze",attributeName:"transform",from:"-36.062 -39.188",to:"-36.062 -39.188",type:"translate",additive:"sum",keyTimes:"0;1",values:"-36.062 -39.188;-36.062 -39.188",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_5_G_M${t}`,fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.9848485;0.9848485;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_4_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"0",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;1;0;0",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_4_G${t}`,fill:"freeze",keyTimes:"0;0.2;0.3454545;0.6545455;1",path:"M94.13 87.38 C94.13,87.38 94.13,87.38 94.13,87.38 C94.13,87.38 105.58,33 105.58,33 C105.58,33 114.58,21.25 114.58,21.25 C114.58,21.25 114.58,21.25 114.58,21.25 ",keyPoints:"0;0;0.79;1;1",keySplines:"0.4 0 0 1;0.4 0 0 1;0.403 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_4_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"140",type:"rotate",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;100;140;140",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_4_G${t}`,fill:"freeze",attributeName:"transform",from:"1.2 1.2",to:"1.2 1.2",type:"scale",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"1.2 1.2;1.2 1.2;2 2;1.2 1.2;1.2 1.2",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_4_G${t}`,fill:"freeze",attributeName:"transform",from:"-36.062 -39.062",to:"-36.062 -39.062",type:"translate",additive:"sum",keyTimes:"0;1",values:"-36.062 -39.062;-36.062 -39.062",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_4_G_M${t}`,fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.9848485;0.9848485;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_3_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"0",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;1;0;0",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_3_G${t}`,fill:"freeze",keyTimes:"0;0.2;0.3454545;0.6545455;1",path:"M62.25 86.4 C62.25,86.4 62.25,86.4 62.25,86.4 C62.25,86.4 47.25,59.75 47.25,59.75 C47.25,59.75 38,50.75 38,50.75 C38,50.75 38,50.75 38,50.75 ",keyPoints:"0;0;0.7;1;1",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_3_G${t}`,fill:"freeze",attributeName:"transform",from:"1.2 1.2",to:"1.6 1.6",type:"scale",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"1.2 1.2;1.2 1.2;1.6 1.6;1.6 1.6;1.6 1.6",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_2_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"0",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;1;0;0",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_2_G${t}`,fill:"freeze",keyTimes:"0;0.2;0.3454545;0.6545455;1",path:"M84.4 68.5 C84.4,68.5 84.4,68.5 84.4,68.5 C84.4,68.5 71.75,25.25 71.75,25.25 C71.75,25.25 66.25,15.25 66.25,15.25 C66.25,15.25 66.25,15.25 66.25,15.25 ",keyPoints:"0;0;0.8;1;1",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"1.2 1.2",to:"1.6 1.6",type:"scale",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"1.2 1.2;1.2 1.2;1.6 1.6;1.6 1.6;1.6 1.6",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_1_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"0",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"0;0;1;0;0",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",keyTimes:"0;0.2;0.3454545;0.6545455;1",path:"M102.25 88 C102.25,88 102.25,88 102.25,88 C102.25,88 106.5,56 106.5,56 C106.5,56 114.25,44.5 114.25,44.5 C114.25,44.5 114.25,44.5 114.25,44.5 ",keyPoints:"0;0;0.7;1;1",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.6 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"1.2 1.2",to:"2 2",type:"scale",additive:"sum",keyTimes:"0;0.2;0.3454545;0.6545455;1",values:"1.2 1.2;1.2 1.2;2 2;2 2;2 2",keySplines:"0.4 0 0 1;0.4 0 0 1;0.2 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_2_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"1",to:"0",keyTimes:"0;0.1545455;1",values:"1;0;0",keySplines:"0 0 0.183 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_2_G${t}`,fill:"freeze",keyTimes:"0;0.1545455;1",path:"M84 84 C84,84 84,88 84,88 C84,88 84,88 84,88 ",keyPoints:"0;1;1",keySplines:"0 0 0.192 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"5",type:"rotate",additive:"sum",keyTimes:"0;0.1545455;1",values:"0;5;5",keySplines:"0 0 0.192 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"2 2",to:"2 2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 2;2 2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"-42 -42",to:"-42 -42",type:"translate",additive:"sum",keyTimes:"0;1",values:"-42 -42;-42 -42",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_2_G_M${t}`,fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.9848485;0.9848485;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_1_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"1",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",values:"0;1;1;1;1;1",keySplines:"0 0 0.192 1;0.009 0 0.282 1;0 0 0 1;1 0 0.297 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",path:"M82 84 C82,84 82,88 82,88 C82,88 81.03,73.17 81.03,73.17 C81.03,73.17 81.03,73.17 81.03,73.17 C81.03,73.17 82,84 82,84 C82,84 82,84 82,84 ",keyPoints:"0;0.13;0.63;0.63;1;1",keySplines:"0 0 0.192 1;0.806 0 0.194 1;0 0 1 1;1 0 0.293 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",values:"0;5;-5;-5;0;0",keySplines:"0 0 0.192 1;0.806 0 0.2 1;0.333 0 0.667 1;1 0 0.299 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"2 2",to:"2 2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 2;2 2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"0.125 5.438",to:"0.125 5.438",type:"translate",additive:"sum",keyTimes:"0;1",values:"0.125 5.438;0.125 5.438",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_0_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"1",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",values:"0;1;1;1;1;1",keySplines:"0 0 0.2 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_0_G_D_0_P_0${t}`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ",to:"M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",values:"M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.9,-0.25 -5.9,-0.25 C-5.9,-0.25 1.4,-2.85 1.4,-2.85 C1.4,-2.85 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.8,-2.84 -5.8,-2.84 C-5.8,-2.84 0.07,-0.56 0.07,-0.56 C0.07,-0.56 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.8,-2.84 -5.8,-2.84 C-5.8,-2.84 0.07,-0.56 0.07,-0.56 C0.07,-0.56 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ",keySplines:"0 0 0.192 1;0.806 0 0.194 1;0.333 0 0.667 1;1 0 0.297 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",path:"M84 79.13 C84,79.13 82.95,86.5 82.95,86.5 C82.95,86.5 84.37,68.13 84.37,68.13 C84.37,68.13 84.37,68.13 84.37,68.13 C84.37,68.13 84,79.88 84,79.88 C84,79.88 84,79.88 84,79.88 ",keyPoints:"0;0.2;0.69;0.69;1;1",keySplines:"0 0 0.192 1;0.806 0 0.194 1;0.333 0.333 0.667 0.667;1 0 0.293 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.1545455;0.3454545;0.3636364;0.9818182;1",values:"0;20;-24;-24;0;0",keySplines:"0 0 0.192 1;0.806 0 0.194 1;0.333 0 0.667 1;1 0 0.293 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"1.1s",begin:`addLike${t}.begin`,xlinkHref:`#addLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"2 2",to:"2 2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 2;2 2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:"0",to:"1",xlinkHref:`#time_group${t}`})),n.createElement("g",{id:`addLike_R_G${t}`},n.createElement("g",{id:"addLike_R_G_L_0_G{suffix}",transform:" translate(30, 30) scale(0.4, 0.4) translate(-81.436, -84)"},n.createElement("g",{id:`addLike_R_G_L_0_G_L_5_G_M${t}`},n.createElement("g",{id:`addLike_R_G_L_0_G_L_5_G${t}`,opacity:"0.9986400000000001"},n.createElement("path",{id:`addLike_R_G_L_0_G_L_5_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M33.98 35.54 C33.98,35.54 36.38,37.52 36.38,37.52 C36.38,37.52 39.45,37 39.45,37 C39.45,37 37.46,39.39 37.46,39.39 C37.46,39.39 37.98,42.46 37.98,42.46 C37.98,42.46 35.59,40.48 35.59,40.48 C35.59,40.48 32.52,41 32.52,41 C32.52,41 34.51,38.6 34.51,38.6 C34.51,38.6 33.98,35.54 33.98,35.54z "}))),n.createElement("g",{id:`addLike_R_G_L_0_G_L_4_G_M${t}`},n.createElement("g",{id:`addLike_R_G_L_0_G_L_4_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_4_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M33.98 35.54 C33.98,35.54 36.38,37.52 36.38,37.52 C36.38,37.52 39.45,37 39.45,37 C39.45,37 37.46,39.39 37.46,39.39 C37.46,39.39 37.98,42.46 37.98,42.46 C37.98,42.46 35.59,40.48 35.59,40.48 C35.59,40.48 32.52,41 32.52,41 C32.52,41 34.51,38.6 34.51,38.6 C34.51,38.6 33.98,35.54 33.98,35.54z "}))),n.createElement("g",{id:`addLike_R_G_L_0_G_L_3_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_3_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M0 -2 C1.1,-2 2,-1.1 2,0 C2,1.1 1.1,2 0,2 C-1.1,2 -2,1.1 -2,0 C-2,-1.1 -1.1,-2 0,-2z "})),n.createElement("g",{id:`addLike_R_G_L_0_G_L_2_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_2_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M0 -2 C1.1,-2 2,-1.1 2,0 C2,1.1 1.1,2 0,2 C-1.1,2 -2,1.1 -2,0 C-2,-1.1 -1.1,-2 0,-2z "})),n.createElement("g",{id:`addLike_R_G_L_0_G_L_1_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_1_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M0 -2 C1.1,-2 2,-1.1 2,0 C2,1.1 1.1,2 0,2 C-1.1,2 -2,1.1 -2,0 C-2,-1.1 -1.1,-2 0,-2z "})),n.createElement("g",{id:`addLike_R_G_L_0_G_L_0_G${t}`,transform:" translate(84, 84) scale(1.2, 1.2) translate(-84, -84)"},n.createElement("g",{id:`addLike_R_G_L_0_G_L_0_G_L_2_G_M${t}`},n.createElement("g",{id:`addLike_R_G_L_0_G_L_0_G_L_2_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_0_G_L_2_G_D_0_P_0${t}`,"fill-opacity":"1","fill-rule":"nonzero",d:" M25.98 45.62 C25.98,45.62 25.98,52.44 25.98,52.44 C25.98,53.63 26.45,54.78 27.3,55.62 C28.14,56.47 29.29,56.94 30.48,56.94 C30.48,56.94 49.57,56.94 49.57,56.94 C50.63,56.94 51.65,56.57 52.45,55.9 C53.26,55.22 53.81,54.29 54,53.25 C54,53.25 55.9,42.75 55.9,42.75 C56.02,42.1 56,41.44 55.83,40.8 C55.66,40.16 55.35,39.57 54.93,39.06 C54.51,38.55 53.98,38.15 53.38,37.87 C52.79,37.59 52.14,37.44 51.48,37.44 C51.48,37.44 44.64,37.44 44.64,37.44 C44.64,37.44 45.48,35.3 45.48,35.3 C45.83,34.36 45.95,33.35 45.82,32.35 C45.69,31.36 45.33,30.41 44.75,29.59 C44.18,28.77 43.41,28.1 42.52,27.64 C41.63,27.17 40.65,26.94 39.64,26.94 C39.35,26.94 39.07,27.03 38.83,27.18 C38.59,27.34 38.4,27.56 38.28,27.83 C38.28,27.83 34,37.44 34,37.44 C34,37.44 30.48,37.44 30.48,37.44 C29.29,37.44 28.14,37.91 27.3,38.76 C26.45,39.6 25.98,40.75 25.98,41.94 C25.98,41.94 25.98,46.71 25.98,46.71 C25.98,46.71 28.98,45.84 28.98,45.84 C28.98,45.84 28.98,41.94 28.98,41.94 C28.98,41.54 29.14,41.16 29.42,40.88 C29.7,40.6 30.08,40.44 30.48,40.44 C30.48,40.44 33.48,40.44 33.48,40.44 C33.48,40.44 33.26,55.3 33.26,55.3 C33.26,55.3 36.04,54.32 36.04,54.32 C36.04,54.32 36.48,39.26 36.48,39.26 C36.48,39.26 40.56,30.08 40.56,30.08 C40.98,30.2 41.37,30.41 41.7,30.69 C42.04,30.97 42.31,31.32 42.51,31.71 C42.7,32.1 42.81,32.53 42.83,32.96 C42.86,33.4 42.79,33.84 42.63,34.25 C42.63,34.25 41.83,36.39 41.83,36.39 C41.67,36.84 41.61,37.33 41.67,37.81 C41.73,38.29 41.9,38.75 42.18,39.15 C42.45,39.55 42.82,39.87 43.25,40.1 C43.68,40.32 44.16,40.44 44.64,40.44 C44.64,40.44 51.48,40.44 51.48,40.44 C51.7,40.44 51.92,40.49 52.12,40.58 C52.32,40.67 52.49,40.81 52.63,40.98 C52.78,41.15 52.88,41.34 52.94,41.56 C53,41.77 53.02,41.99 52.98,42.21 C52.98,42.21 51.07,52.71 51.07,52.71 C51.01,53.06 50.82,53.38 50.55,53.6 C50.27,53.83 49.93,53.95 49.57,53.94 C49.57,53.94 36.48,53.94 36.48,53.94 C36.48,53.94 33.48,53.94 33.48,53.94 C33.48,53.94 30.48,53.94 30.48,53.94 C30.08,53.94 29.7,53.78 29.42,53.5 C29.14,53.22 28.98,52.84 28.98,52.44 C28.98,52.44 28.98,45.04 28.98,45.04 C28.98,45.04 25.98,45.62 25.98,45.62z "}))),n.createElement("g",{id:`addLike_R_G_L_0_G_L_0_G_L_1_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_0_G_L_1_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M-14.16 -4.95 C-14.16,-7.05 -12.46,-8.75 -10.36,-8.75 C-10.36,-8.75 -8.66,-8.75 -8.66,-8.75 C-7.84,-8.75 -7.16,-8.08 -7.16,-7.25 C-7.16,-7.25 -7.16,7.25 -7.16,7.25 C-7.16,8.08 -7.84,8.75 -8.66,8.75 C-8.66,8.75 -10.36,8.75 -10.36,8.75 C-12.46,8.75 -14.16,7.05 -14.16,4.95 C-14.16,4.95 -14.16,-4.95 -14.16,-4.95z  M10.36 -8.75 C10.36,-8.75 1.86,-8.75 1.86,-8.75 C1.86,-8.75 -5.14,-8.75 -5.14,-8.75 C-5.14,-8.75 -5.14,7.75 -5.14,7.75 C-5.14,8.3 -4.7,8.75 -4.15,8.75 C-4.15,8.75 8.36,8.75 8.36,8.75 C10.36,8.75 11.69,6.92 11.86,6.25 C11.98,5.75 13.86,-4.25 13.86,-4.25 C13.86,-4.25 13.91,-4.78 13.91,-4.78 C14.15,-6.9 12.49,-8.75 10.36,-8.75z "})),n.createElement("g",{id:`addLike_R_G_L_0_G_L_0_G_L_0_G${t}`},n.createElement("path",{id:`addLike_R_G_L_0_G_L_0_G_L_0_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z "}))))),n.createElement("g",{id:`time_group${t}`}))},g=({setAnimation:e})=>{const[t,a]=n.useState("");return n.useEffect((()=>a((0,m.Z)())),[]),n.useEffect((()=>{if(t){const a=document.getElementById(`removeLike${t}`),n=()=>e(T.NoAnimation);return null==a||a.addEventListener("endEvent",n),()=>{null==a||a.removeEventListener("endEvent",n)}}}),[t,e]),n.createElement("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 60 60","data-testid":"removeLike"},n.createElement("defs",null,n.createElement("animate",{id:`removeLike${t}`,repeatCount:"1",dur:"0.5s",begin:"0s",xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_1_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"1",keyTimes:"0;0.32;0.48;1",values:"0;0;1;1",keySplines:"0 0 0.667 1;0.012 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",keyTimes:"0;0.16;0.32;0.48;0.72;1",path:"M84 84 C84,84 78,84 78,84 C78,84 90,84 90,84 C90,84 78,84 78,84 C78,84 84,84 84,84 C84,84 84,84 84,84 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.16;0.32;0.48;0.72;1",values:"0;-5;5;-5;0;0",keySplines:"0 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"2 2",to:"2 2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 2;2 2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"-42 -42",to:"-42 -42",type:"translate",additive:"sum",keyTimes:"0;1",values:"-42 -42;-42 -42",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_0_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"1",to:"0",keyTimes:"0;0.32;0.48;1",values:"1;1;0;0",keySplines:"0 0 0.667 1;0.012 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",keyTimes:"0;0.16;0.32;0.48;0.72;1",path:"M82 84 C82,84 78,84 78,84 C78,84 90,84 90,84 C90,84 78,84 78,84 C78,84 82,84 82,84 C82,84 82,84 82,84 ",keyPoints:"0;0.13;0.5;0.88;1;1",keySplines:"0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.16;0.32;0.48;0.72;1",values:"0;-5;5;-5;0;0",keySplines:"0 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"2 2",to:"2 2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 2;2 2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeLike${t}.begin`,xlinkHref:`#removeLike_R_G_L_0_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"0.125 5.438",to:"0.125 5.438",type:"translate",additive:"sum",keyTimes:"0;1",values:"0.125 5.438;0.125 5.438",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:"0",to:"1",xlinkHref:`#time_group${t}`})),n.createElement("g",{id:`removeLike_R_G${t}`},n.createElement("g",{id:`removeLike_R_G_L_0_G${t}`,transform:" translate(30, 30) scale(0.42, 0.42) translate(-84, -84)"},n.createElement("g",{id:`removeLike_R_G_L_0_G_L_0_G${t}`,transform:" translate(87, 84) scale(1.17, 1.17) translate(-84, -84)"},n.createElement("g",{id:`removeLike_R_G_L_0_G_L_0_G_L_1_G${t}`},n.createElement("path",{id:`removeLike_R_G_L_0_G_L_0_G_L_1_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M25.98 45.62 C25.98,45.62 25.98,52.44 25.98,52.44 C25.98,53.63 26.45,54.78 27.3,55.62 C28.14,56.47 29.29,56.94 30.48,56.94 C30.48,56.94 49.57,56.94 49.57,56.94 C50.63,56.94 51.65,56.57 52.45,55.9 C53.26,55.22 53.81,54.29 54,53.25 C54,53.25 55.9,42.75 55.9,42.75 C56.02,42.1 56,41.44 55.83,40.8 C55.66,40.16 55.35,39.57 54.93,39.06 C54.51,38.55 53.98,38.15 53.38,37.87 C52.79,37.59 52.14,37.44 51.48,37.44 C51.48,37.44 44.64,37.44 44.64,37.44 C44.64,37.44 45.48,35.3 45.48,35.3 C45.83,34.36 45.95,33.35 45.82,32.35 C45.69,31.36 45.33,30.41 44.75,29.59 C44.18,28.77 43.41,28.1 42.52,27.64 C41.63,27.17 40.65,26.94 39.64,26.94 C39.35,26.94 39.07,27.03 38.83,27.18 C38.59,27.34 38.4,27.56 38.28,27.83 C38.28,27.83 34,37.44 34,37.44 C34,37.44 30.48,37.44 30.48,37.44 C29.29,37.44 28.14,37.91 27.3,38.76 C26.45,39.6 25.98,40.75 25.98,41.94 C25.98,41.94 25.98,46.71 25.98,46.71 C25.98,46.71 28.98,45.84 28.98,45.84 C28.98,45.84 28.98,41.94 28.98,41.94 C28.98,41.54 29.14,41.16 29.42,40.88 C29.7,40.6 30.08,40.44 30.48,40.44 C30.48,40.44 33.48,40.44 33.48,40.44 C33.48,40.44 33.51,55.29 33.51,55.29 C33.51,55.29 36.48,54.32 36.48,54.32 C36.48,54.32 36.48,39.26 36.48,39.26 C36.48,39.26 40.56,30.08 40.56,30.08 C40.98,30.2 41.37,30.41 41.7,30.69 C42.04,30.97 42.31,31.32 42.51,31.71 C42.7,32.1 42.81,32.53 42.83,32.96 C42.86,33.4 42.79,33.84 42.63,34.25 C42.63,34.25 41.83,36.39 41.83,36.39 C41.67,36.84 41.61,37.33 41.67,37.81 C41.73,38.29 41.9,38.75 42.18,39.15 C42.45,39.55 42.82,39.87 43.25,40.1 C43.68,40.32 44.16,40.44 44.64,40.44 C44.64,40.44 51.48,40.44 51.48,40.44 C51.7,40.44 51.92,40.49 52.12,40.58 C52.32,40.67 52.49,40.81 52.63,40.98 C52.78,41.15 52.88,41.34 52.94,41.56 C53,41.77 53.02,41.99 52.98,42.21 C52.98,42.21 51.07,52.71 51.07,52.71 C51.01,53.06 50.82,53.38 50.55,53.6 C50.27,53.83 49.93,53.95 49.57,53.94 C49.57,53.94 36.48,53.94 36.48,53.94 C36.48,53.94 34.29,53.94 34.29,53.94 C34.29,53.94 30.48,53.94 30.48,53.94 C30.08,53.94 29.7,53.78 29.42,53.5 C29.14,53.22 28.98,52.84 28.98,52.44 C28.98,52.44 28.98,45.04 28.98,45.04 C28.98,45.04 25.98,45.62 25.98,45.62z "})),n.createElement("g",{id:`removeLike_R_G_L_0_G_L_0_G_L_0_G${t}`},n.createElement("path",{id:`removeLike_R_G_L_0_G_L_0_G_L_0_G_D_0_P_0${t}`,"fill-opacity":"1","fill-rule":"nonzero",d:" M-1.91 -18.77 C-1.91,-18.77 -4.9,-11.95 -4.9,-11.95 C-5.06,-11.57 -5.15,-11.16 -5.15,-10.74 C-5.15,-10.74 -5.15,-7.14 -5.15,-7.14 C-5.15,-7.14 1.26,-7.79 1.26,-7.79 C1.26,-7.79 2.55,-10.57 2.55,-10.57 C3.41,-12.41 4.11,-14.56 3.13,-16.35 C2.13,-18.18 0.28,-19.07 -1,-19.31 C-1.39,-19.38 -1.75,-19.14 -1.91,-18.77z  M-14.16 -4.95 C-14.16,-7.05 -12.46,-8.75 -10.36,-8.75 C-10.36,-8.75 -8.66,-8.75 -8.66,-8.75 C-7.84,-8.75 -7.16,-8.08 -7.16,-7.25 C-7.16,-7.25 -7.16,7.25 -7.16,7.25 C-7.16,8.08 -7.84,8.75 -8.66,8.75 C-8.66,8.75 -10.36,8.75 -10.36,8.75 C-12.46,8.75 -14.16,7.05 -14.16,4.95 C-14.16,4.95 -14.16,-4.95 -14.16,-4.95z  M10.36 -8.75 C10.36,-8.75 1.86,-8.75 1.86,-8.75 C1.86,-8.75 -5.14,-8.75 -5.14,-8.75 C-5.14,-8.75 -5.14,7.75 -5.14,7.75 C-5.14,8.3 -4.7,8.75 -4.15,8.75 C-4.15,8.75 8.36,8.75 8.36,8.75 C10.36,8.75 11.69,6.92 11.86,6.25 C11.98,5.75 13.86,-4.25 13.86,-4.25 C13.86,-4.25 13.91,-4.78 13.91,-4.78 C14.15,-6.9 12.49,-8.75 10.36,-8.75z "}))))),n.createElement("g",{id:`time_group${t}`}))},v=()=>n.createElement("svg",{className:d,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"thumbUpFilled"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.76 26.5183C17.8109 26.5183 16.2308 28.0984 16.2308 30.0476V40.1466C16.2308 42.0957 17.8109 43.6758 19.76 43.6758H21.4762C22.3696 43.6758 23.0938 42.9516 23.0938 42.0583V28.1359C23.0938 27.2426 22.3696 26.5183 21.4762 26.5183H19.76ZM31.9224 26.5183H40.256C42.3481 26.5183 43.9757 28.3368 43.7447 30.4161L43.6875 30.9303C43.6875 30.9303 41.8492 40.7345 41.7267 41.2248C41.5633 41.8784 40.256 43.6758 38.2952 43.6758H26.5297C25.7175 43.6758 25.0594 43.0175 25.0594 42.2053V24.9901C25.0594 24.3815 25.1854 23.7794 25.4293 23.2218L28.1054 17.105C28.3396 16.5697 28.8739 16.2132 29.4405 16.3557C30.3674 16.5887 31.5054 17.1425 32.3976 18.1082C34.3522 20.2241 33.2788 23.4665 32.1089 26.0988L31.9224 26.5183Z"})),h=()=>n.createElement("svg",{className:d,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"thumbUpOutlined"},n.createElement("path",{d:"M43.7186 27.1678C43.3041 26.6702 42.7855 26.2696 42.1992 25.9943C41.613 25.719 40.9735 25.5758 40.3258 25.5747H33.5993L34.4253 23.4652C34.7689 22.5416 34.8834 21.5484 34.7588 20.5709C34.6342 19.5934 34.2744 18.6606 33.7102 17.8527C33.1459 17.0448 32.3941 16.3858 31.5192 15.9322C30.6444 15.4787 29.6725 15.2442 28.6871 15.2488C28.4033 15.2493 28.1258 15.3318 27.8877 15.4861C27.6496 15.6405 27.461 15.8603 27.3447 16.1191L23.1406 25.5747H19.674C18.5004 25.5747 17.3747 26.0409 16.5448 26.8708C15.7149 27.7007 15.2487 28.8263 15.2487 30V40.3259C15.2487 41.4996 15.7149 42.6252 16.5448 43.4551C17.3747 44.2851 18.5004 44.7513 19.674 44.7513H38.4524C39.4877 44.751 40.4901 44.3877 41.2851 43.7247C42.0802 43.0616 42.6177 42.1408 42.8041 41.1225L44.6775 30.7966C44.7933 30.1584 44.7675 29.5026 44.6018 28.8755C44.4361 28.2484 44.1346 27.6654 43.7186 27.1678ZM22.6243 41.8011H19.674C19.2828 41.8011 18.9076 41.6456 18.631 41.369C18.3543 41.0924 18.1989 40.7172 18.1989 40.3259V30C18.1989 29.6088 18.3543 29.2336 18.631 28.957C18.9076 28.6803 19.2828 28.5249 19.674 28.5249H22.6243V41.8011ZM41.801 30.2656L39.9276 40.5915C39.8647 40.9351 39.682 41.2453 39.4118 41.4668C39.1417 41.6883 38.8017 41.8068 38.4524 41.8011H25.5746V27.3596L29.5869 18.3318C29.9999 18.4522 30.3835 18.6569 30.7134 18.933C31.0433 19.2091 31.3124 19.5506 31.5037 19.936C31.695 20.3213 31.8043 20.7421 31.8248 21.1718C31.8452 21.6016 31.7764 22.0309 31.6226 22.4326L30.8408 24.5421C30.6742 24.9879 30.6179 25.4675 30.6768 25.9398C30.7357 26.4121 30.9081 26.8631 31.1791 27.2544C31.4501 27.6457 31.8117 27.9656 32.2331 28.1869C32.6546 28.4081 33.1233 28.5241 33.5993 28.5249H40.3258C40.5426 28.5246 40.7567 28.572 40.953 28.6637C41.1493 28.7555 41.323 28.8894 41.4617 29.056C41.6038 29.2202 41.7079 29.4137 41.7665 29.6228C41.8252 29.8319 41.8369 30.0514 41.801 30.2656Z"})),y=({setAnimation:e})=>{const[t,a]=n.useState("");return n.useEffect((()=>a((0,m.Z)())),[]),n.useEffect((()=>{if(t){const a=document.getElementById(`addDislike${t}`),n=()=>e(T.NoAnimation);return null==a||a.addEventListener("endEvent",n),()=>{null==a||a.removeEventListener("endEvent",n)}}}),[t,e]),n.createElement("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 60 60","data-testid":"addDislike"},n.createElement("defs",null,n.createElement("animate",{id:`addDislike${t}`,repeatCount:"1",dur:"0.6s",begin:"0s",xlinkHref:`#addDislike_R_G_L_0_G_L_2_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"1",to:"0",keyTimes:"0;0.2833333;0.45;1",values:"1;1;0;0",keySplines:"0 0 0.541 1;0.441 0.166 0.838 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_2_G${t}`,fill:"freeze",keyTimes:"0;0.2833333;0.4166667;1",path:"M86.05 86.5 C86.05,86.5 83.5,82.25 83.5,82.25 C83.5,82.25 84,86.5 84,86.5 C84,86.5 86.05,84.5 86.05,84.5 ",keyPoints:"0;0.41;0.76;1",keySplines:"0 0 0.667 1;0 0 0.667 1;0 0 0.667 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.2833333;0.4166667;1",values:"0;-6;0;0",keySplines:"0 0 0.833 1;0.167 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"2 -2",to:"2 -2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 -2;2 -2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_2_G${t}`,fill:"freeze",attributeName:"transform",from:"-42 -42",to:"-42 -42",type:"translate",additive:"sum",keyTimes:"0;1",values:"-42 -42;-42 -42",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_1_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"1",keyTimes:"0;0.2833333;0.45;0.5;1",values:"0;0;1;1;1",keySplines:"0.336 0 0.661 0;0.324 0.159 0.654 0.874;0.28 1 0.596 0.282;0.309 1 0.641 1",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",keyTimes:"0;0.2833333;0.5;1",path:"M84.05 86.5 C84.05,86.5 81,82.25 81,82.25 C81,82.25 82,90.75 82,90.75 C82,90.75 83.8,87.25 83.8,87.25 ",keyPoints:"0;0.3;0.78;1",keySplines:"0.403 0 0.72 1;0.407 0 0.55 0.935;0.275 0.201 0.6 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.2833333;0.5;1",values:"0;-6;6;0",keySplines:"0.318 0 0.617 1;0.302 0 0.572 0.923;0.297 0 0.626 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"2 -2",to:"2 -2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 -2;2 -2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"0.125 5.438",to:"0.125 5.438",type:"translate",additive:"sum",keyTimes:"0;1",values:"0.125 5.438;0.125 5.438",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_0_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"1",keyTimes:"0;0.2833333;0.45;0.5;1",values:"0;0;1;1;1",keySplines:"0.251 0 0.599 0;0.316 0.141 0.652 0.893;0.32 1 0.679 0.136;0.361 1 0.701 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_0_G_D_0_P_0${t}`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ",to:"M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ",keyTimes:"0;0.5;1",values:"M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ;M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z ",keySplines:"0.167 0 0.833 0.833;0.167 0.167 0.297 1",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",keyTimes:"0;0.2833333;0.5;1",path:"M86.05 91.63 C86.05,91.63 83.5,87.44 83.5,87.44 C83.5,87.44 84,95.85 84,95.85 C84,95.85 85.8,92.38 85.8,92.38 ",keyPoints:"0;0.28;0.77;1",keySplines:"0.403 0 0.72 1;0.407 0 0.55 0.935;0.275 0.197 0.6 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.2833333;0.4;0.5;1",values:"0;-6;0.515;16;0",keySplines:"0.32 0 0.617 1;0.329 0 0.638 0.048;0.294 0.279 0.618 0.975;0.296 0 0.626 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.6s",begin:`addDislike${t}.begin`,xlinkHref:`#addDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"2 -2",to:"2 -2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 -2;2 -2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:"0",to:"1",xlinkHref:`#time_group${t}`})),n.createElement("g",{id:`addDislike_R_G${t}`},n.createElement("g",{id:`addDislike_R_G_L_0_G${t}`,transform:" translate(30, 30) scale(0.5, 0.5) translate(-84, -84)"},n.createElement("g",{id:`addDislike_R_G_L_0_G_L_2_G${t}`},n.createElement("path",{id:`addDislike_R_G_L_0_G_L_2_G_D_0_P_0${t}`,"fill-opacity":"1","fill-rule":"nonzero",d:" M25.98 45.62 C25.98,45.62 25.98,52.44 25.98,52.44 C25.98,53.63 26.45,54.78 27.3,55.62 C28.14,56.47 29.29,56.94 30.48,56.94 C30.48,56.94 49.57,56.94 49.57,56.94 C50.63,56.94 51.65,56.57 52.45,55.9 C53.26,55.22 53.81,54.29 54,53.25 C54,53.25 55.9,42.75 55.9,42.75 C56.02,42.1 56,41.44 55.83,40.8 C55.66,40.16 55.35,39.57 54.93,39.06 C54.51,38.55 53.98,38.15 53.38,37.87 C52.79,37.59 52.14,37.44 51.48,37.44 C51.48,37.44 44.64,37.44 44.64,37.44 C44.64,37.44 45.48,35.3 45.48,35.3 C45.83,34.36 45.95,33.35 45.82,32.35 C45.69,31.36 45.33,30.41 44.75,29.59 C44.18,28.77 43.41,28.1 42.52,27.64 C41.63,27.17 40.65,26.94 39.64,26.94 C39.35,26.94 39.07,27.03 38.83,27.18 C38.59,27.34 38.4,27.56 38.28,27.83 C38.28,27.83 34,37.44 34,37.44 C34,37.44 30.48,37.44 30.48,37.44 C29.29,37.44 28.14,37.91 27.3,38.76 C26.45,39.6 25.98,40.75 25.98,41.94 C25.98,41.94 25.98,46.71 25.98,46.71 C25.98,46.71 28.98,45.84 28.98,45.84 C28.98,45.84 28.98,41.94 28.98,41.94 C28.98,41.54 29.14,41.16 29.42,40.88 C29.7,40.6 30.08,40.44 30.48,40.44 C30.48,40.44 33.48,40.44 33.48,40.44 C33.48,40.44 33.26,55.3 33.26,55.3 C33.26,55.3 36.04,54.32 36.04,54.32 C36.04,54.32 36.48,39.26 36.48,39.26 C36.48,39.26 40.56,30.08 40.56,30.08 C40.98,30.2 41.37,30.41 41.7,30.69 C42.04,30.97 42.31,31.32 42.51,31.71 C42.7,32.1 42.81,32.53 42.83,32.96 C42.86,33.4 42.79,33.84 42.63,34.25 C42.63,34.25 41.83,36.39 41.83,36.39 C41.67,36.84 41.61,37.33 41.67,37.81 C41.73,38.29 41.9,38.75 42.18,39.15 C42.45,39.55 42.82,39.87 43.25,40.1 C43.68,40.32 44.16,40.44 44.64,40.44 C44.64,40.44 51.48,40.44 51.48,40.44 C51.7,40.44 51.92,40.49 52.12,40.58 C52.32,40.67 52.49,40.81 52.63,40.98 C52.78,41.15 52.88,41.34 52.94,41.56 C53,41.77 53.02,41.99 52.98,42.21 C52.98,42.21 51.07,52.71 51.07,52.71 C51.01,53.06 50.82,53.38 50.55,53.6 C50.27,53.83 49.93,53.95 49.57,53.94 C49.57,53.94 36.48,53.94 36.48,53.94 C36.48,53.94 33.48,53.94 33.48,53.94 C33.48,53.94 30.48,53.94 30.48,53.94 C30.08,53.94 29.7,53.78 29.42,53.5 C29.14,53.22 28.98,52.84 28.98,52.44 C28.98,52.44 28.98,45.04 28.98,45.04 C28.98,45.04 25.98,45.62 25.98,45.62z "})),n.createElement("g",{id:`addDislike_R_G_L_0_G_L_1_G${t}`},n.createElement("path",{id:`addDislike_R_G_L_0_G_L_1_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M-14.16 -4.95 C-14.16,-7.05 -12.46,-8.75 -10.36,-8.75 C-10.36,-8.75 -8.66,-8.75 -8.66,-8.75 C-7.84,-8.75 -7.16,-8.08 -7.16,-7.25 C-7.16,-7.25 -7.16,7.25 -7.16,7.25 C-7.16,8.08 -7.84,8.75 -8.66,8.75 C-8.66,8.75 -10.36,8.75 -10.36,8.75 C-12.46,8.75 -14.16,7.05 -14.16,4.95 C-14.16,4.95 -14.16,-4.95 -14.16,-4.95z  M10.36 -8.75 C10.36,-8.75 1.86,-8.75 1.86,-8.75 C1.86,-8.75 -5.14,-8.75 -5.14,-8.75 C-5.14,-8.75 -5.14,7.75 -5.14,7.75 C-5.14,8.3 -4.7,8.75 -4.15,8.75 C-4.15,8.75 8.36,8.75 8.36,8.75 C10.36,8.75 11.69,6.92 11.86,6.25 C11.98,5.75 13.86,-4.25 13.86,-4.25 C13.86,-4.25 13.91,-4.78 13.91,-4.78 C14.15,-6.9 12.49,-8.75 10.36,-8.75z "})),n.createElement("g",{id:`addDislike_R_G_L_0_G_L_0_G${t}`},n.createElement("path",{id:`addDislike_R_G_L_0_G_L_0_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M-2.73 -11.53 C-2.73,-11.53 -5.71,-4.7 -5.71,-4.7 C-5.88,-4.32 -5.97,-3.91 -5.97,-3.5 C-5.97,-3.5 -5.96,-0.58 -5.96,-0.58 C-5.96,-0.58 0.44,-0.54 0.44,-0.54 C0.44,-0.54 1.73,-3.32 1.73,-3.32 C2.59,-5.17 3.29,-7.31 2.31,-9.1 C1.31,-10.93 -0.53,-11.83 -1.82,-12.06 C-2.21,-12.13 -2.57,-11.89 -2.73,-11.53z "})))),n.createElement("g",{id:`time_group${t}`}))},f=({setAnimation:e})=>{const[t,a]=n.useState("");return n.useEffect((()=>a((0,m.Z)())),[]),n.useEffect((()=>{if(t){const a=document.getElementById(`removeDislike${t}`),n=()=>e(T.NoAnimation);return null==a||a.addEventListener("endEvent",n),()=>{null==a||a.removeEventListener("endEvent",n)}}}),[t,e]),n.createElement("svg",{className:d,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 60 60","data-testid":"removeDislike"},n.createElement("defs",null,n.createElement("animate",{id:`removeDislike${t}`,repeatCount:"1",dur:"0.5s",begin:"0s",xlinkHref:`#removeDislike_R_G_L_0_G_L_1_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"0",to:"1",keyTimes:"0;0.32;0.48;1",values:"0;0;1;1",keySplines:"0 0 0.667 1;0.012 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",keyTimes:"0;0.16;0.32;0.48;0.72;1",path:"M82 84.5 C82,84.5 76,82 76,82 C76,82 90,81.75 90,81.75 C90,81.75 76,82 76,82 C76,82 82,83.5 82,83.5 C82,83.5 82,83.5 82,83.5 ",keyPoints:"0;0.16;0.5;0.85;1;1",keySplines:"0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.16;0.32;0.48;0.72;1",values:"0;-5;5;-5;0;0",keySplines:"0 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"2 -2",to:"2 -2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 -2;2 -2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_1_G${t}`,fill:"freeze",attributeName:"transform",from:"-42 -42",to:"-42 -42",type:"translate",additive:"sum",keyTimes:"0;1",values:"-42 -42;-42 -42",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_0_G_D_0_P_0${t}`,fill:"freeze",attributeName:"fill-opacity",from:"1",to:"0",keyTimes:"0;0.32;0.48;1",values:"1;1;0;0",keySplines:"0 0 0.667 1;0.012 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateMotion",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",keyTimes:"0;0.16;0.32;0.48;0.72;1",path:"M80 84.5 C80,84.5 76,82 76,82 C76,82 88,82 88,82 C88,82 76,82 76,82 C76,82 80,83.5 80,83.5 C80,83.5 80,83.5 80,83.5 ",keyPoints:"0;0.14;0.51;0.87;1;1",keySplines:"0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"0",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.16;0.32;0.48;0.72;1",values:"0;-5;5;-5;0;0",keySplines:"0 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0.167 0 0.667 1;0 0 0 0",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"2 -2",to:"2 -2",type:"scale",additive:"sum",keyTimes:"0;1",values:"2 -2;2 -2",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animateTransform",{repeatCount:"1",dur:"0.5s",begin:`removeDislike${t}.begin`,xlinkHref:`#removeDislike_R_G_L_0_G_L_0_G${t}`,fill:"freeze",attributeName:"transform",from:"0.125 5.438",to:"0.125 5.438",type:"translate",additive:"sum",keyTimes:"0;1",values:"0.125 5.438;0.125 5.438",keySplines:"0 0 1 1",calcMode:"spline"}),n.createElement("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:"0",to:"1",xlinkHref:`#time_group${t}`})),n.createElement("g",{id:`removeDislike_R_G${t}`},n.createElement("g",{id:`removeDislike_R_G_L_0_G${t}`,transform:" translate(31.062, 30) scale(0.5, 0.5) translate(-82, -82)"},n.createElement("g",{id:`removeDislike_R_G_L_0_G_L_1_G${t}`},n.createElement("path",{id:`removeDislike_R_G_L_0_G_L_1_G_D_0_P_0${t}`,"fill-opacity":"0","fill-rule":"nonzero",d:" M25.98 45.62 C25.98,45.62 25.98,52.44 25.98,52.44 C25.98,53.63 26.45,54.78 27.3,55.62 C28.14,56.47 29.29,56.94 30.48,56.94 C30.48,56.94 49.57,56.94 49.57,56.94 C50.63,56.94 51.65,56.57 52.45,55.9 C53.26,55.22 53.81,54.29 54,53.25 C54,53.25 55.9,42.75 55.9,42.75 C56.02,42.1 56,41.44 55.83,40.8 C55.66,40.16 55.35,39.57 54.93,39.06 C54.51,38.55 53.98,38.15 53.38,37.87 C52.79,37.59 52.14,37.44 51.48,37.44 C51.48,37.44 44.64,37.44 44.64,37.44 C44.64,37.44 45.48,35.3 45.48,35.3 C45.83,34.36 45.95,33.35 45.82,32.35 C45.69,31.36 45.33,30.41 44.75,29.59 C44.18,28.77 43.41,28.1 42.52,27.64 C41.63,27.17 40.65,26.94 39.64,26.94 C39.35,26.94 39.07,27.03 38.83,27.18 C38.59,27.34 38.4,27.56 38.28,27.83 C38.28,27.83 34,37.44 34,37.44 C34,37.44 30.48,37.44 30.48,37.44 C29.29,37.44 28.14,37.91 27.3,38.76 C26.45,39.6 25.98,40.75 25.98,41.94 C25.98,41.94 25.98,46.71 25.98,46.71 C25.98,46.71 28.98,45.84 28.98,45.84 C28.98,45.84 28.98,41.94 28.98,41.94 C28.98,41.54 29.14,41.16 29.42,40.88 C29.7,40.6 30.08,40.44 30.48,40.44 C30.48,40.44 33.48,40.44 33.48,40.44 C33.48,40.44 33.51,55.29 33.51,55.29 C33.51,55.29 36.48,54.32 36.48,54.32 C36.48,54.32 36.48,39.26 36.48,39.26 C36.48,39.26 40.56,30.08 40.56,30.08 C40.98,30.2 41.37,30.41 41.7,30.69 C42.04,30.97 42.31,31.32 42.51,31.71 C42.7,32.1 42.81,32.53 42.83,32.96 C42.86,33.4 42.79,33.84 42.63,34.25 C42.63,34.25 41.83,36.39 41.83,36.39 C41.67,36.84 41.61,37.33 41.67,37.81 C41.73,38.29 41.9,38.75 42.18,39.15 C42.45,39.55 42.82,39.87 43.25,40.1 C43.68,40.32 44.16,40.44 44.64,40.44 C44.64,40.44 51.48,40.44 51.48,40.44 C51.7,40.44 51.92,40.49 52.12,40.58 C52.32,40.67 52.49,40.81 52.63,40.98 C52.78,41.15 52.88,41.34 52.94,41.56 C53,41.77 53.02,41.99 52.98,42.21 C52.98,42.21 51.07,52.71 51.07,52.71 C51.01,53.06 50.82,53.38 50.55,53.6 C50.27,53.83 49.93,53.95 49.57,53.94 C49.57,53.94 36.48,53.94 36.48,53.94 C36.48,53.94 34.29,53.94 34.29,53.94 C34.29,53.94 30.48,53.94 30.48,53.94 C30.08,53.94 29.7,53.78 29.42,53.5 C29.14,53.22 28.98,52.84 28.98,52.44 C28.98,52.44 28.98,45.04 28.98,45.04 C28.98,45.04 25.98,45.62 25.98,45.62z "})),n.createElement("g",{id:`removeDislike_R_G_L_0_G_L_0_G${t}`},n.createElement("path",{id:`removeDislike_R_G_L_0_G_L_0_G_D_0_P_0${t}`,"fill-opacity":"1","fill-rule":"nonzero",d:" M-1.91 -18.77 C-1.91,-18.77 -4.9,-11.95 -4.9,-11.95 C-5.06,-11.57 -5.15,-11.16 -5.15,-10.74 C-5.15,-10.74 -5.15,-7.14 -5.15,-7.14 C-5.15,-7.14 1.26,-7.79 1.26,-7.79 C1.26,-7.79 2.55,-10.57 2.55,-10.57 C3.41,-12.41 4.11,-14.56 3.13,-16.35 C2.13,-18.18 0.28,-19.07 -1,-19.31 C-1.39,-19.38 -1.75,-19.14 -1.91,-18.77z  M-14.16 -4.95 C-14.16,-7.05 -12.46,-8.75 -10.36,-8.75 C-10.36,-8.75 -8.66,-8.75 -8.66,-8.75 C-7.84,-8.75 -7.16,-8.08 -7.16,-7.25 C-7.16,-7.25 -7.16,7.25 -7.16,7.25 C-7.16,8.08 -7.84,8.75 -8.66,8.75 C-8.66,8.75 -10.36,8.75 -10.36,8.75 C-12.46,8.75 -14.16,7.05 -14.16,4.95 C-14.16,4.95 -14.16,-4.95 -14.16,-4.95z  M10.36 -8.75 C10.36,-8.75 1.86,-8.75 1.86,-8.75 C1.86,-8.75 -5.14,-8.75 -5.14,-8.75 C-5.14,-8.75 -5.14,7.75 -5.14,7.75 C-5.14,8.3 -4.7,8.75 -4.15,8.75 C-4.15,8.75 8.36,8.75 8.36,8.75 C10.36,8.75 11.69,6.92 11.86,6.25 C11.98,5.75 13.86,-4.25 13.86,-4.25 C13.86,-4.25 13.91,-4.78 13.91,-4.78 C14.15,-6.9 12.49,-8.75 10.36,-8.75z "})))),n.createElement("g",{id:`time_group${t}`}))},b=()=>n.createElement("svg",{className:d,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"thumbDownFilled"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.7609 33.4813C17.8119 33.4813 16.232 31.9014 16.232 29.9524V19.8543C16.232 17.9053 17.8119 16.3254 19.7609 16.3254H21.477C22.3702 16.3254 23.0944 17.0495 23.0944 17.9428V31.8639C23.0944 32.7572 22.3702 33.4813 21.477 33.4813H19.7609ZM31.9222 33.4813H40.2551C42.347 33.4813 43.9745 31.663 43.7434 29.584L43.6863 29.0698C43.6863 29.0698 41.8482 19.2664 41.7256 18.7762C41.5622 18.1227 40.2551 16.3254 38.2944 16.3254H26.53C25.7179 16.3254 25.0599 16.9837 25.0599 17.7958V35.0095C25.0599 35.618 25.1858 36.22 25.4297 36.7775L28.1056 42.8939C28.3397 43.4291 28.874 43.7856 29.4405 43.6431C30.3674 43.4101 31.5053 42.8564 32.3974 41.8907C34.3518 39.775 33.2785 36.5329 32.1087 33.9009L31.9222 33.4813Z"})),E=()=>n.createElement("svg",{className:d,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"thumbDownOutlined"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42.1982 34.0054C42.7844 33.7301 43.303 33.3296 43.7174 32.832C44.1334 32.3344 44.4349 31.7514 44.6006 31.1244C44.7662 30.4974 44.7921 29.8416 44.6762 29.2035L42.8029 18.8785C42.6166 17.8602 42.0792 16.9395 41.2842 16.2766C40.4892 15.6136 39.4869 15.2503 38.4517 15.25H19.675C18.5014 15.25 17.3759 15.7162 16.546 16.546C15.7162 17.3759 15.25 18.5014 15.25 19.675V30C15.25 31.1735 15.7162 32.2991 16.546 33.1289C17.3759 33.9588 18.5014 34.425 19.675 34.425H23.1412L27.345 43.8797C27.4613 44.1385 27.6498 44.3582 27.8879 44.5126C28.126 44.6669 28.4035 44.7493 28.6872 44.7499C29.6726 44.7545 30.6443 44.52 31.5191 44.0665C32.3939 43.613 33.1457 42.9541 33.7099 42.1462C34.2741 41.3384 34.6339 40.4057 34.7584 39.4283C34.883 38.4508 34.7685 37.4577 34.425 36.5342L33.599 34.425H40.3249C40.9725 34.4239 41.612 34.2806 42.1982 34.0054ZM39.9267 19.4094L41.7999 29.7344C41.8359 29.9485 41.8242 30.168 41.7655 30.3771C41.7069 30.5861 41.6028 30.7797 41.4607 30.9439C41.322 31.1104 41.1483 31.2443 40.952 31.3361C40.7558 31.4279 40.5416 31.4753 40.3249 31.4749H33.599C33.123 31.4757 32.6544 31.5917 32.233 31.8129C31.8116 32.0341 31.45 32.354 31.179 32.7453C30.908 33.1365 30.7357 33.5875 30.6768 34.0598C30.6179 34.5321 30.6741 35.0116 30.8407 35.4574L31.6225 37.5666C31.7763 37.9684 31.8451 38.3976 31.8246 38.8273C31.8042 39.257 31.6948 39.6778 31.5036 40.0631C31.3123 40.4484 31.0432 40.7899 30.7134 41.0659C30.3835 41.342 29.9999 41.5467 29.587 41.6671L25.575 32.6401V18.1999H38.4517C38.801 18.1942 39.1409 18.3127 39.411 18.5342C39.6811 18.7557 39.8639 19.0658 39.9267 19.4094ZM22.625 18.1999H19.675C19.2838 18.1999 18.9086 18.3553 18.632 18.6319C18.3554 18.9085 18.2 19.2837 18.2 19.6749V29.9999C18.2 30.391 18.3554 30.7662 18.632 31.0428C18.9086 31.3194 19.2838 31.4748 19.675 31.4748H22.625V18.1999Z"}));function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C.apply(this,arguments)}let T=function(e){return e[e.AddLike=0]="AddLike",e[e.RemoveLike=1]="RemoveLike",e[e.AddDislike=2]="AddDislike",e[e.RemoveDislike=3]="RemoveDislike",e[e.NoAnimation=4]="NoAnimation",e}({});const _=e=>{const{gti:t,reactionAction:{reaction:a,signInUrl:l,csrfToken:d,feedbackSource:m},buttonType:p,strings:g,setReactionCall:v,onSetReactionSuccess:h,clickstreamAction:y,iconWrapperClassName:f,iconButtonClassName:b,isWrapperClickable:E,showLabelOnTouchDevices:_,parentOnClick:x,disabled:w}=e,[P,S]=n.useState(T.NoAnimation),[D,N]=n.useState(!1);n.useEffect((()=>{if(!document||!window)return;const e=()=>{N(!0)};if("complete"!==document.readyState)return window.addEventListener("load",e),()=>window.removeEventListener("load",e);e()}),[]);const M=k(g,p,a),R=I(g,p,a,w),A="Like"===p?"like-button":"dislike-button",O=L(p,a,P,S),B={reactionState:a},G=e=>{let n,r;switch((0,i.q)(e),p){case"Like":n="Like"!==a?"Add":"Remove",r="Add"===n?T.AddLike:T.RemoveLike;break;case"Dislike":n="Dislike"!==a?"Add":"Remove",r="Add"===n?T.AddDislike:T.RemoveDislike}D&&S(r),v(p,n,d,t,m,(()=>S(T.NoAnimation)),h),null==y||y(p,n),e.preventDefault()},V=l?void 0:e=>{null==x||x(),G(e),E&&e.stopPropagation()},W=E?{onClick:l?void 0:e=>{null==x||x(),G(e)},tabIndex:-1,"data-testid":A+"-wrapper"}:void 0;return n.createElement(r.y,{action:l,method:"POST",hiddenInputs:B},n.createElement("div",C({className:s()(f,o)},W),n.createElement(u.IconButton,{className:s()(b,c),icon:O,disabled:w,type:"submit",onClick:V,ariaLabel:M,label:R,"data-ux-click":!0,testID:A,showLabelOnTouchDevices:null==_||_})))},k=(e,t,a)=>{switch(t){case"Like":return"Like"===a&&e.removeLikeAriaLabel?e.removeLikeAriaLabel:"Like"!==a||e.removeLikeAriaLabel?e.likeUnselectedAriaLabel:e.likeSelectedAriaLabel;case"Dislike":return"Dislike"===a?e.dislikeSelectedAriaLabel:e.dislikeUnselectedAriaLabel}},I=(e,t,a,n)=>{if(!n)switch(t){case"Like":return"Like"===a&&e.removeLikeLabel||e.likeButtonLabel;case"Dislike":return e.dislikeButtonLabel}},L=(e,t,a,i)=>{switch(e){case"Like":return a===T.AddLike&&"Like"===t?n.createElement(p,{setAnimation:i}):a===T.RemoveLike&&"NoReaction"===t?n.createElement(g,{setAnimation:i}):"Like"===t?n.createElement(v,null):n.createElement(h,null);case"Dislike":return a===T.AddDislike&&"Dislike"===t?n.createElement(y,{setAnimation:i}):a===T.RemoveDislike&&"NoReaction"===t?n.createElement(f,{setAnimation:i}):"Dislike"===t?n.createElement(b,null):n.createElement(E,null)}}},"./src/shared/CS/components/Text/Text.tsx":(e,t,a)=>{a.d(t,{Z:()=>h});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i);const l="d5QfMo",s="bhwVNI",o="ybdh+2",c="oCjIRU",d="lA7kc2",u="xn14PB",m="+eW92P",p="WqE8n+",g="ZFKxPY";function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}const h={MetaDataBadge:({children:e,className:t,...a})=>n.createElement("span",v({className:r()(l,t)},a),e),MetaData:({children:e,className:t,...a})=>n.createElement("span",v({className:r()(s,t)},a),e),ActionButton:({children:e,className:t,...a})=>n.createElement("span",v({className:r()(o,t)},a),e),Marker:({children:e,className:t,...a})=>n.createElement("span",v({className:r()(c,t)},a),e),Body:({children:e,className:t,...a})=>n.createElement("p",v({className:r()(d,t)},a),e),SubHeader:({children:e,className:t,...a})=>n.createElement("h4",v({className:r()(u,t)},a),e),Header:({children:e,className:t,...a})=>n.createElement("h3",v({className:r()(m,t)},a),e),Super:({children:e,className:t,...a})=>n.createElement("h2",v({className:r()(p,t)},a),e),Mega:({children:e,className:t,...a})=>n.createElement("h2",v({className:r()(g,t)},a),e)}},"./src/shared/CS/types/AspectRatio.ts":(e,t,a)=>{a.d(t,{o:()=>n});let n=function(e){return e.SixteenByNine="16/9",e.TwoByOne="2/1",e.ThreeByOne="3/1",e.EightByThree="8/3",e.TwoByThree="2/3",e.ThirtyTwoByFifteen="32/15",e.OneByOne="1/1",e.ThreeHundredFortyFiveByFiftySix="345/56",e}({})},"./src/shared/CS/utils/icons.ts":(e,t,a)=>{a.d(t,{$3:()=>r,Nu:()=>i,W6:()=>n,rM:()=>l});const n="var(--dvui-icon-small-height)",i="var(--dvui-icon-small-width)",r="var(--dvui-icon-height)",l="var(--dvui-icon-width)"},"./src/shared/DetailPage/queryParameters.ts":(e,t,a)=>{a.d(t,{OP:()=>s,cg:()=>i,n9:()=>l,pN:()=>n,w5:()=>r});const n="bannerMsg",i="wpTitleId",r="wpCode",l="fbId",s="ageVerificationSuccess"},"./src/shared/Explore/components/Carousel/Arrow.tsx":(e,t,a)=>{a.d(t,{N:()=>g,Z:()=>h});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./node_modules/@amzn/dvui/dist/Icons/Arrow.js"),s=a.n(l);const o="_5j9-V+",c="WpAacf",d="gJx+-W",u="vKj17S",m="H1HVMS";function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p.apply(this,arguments)}let g=function(e){return e.Backward="backward",e.Forward="forward",e}({});const v=({point:e=g.Forward,onClick:t,show:a,className:i,onMoveIn:l,onMoveOut:v,disabled:h=!1,testID:y,...f})=>n.createElement("button",p({onMouseEnter:()=>null==l?void 0:l(),onMouseLeave:()=>null==v?void 0:v(),onClick:e=>{e.preventDefault(),h||null==t||t(e)},className:r()(i,c,{[o]:!a,[m]:e===g.Backward,[u]:e===g.Forward})},f,{"data-testid":y}),n.createElement("div",{className:d},n.createElement(s(),null)));v.displayName="NavigationArrow";const h=v},"./src/shared/Explore/components/Carousel/CaptureScroll.tsx":(e,t,a)=>{a.d(t,{$:()=>r,x:()=>l});var n=a("./node_modules/react/index.js"),i=a("./src/util/utils/debounce.ts");const r=n.createContext({connected:!1,init:e=>{}}),l=({children:e})=>{const[t,a]=n.useState(!1),[l,s]=n.useState();let o;return n.useEffect((()=>{const e=(0,i.D)((()=>a(!1)),500),t=()=>{a(!0),e()};return null==l||l.addEventListener("scroll",t,{passive:!0}),()=>null==l?void 0:l.removeEventListener("scroll",t)}),[l]),o=l?{connected:!!l,isScrolling:t,scrollContainer:l}:{connected:!1,init:e=>{e.current&&s(e.current)}},n.createElement(r.Provider,{value:o},e)}},"./src/shared/Explore/components/Carousel/Carousel.tsx":(e,t,a)=>{a.d(t,{l:()=>k,_:()=>T});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./src/shared/Explore/components/Carousel/CaptureScroll.tsx"),s=a("./src/shared/Explore/components/Carousel/Carousel.module.scss"),o=a("./src/shared/Explore/utils/cssUtils.ts"),c=a("./src/util/utils/array.ts"),d=a("./src/util/utils/debounce.ts");function u(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m{constructor(e,t,a,n){u(this,"scrollContainerRef",void 0),u(this,"cardsVisibilityThreshold",void 0),u(this,"visibility",void 0),u(this,"onVisibilityChange",void 0),u(this,"obs",void 0),u(this,"settledUpdate",void 0),u(this,"isFirstUpdate",void 0),this.scrollContainerRef=e,this.cardsVisibilityThreshold=a,this.onVisibilityChange=n,this.visibility=new Map;for(let e=1;e<=t;e++)this.visibility.set(e,!1);this.isFirstUpdate=!0,this.settledUpdate=(0,d.D)(this.update.bind(this),200),this.setUpIntersectionObserver()}update(){const e=new Array;for(const[t,a]of this.visibility)a&&(0,c.y)(e,t);if(0===e.length)return;const[t]=e,a=e[e.length-1];this.onVisibilityChange({visible:new Map(this.visibility),min:t,max:a})}setUpIntersectionObserver(){this.obs=new IntersectionObserver((e=>{e.forEach((e=>{if(!(e.target instanceof HTMLElement))return;const{index:t}=e.target.dataset,a=parseInt(null!=t?t:"",10);if(isNaN(a))return;const n=e.isIntersecting&&e.intersectionRatio>=this.cardsVisibilityThreshold;this.visibility.set(a,n)})),Array.from(this.visibility.values()).every((e=>!1===e))||(this.isFirstUpdate?(this.isFirstUpdate=!1,this.update()):this.settledUpdate())}),{rootMargin:"100% 0px",threshold:this.cardsVisibilityThreshold}),this.onRenderedCardsChange()}onRenderedCardsChange(){this.obs.disconnect();this.scrollContainerRef.querySelectorAll("li[data-index]").forEach((e=>{this.obs.observe(e)}))}cleanup(){this.obs.disconnect()}}var p=a("./src/shared/Explore/containers/PageContainer/index.tsx"),g=a("./src/shared/Explore/containers/BaseContainer/index.tsx"),v=a("./node_modules/fast-deep-equal/index.js"),h=a("./src/shared/Stores/context.ts");function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y.apply(this,arguments)}function f({cards:e,cardsVisibilityThreshold:t=.8,render:a,className:i,overrideScrollContainerRef:c,performantRender:d},u){var f;const{isCarouselVisible:b,updateVisibility:E}=n.useContext(T),{containerVisibility:C,enableVerticalPerformantRender:_,hasPageMounted:k}=(0,p.lO)(),I=(0,g.q0)();let{index:L}=I||{index:-1};const[x,w]=n.useState(!1),P=n.useCallback((()=>{const t=d?Math.min(e.length,Math.ceil(d.maxCardNum)):e.length,a=new Map;for(let n=1;n<=e.length;n++)a.set(n,n>=1&&n<=t);return{visible:a,min:1,max:t}}),[e.length,d]),[S,D]=n.useState(P());n.useEffect((()=>{let e;e=null===C.min||null===C.max?L<2:L>=C.min-2&&L<=C.max+2,w(e)}),[L,C.max,C.min]);const N=n.useCallback((()=>{if(!d)return{min:1,max:e.length};const t=Math.ceil(d.maxCardNum),a=Math.max(1,S.min-t-1);let n=Math.min(e.length,S.max+t+1);return k&&_&&(b||(n=x?Math.min(e.length,S.max+1):a)),{min:a,max:n}}),[d,S.min,S.max,e.length,k,b,x,_]),[M,R]=n.useState(N()),A=null!==(f=(0,h.getRequestContext)().isLocaleRTL)&&void 0!==f&&f,O=n.useRef(null),B=null!=c?c:O,G=n.useRef(null),V=n.useContext(l.$);n.useEffect((()=>{!V.connected&&B.current&&V.init(B)}),[B,V]);const W=n.useMemo((()=>e=>{D(e)}),[]);n.useEffect((()=>{if(null!=B&&B.current&&E){var a;if(b)G.current=new m(B.current,e.length,t,W);else null===(a=G.current)||void 0===a||a.cleanup();return()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.cleanup()}}}),[b]),n.useEffect((()=>{var e;null===(e=G.current)||void 0===e||e.onRenderedCardsChange()}),[e]),n.useEffect((()=>{if(E(S),d){const e=N();v(e,M)||R(e)}}),[N]);const F=n.useRef(new Set);n.useEffect((()=>{if(!d)return;const e=new Set;for(let t=M.min;t<=M.max;t++)F.current.has(t)||(F.current.add(t),e.add(t));var t;e.size>0&&(null==d||null===(t=d.onFirstTimeCardRender)||void 0===t||t.call(d,e))}),[M]);const H=(e,t)=>{if(null==B||!B.current||!Number.isInteger(e))return;const a=Math.max(1,Math.min(t,e)),n=B.current.querySelector(`li[data-index="${a}"]`);return n instanceof HTMLElement?n:void 0},z=n.useCallback(((e,t)=>{e.scrollTo({left:t})}),[]),j=(t,a)=>{const n=H(t,e.length),i=H(S.max,e.length);if(!n||!i||!B.current)return!1;const r=(0,o.My)("--dv-carousel-column-margin"),l=n.offsetLeft,s=n.getBoundingClientRect().width,c=B.current.clientWidth,d=i.offsetLeft,u=B.current.scrollLeft;let m;m=A?"first"===a?l-c+r+s:l-r:"first"===a?l-r:l-(d-u);return(1===t||(A?-1*m<s:m<s))&&(m=0),z(B.current,m),!0};n.useImperativeHandle(u,(()=>({scrollToCard:t=>{const a=H(t,e.length);if(!a||!B.current)return!1;const n=(0,o.My)("--dv-carousel-column-margin"),{scrollLeft:i}=B.current,r=a.offsetLeft,l=a.getBoundingClientRect().width,s=B.current.clientWidth;let c;if(r>i){if(r+l<i+s)return!1;c=r-s+l+n}else c=r-n;return z(B.current,c),!0},scrollToCardFirstVisible:e=>j(e,"first"),scrollToCardLastVisible:e=>j(e,"last"),cardsRef:B})),[e.length,B,S.min,S.max]);const U=e.map(((t,l)=>{var o,c,u;const m=l+1,p=m>=M.min&&m<=M.max||m<(null!==(o=null==d?void 0:d.startIndexForVirtualisation)&&void 0!==o?o:0)||m>(null!==(c=null==d?void 0:d.endIndexForVirtualisation)&&void 0!==c?c:e.length),g={"data-index":`${m}`};return p||(g["data-hidden"]="true"),n.createElement("li",y({key:l,className:r()(s.Z.card,i)},g),p&&a(t,null!==(u=S.visible.get(m))&&void 0!==u&&u,l))}));return n.createElement("ul",{className:s.Z.cards,ref:O},U)}f.displayName="CardContainer";const b=n.forwardRef(f);var E=a("./src/util/utils/useInteractionObserver.tsx");function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C.apply(this,arguments)}const T=n.createContext({default:!0,state:{visible:new Map,min:0,max:0},isCarouselVisible:!1,scrollToCard:e=>!1,updateCarouselVisibility:e=>!1,updateVisibility:e=>{}});T.displayName="CarouselContext";const _=({cards:e,carouselVisibilityThreshold:t=0,cardsVisibilityThreshold:a,className:i,renderContainer:l,renderCard:o,footer:c,header:d,customCarouselContainer:u,overrideScrollContainerRef:m,performantRender:g,testID:v,...h},y)=>{var f;const _=n.useRef(null),{updateCarouselVisibility:k}=n.useContext(T),{pageWidth:I}=(0,p.lO)();n.useEffect((()=>{var e,t;null==_||null===(e=_.current)||void 0===e||null===(t=e.scrollBy)||void 0===t||t.call(e,0,0)}),[I]);const L=n.useCallback((([{isIntersecting:e,intersectionRatio:a}])=>{k(e&&a>=t)}),[]);(0,E.S)({enabled:!0,target:_,onIntersect:L,threshold:t});const x=r()(s.Z.carousel,i),w=n.createElement(b,{cards:e,render:o,cardsVisibilityThreshold:a,ref:y,overrideScrollContainerRef:m,performantRender:g}),P=null!=u?u:n.Fragment;return n.createElement(P,null,n.createElement("section",{"data-testid":v},d,n.createElement("div",C({className:x,ref:_},h),null!==(f=null==l?void 0:l({carousel:w}))&&void 0!==f?f:w),c))};_.displayName="Carousel";const k=n.forwardRef(_)},"./src/shared/Explore/components/Carousel/NavigationCarousel.tsx":(e,t,a)=>{a.d(t,{W_:()=>b,g4:()=>E,ZP:()=>_});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./src/util/utils/debounce.ts"),s=a("./src/shared/Explore/components/Carousel/Arrow.tsx"),o=a("./src/shared/Explore/components/Carousel/Carousel.tsx");const c="eSOPph",d="yIoxDk",u="uryRTT",m="_3UoYy5",p="I-rccJ";var g=a("./src/shared/Explore/containers/PageContainer/index.tsx"),v=a("./src/shared/Explore/containers/BaseContainer/index.tsx"),h=a("./node_modules/fast-deep-equal/index.js"),y=a("./src/shared/Explore/hooks/IsHoveringHook/useIsHovering.ts");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f.apply(this,arguments)}let b=function(e){return e[e.None=0]="None",e[e.Framed=1]="Framed",e[e.Regular=2]="Regular",e}({}),E=function(e){return e[e.Default=0]="Default",e[e.FirstVisible=1]="FirstVisible",e[e.LastVisible=2]="LastVisible",e}({});const C=e=>e,T=n.memo(n.forwardRef((({navigation:e,isHalfSizedArrowFrame:t,cards:a,carouselVisibilityThreshold:i,cardsVisibilityThreshold:T,className:_,renderContainer:k,onNavigate:I,scrollType:L=E.Default,wrapperClassName:x,hasCircleCard:w=!1,...P},S)=>{var D;const N=n.useContext(o._),{getString:M,onContainerVisibilityChange:R}=(0,g.lO)(),A=(0,v.q0)(),{actions:O,hasMoreItems:B,index:G}=A||{index:-1},V=n.useRef(null),W=null!==(D=S)&&void 0!==D?D:V,F=n.useRef(),[H,z]=n.useState({visible:new Map,min:0,max:0}),[j,U]=n.useState(!1),{isHovering:$,onTouchStart:q,onMouseEnter:Z,onMouseLeave:J,onMouseMove:K}=(0,y.x)(),[X,Y]=n.useState(!1),[Q,ee]=n.useState(!1),te=n.useCallback((()=>ee(!0)),[]),ae=n.useCallback((()=>ee(!1)),[]),[ne,ie]=n.useState(!1),re=r()(_,c,{[u]:e!==b.None,[m]:e===b.Framed,[p]:!0===t});n.useEffect((()=>{var e;const t=(0,l.D)((()=>{F.current=void 0}),25),a=null===(e=W.current)||void 0===e?void 0:e.cardsRef.current;return null==a||a.addEventListener("scroll",t,{passive:!0}),()=>{null==a||a.removeEventListener("scroll",t)}}),[W]),n.useEffect((()=>{N.default||(H.min=N.state.min,H.max=N.state.max);const e=H.max-H.min,t=a.length-2*e;H.min>=t&&B&&O&&O.onPaginateContainer&&O.onPaginateContainer()}),[H.min,H.max]);const le=n.useMemo((()=>({default:!1,state:H,isCarouselVisible:j,hasCircleCard:w,isCarouselHovered:$,isCarouselFocused:Q,isHoveringNavArrows:X,scrollToCard:(e,t=E.Default)=>{var a,n,i,r;return null!==(a=t===E.FirstVisible?null===(n=W.current)||void 0===n?void 0:n.scrollToCardFirstVisible(e):t===E.LastVisible?null===(i=W.current)||void 0===i?void 0:i.scrollToCardLastVisible(e):null===(r=W.current)||void 0===r?void 0:r.scrollToCard(e))&&void 0!==a&&a},updateCarouselVisibility:e=>{U(e),R(G,e)},updateVisibility:e=>{h(H,e)||z(e)}})),[H,j,w,$,Q,X,L,W,R,G]),se=null!=k?k:C,oe=n.useCallback((({carousel:t})=>{var i,r,l,o;if(!e)return se(t);const c={state:H,scrollToCard:le.scrollToCard};N.default||(c.state=N.state,c.scrollToCard=N.scrollToCard);const u=e=>{var t;null!==(t=F.current)&&void 0!==t||(F.current=c.state.max);let n=F.current;n>=c.state.min&&n<=c.state.max?n=(e>0?c.state.max:c.state.min)+e:n+=e,F.current=Math.max(1,Math.min(a.length,n)),c.scrollToCard(F.current,L)};let m,p;const g=c.state.max-c.state.min;g>1?(m=M("DV_WEB_ARIA_PREVIOUS_N_TITLES").replace("{steps}",`${g}`),p=M("DV_WEB_ARIA_NEXT_N_TITLES").replace("{steps}",`${g}`)):(m=M("DV_WEB_ARIA_PREVIOUS_TITLE"),p=M("DV_WEB_ARIA_NEXT_TITLE"));const v=$||Q,h=null!==(i=null===(r=c.state.visible)||void 0===r?void 0:r.get(1))&&void 0!==i&&i,y=null!==(l=null===(o=c.state.visible)||void 0===o?void 0:o.get(a.length))&&void 0!==l&&l;return n.createElement(n.Fragment,null,n.createElement(s.Z,{className:d,point:s.N.Backward,onClick:()=>{const e=null==I?void 0:I(s.N.Backward,H);e?u(e):c.scrollToCard(c.state.min-1,E.LastVisible),ie(!0),setTimeout((()=>{ie(!1)}),1e3)},show:v&&!h,"aria-label":m,onMoveIn:()=>Y(!0),onMoveOut:()=>Y(!1),testID:"left-arrow",disabled:ne}),se(t),n.createElement(s.Z,{className:d,point:s.N.Forward,onClick:()=>{const e=null==I?void 0:I(s.N.Forward,H);e?u(e):c.scrollToCard(c.state.max+1,E.FirstVisible),ie(!0),setTimeout((()=>{ie(!1)}),1e3)},show:v&&!y,"aria-label":p,onMoveIn:()=>Y(!0),onMoveOut:()=>Y(!1),testID:"right-arrow",disabled:ne}))}),[e,a.length,$,Q,H,I,ne]);return n.createElement(o._.Provider,{value:le},n.createElement("div",{onFocus:te,onBlur:ae,className:x,onTouchStart:q,onMouseEnter:Z,onMouseLeave:J,onMouseMove:K},n.createElement(o.l,f({},P,{className:re,cards:a,renderContainer:oe,ref:W,carouselVisibilityThreshold:i,cardsVisibilityThreshold:T}))))})));T.displayName="NavigationCarousel";const _=T},"./src/shared/Explore/components/Carousel/index.ts":(e,t,a)=>{a.d(t,{$C:()=>i.$,Dj:()=>n.ZP,W_:()=>n.W_,_y:()=>r._,xh:()=>i.x});var n=a("./src/shared/Explore/components/Carousel/NavigationCarousel.tsx"),i=a("./src/shared/Explore/components/Carousel/CaptureScroll.tsx"),r=a("./src/shared/Explore/components/Carousel/Carousel.tsx")},"./src/shared/Explore/components/DraperPlayer/videoContext.ts":(e,t,a)=>{a.d(t,{E:()=>i,l:()=>r});var n=a("./node_modules/react/index.js");const i={disableRightClick:!1,muted:!0,activeActivePlayer:null,activePassivePlayer:null,fullScreen:!1,updateContext:null},r=n.createContext(i);r.displayName="VideoContext"},"./src/shared/Explore/components/StationDetails/StationDetails.tsx":(e,t,a)=>{a.d(t,{q:()=>l});var n=a("./node_modules/react/index.js"),i=a("./src/shared/Explore/containers/StandardMiniDetails/StandardMiniDetailsMetadata.module.scss"),r=a("./src/shared/Explore/containers/StandardMiniDetails/StandardMiniDetailsMetadataRemaster.module.scss");const l=({stationTitle:e,nextBroadcastTitle:t,nextBroadcastStartTime:a,nextUpText:l,isRemasterOn:s})=>{const o=a&&new Date(a).toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hourCycle:"h12"}).toLocaleUpperCase(),c=s?r.Z:i.Z;return n.createElement("section",{className:c.stationTitle},e&&n.createElement("span",null,e),n.createElement("span",{className:c.nextBroadcastTitle},t&&n.createElement(n.Fragment,null,n.createElement("span",{className:c.stationDetailSeparator},"·"),n.createElement("span",null,l,t)),o&&n.createElement(n.Fragment,null,n.createElement("span",{className:c.stationDetailSeparator},"·"),n.createElement("span",null,o))))}},"./src/shared/Explore/components/StatusBadge/StatusBadge.tsx":(e,t,a)=>{a.d(t,{O:()=>c});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./node_modules/@amzn/dvui/dist/Fable/components/LabelBadge/index.js");const s="vUebBe";var o=a("./src/util/types/wps/containers.ts");const c=({style:e,label:t,className:a,testID:i})=>n.createElement(n.Fragment,null,t&&n.createElement(l.LabelBadge,{className:r()(s,a),label:t,color:d(e),ariaLabel:t,testID:null!=i?i:"status-badge"})),d=e=>{switch(null==e?void 0:e.toUpperCase()){case o.aC.INFO:return"primary";case o.aC.INFO_INACTIVE:return"secondary";case o.aC.INFO_HIGHLIGHT:return"live";default:return"secondary"}}},"./src/shared/Explore/containers/BaseContainer/index.tsx":(e,t,a)=>{a.d(t,{ZP:()=>N,Jy:()=>S,q0:()=>D});var n=a("./node_modules/react/index.js"),i=a("./src/util/logger/kirup.ts"),r=a("./src/util/wrappers/LoggersContext.tsx"),l=a("./src/util/utils/hooks/useRemasterGating.ts"),s=a("./src/shared/Explore/containers/BaseContainer/utils.tsx"),o=a("./src/util/utils/dvstring/index.ts"),c=a("./src/util/types/wps/containers.ts");const d=(e,t)=>{var a;const n={...e};n.watchlistAction=t;const i=null===(a=n.overflowMenu)||void 0===a||null===(a=a.items)||void 0===a?void 0:a.find((e=>e.itemType===c.Np.WatchlistAction));return i&&(i.action=t,i.text=(0,o.Wb)(t.text)),n};function u(e,t){switch(t.type){case"HideThis":{const{container:a}=e,{entities:n}=a,{entityIndex:i}=t,r=[...n];return r[i]={...r[i],hideThisAction:t.payload},{...e,container:{...a,entities:r}}}case"OnNewEntities":{const{container:a,entityIDToIndexMap:n}=e,{entities:i}=a,{entities:r}=t.payload,l=[...i,...r],o=(0,s.AX)(r,i.length);return{...e,container:{...a,entities:l},entityIDToIndexMap:{...n,...o}}}case"ToggleWatchlist":{const{container:a}=e,{entityIndex:n,payload:i}=t,{entities:r}=a,l=[...r];return l[n]=d(l[n],i),{...e,container:{...a,entities:l}}}case"RemoveItem":{const{removedItemsMap:a,container:n}=e,{entityIndex:i,payload:{removedOverlayMessage:r,canUndoRemoval:l,undo:s,undoMessage:o}}=t,{entities:c}=n,d=c[i],u={...a};return d.titleID&&(u[d.titleID]={removedOverlayMessage:r,canUndoRemoval:l,undo:s,undoMessage:o}),{...e,removedItemsMap:u}}case"RestoreItem":{const{removedItemsMap:a,container:n}=e,{entityIndex:i}=t,{entities:r}=n,l=r[i],s={...a};return l.titleID&&delete s[l.titleID],{...e,removedItemsMap:s}}case"SetReaction":{const{container:a}=e,{entities:n}=a,{entityIndex:i,payload:r}=t,l=[...n],s=l[i].reactionAction;return s?(l[i]={...l[i],reactionAction:{...s,reaction:r}},{...e,container:{...a,entities:l}}):e}default:return e}}function m(e,t){switch(t.type){case"EnrichItemMetadata":return{...e,[t.entityID]:t.payload};case"ToggleWatchlist":{const a=e[t.entityID];if(!a)return e;const n=d(a,t.payload);return{...e,[t.entityID]:n}}case"SetLiveEventsCustomerIntent":return((e,t)=>{const a={...e};return Object.keys(a).map((e=>{const n=a[e];if(n){const e=n.recordSeason;e&&(n.recordSeason=((e,t)=>!t||t.error?e:"SSM_DISMISSED"===t.intent?{...e,checkbox:void 0}:"OPT_IN"===t.intent?{}:e)(e,t))}})),a})(e,t.payload);default:return e}}const p="_5noh4m",g="_7K84BP";var v=a("./src/shared/Explore/utils/urlChecker.ts");const h=({slotName:e,links:t})=>n.createElement("div",{className:p,"data-testid":"strategy-bar"},e&&n.createElement("span",{className:g},e),t&&t.map(((e,t)=>n.createElement("a",{className:g,key:t,href:(0,v.Z)({url:e.url,info:"StrategyBar"}),target:"_blank"},e.label))));h.displayName="StrategyBar";const y=n.memo(h);var f=a("./src/shared/Explore/containers/PaginationApiController/PaginationApiContext.tsx"),b=a("./src/shared/Explore/containers/PageContainer/index.tsx"),E=a("./src/shared/Explore/containers/PageContainer/VerticalPaginationController.tsx"),C=a("./src/shared/Live/components/StreamSelectorModal/StreamSelector.tsx"),T=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),_=a("./src/shared/utils/analytics/recordReftag.tsx"),k=a("./src/shared/Explore/utils/highValueActionsUtils.ts");var I=a("./src/shared/Stores/context.ts"),L=a("./src/shared/WebSPA/Context.tsx");const x=(e,t)=>`_container_${e}_start_${t}`,w=n.createContext(void 0);w.displayName="BaseContainerContext";const P=n.memo((e=>{const{container:t,prevContainerType:a,nextContainerType:o,apiInteractions:c,isTrailerAutoplayEnabled:d,shouldDisplayStrategy:p,consumingWidgetType:g,displayOverlayOnWatchlistRemoval:v,index:h,resiliencyCxMode:P}=e,{logger:S}=(0,r.L1)(),D=(0,I.getRequestContext)(),{entities:N,paginationServiceToken:M,paginationTargetId:R}=t,[A,O]=n.useState(t.paginationStartIndex),[B,G]=n.useState(t.paginationServiceToken),[V,W]=n.useState(!1),[F,H]=n.useState(!0),z={container:t,entityIDToIndexMap:(0,s.AX)(N,0),removedItemsMap:{}},[j,U]=n.useState(new Map),[$,q]=n.useReducer(u,z),[Z,J]=n.useTransition(),[K,X]=n.useReducer(m,{}),[Y,Q]=n.useState(!1),[ee,te]=n.useState(0),{paginateContainer:ae}=n.useContext(f.I),{isInResiliencyMode:ne,clickstream:ie,clickstreamPageContext:re,contingencies:le}=(0,b.lO)(),{hideBelowContainerIndex:se}=n.useContext(E.U),{container:oe,entityIDToIndexMap:ce,removedItemsMap:de}=$,{debugData:ue,containerType:me}=oe,{enabled:pe}=(0,l.F)(),ge=e=>{if(!e)return;const t=ce[e],{entities:a}=oe;return a[t]},ve="StandardHero"===oe.containerType&&"TENTPOLE"===P,he=(0,L.CU)(),ye=he&&("Grid"===oe.containerType||"EpgGroup"===oe.containerType),fe=(()=>{if(ae&&M&&R)return async()=>{if(!V)try{var e;W(!0);const t=null!=A?A:oe.entities.length,a=x(R,t),n=ye&&null!=he&&he.isRestoringPaginatedScrollPosition()?await he.getCachedPagination(a):void 0,i=null!=n?n:await ae({paginationTargetId:R,serviceToken:null!=B?B:M,startIndex:t,isPurchaseAndRentalCarousel:null===(e=oe.seeMoreLink)||void 0===e||null===(e=e.url)||void 0===e?void 0:e.startsWith("/gp/video/mystuff/library/"),journeyIngressContext:oe.journeyIngressContext});ye&&!n&&(null==he||he.putCachedPagination(a,i));let{entities:r,hasMoreItems:l,startIndex:s,pagination:o}=i;if(o&&null!=he&&he.isRestoringPaginatedScrollPosition()){const e=await(null==he?void 0:he.getAllCachedPaginations(x(R,s),(e=>e.pagination?x(R,e.startIndex):null)));if(e.length>0){e.forEach((e=>r.push(...e.entities)));const t=e[e.length-1];l=t.hasMoreItems,s=t.startIndex,o=t.pagination}}J((()=>{var e;q({type:"OnNewEntities",payload:{entities:r}}),H(l),O(s),G(null===(e=o)||void 0===e?void 0:e.serviceToken),W(!1);const t=ee+1;te(t),(0,k.h)("Pagination",me,t),2===t&&(0,k.h)("PaginationPage3",me)}))}catch(e){S.count(`DVWeb::${g}::BaseContainer::PaginateContainerError`,1,!1),i.c.count("DVWebBaseContainerError",{ConsumingWidgetType:g,ErrorType:"PaginateContainerError"}),S.warn(e instanceof Error?e:`Caught unknown error: ${e}`),H(!1),W(!1),ye&&null!=he&&he.isRestoringPaginatedScrollPosition()&&(null==he||he.reportPagination(!1,!1))}}})(),be=n.useRef(fe);be.current=fe,n.useEffect((()=>fe&&ye?null==he?void 0:he.bindScrollRestorationPaginator((()=>{var e;return null===(e=be.current)||void 0===e?void 0:e.call(be)}),!1):void 0),[]);const Ee=n.useRef(!1);n.useEffect((()=>{Ee.current?ye&&null!=he&&he.isRestoringPaginatedScrollPosition()&&A!==t.paginationStartIndex&&(null==he||he.reportPagination(!0,!F)):Ee.current=!0}),[A,F]);const Ce=(({enrichments:e,entityIDToIndexMap:t,consumingWidgetType:a,containerType:n,context:r,displayOverlayOnWatchlistRemoval:l,clickstream:s,clickstreamPageContext:o,dispatchContainerData:c,dispatchEnrichments:d,logger:u,apiInteractions:m})=>{const p=async(e,n,s,o)=>{try{const a=await m.toggleWatchlist(e,r);if(!a)return;const{watchlistAction:i}=a;if(d({type:"ToggleWatchlist",entityID:n,payload:i}),"Add"===e.tag&&o){const e=await m.setLiveEventsCustomerIntent(o,r);d({type:"SetLiveEventsCustomerIntent",payload:e})}l&&("Remove"===e.tag?c({type:"RemoveItem",entityIndex:t[n],payload:{removedOverlayMessage:e.postActionOverlayMessage,canUndoRemoval:!0,undoMessage:e.undoMessage,undo:()=>{p(i,n,s)}}}):c({type:"RestoreItem",entityIndex:t[n]})),g(e,n,s)}catch(e){u.count(`DVWeb::${a}::BaseContainer::WatchlistToggleError`,1,!1),i.c.count("DVWebBaseContainerError",{ConsumingWidgetType:a,ErrorType:"WatchlistToggleError"}),u.warn(e instanceof Error?e:`${e}`)}},g=(e,t,a)=>{const i="remove"===e.tag.toLowerCase(),r=i?T.W0.RemoveFromWatchlist:T.W0.AddToWatchlist,l=`${null!=a?a:"atv_unknown"}_wtl_${i?"rmv":"add"}_hov`;(0,_.X)(l,null==o?void 0:o.pageType,null==o?void 0:o.subPageType,t,[r],void 0,null==o?void 0:o.clientVariant,s);const c=i?"RemoveFromWatchlist":"AddToWatchlist";(0,k.h)(c,n)};return async(t,a,n)=>{var i,r;null==t||t.preventDefault();const l=null===(i=e[a])||void 0===i?void 0:i.watchlistAction;if(!l)return;const s=null===(r=e[a])||void 0===r?void 0:r.recordSeason,o=s&&(e=>{const{customerIntentAction:t,watchlistAddon:a}=e;if(t&&a)return{id:t.query.id,token:t.query.token,scope:a.scope,intent:a.intent}})(s);return p(l,a,n,o)}})({enrichments:K,entityIDToIndexMap:ce,consumingWidgetType:g,containerType:me,displayOverlayOnWatchlistRemoval:v,dispatchContainerData:q,dispatchEnrichments:X,context:D,clickstreamPageContext:re,clickstream:ie,logger:S,apiInteractions:c}),Te={container:oe,prevContainerType:a,nextContainerType:o,enrichments:K,enrichmentAttempted:Y,helpers:{getEntityFromContainer:ge},actions:{getEnrichments:(e,t,a,n,r)=>!ve&&!ne&&!Boolean(null==le?void 0:le.disableEnrichItemMetadata)&&e.forEach((e=>(async(e,t,a,n,r)=>{const l=(0,s.M2)(oe.containerType,g),{containerType:o}=oe,d="Charts"===o||("StandardHero"===o||"TentpoleHero"===o)&&pe?oe.impressionData:void 0;try{var u;const i=await c.fetchEnrichment(e,l,oe.journeyIngressContext,t,a,n,r,d);X({type:"EnrichItemMetadata",entityID:e,payload:{...i,entitlementCues:(0,s.rS)(null===(u=ge(e))||void 0===u?void 0:u.entitlementCues,i.entitlementCues)}}),Q(!0)}catch(e){S.count(`DVWeb::${g}::BaseContainer::FetchEnrichmentError`,1,!1),i.c.count("DVWebBaseContainerError",{ConsumingWidgetType:g,ErrorType:"FetchEnrichmentError"}),S.warn(e instanceof Error?e:`Caught unknown error: ${e}`),Q(!0)}})(e,t,a,n,r))),onHideThis:async(e,t)=>{var a;e.preventDefault();const n=ce[t],{entities:r}=oe,l=null===(a=r[n])||void 0===a?void 0:a.hideThisAction;if("number"==typeof n&&l)try{const e=await c.hideThis(l);if(!e)return;const{hideThisAction:a}=e;if(a){var s;q({type:"HideThis",entityIndex:n,payload:a});const i=new Map(j),r=null===(s=e.hideThisAction)||void 0===s?void 0:s.tag;e.success&&"Unhide"===r?i.set(t,e.message):e.success&&"Hide"===r&&i.delete(t),U(i)}}catch(e){S.count(`DVWeb::${g}::BaseContainer::HideTitleError`,1,!1),i.c.count("DVWebBaseContainerError",{ConsumingWidgetType:g,ErrorType:"HideTitleError"}),S.warn(e instanceof Error?e:`Caught unknown error: ${e}`)}},onWatchlistToggle:Ce,onPaginateContainer:fe,onLibraryAction:async(e,t)=>{try{(await c.libraryItemStateChange(t,D)).success&&q({type:"RemoveItem",entityIndex:ce[e],payload:{removedOverlayMessage:t.overlayMessage,canUndoRemoval:!1}})}catch(e){S.count(`DVWeb::${g}::BaseContainer::LibraryItemActionError`,1,!1),i.c.count("DVWebBaseContainerError",{ConsumingWidgetType:g,ErrorType:"LibraryItemActionError"}),S.warn(e instanceof Error?e:`Caught unknown error: ${e}`)}},onSetReaction:async(e,t,a,n,r,l,s)=>{var o;if(!n)return;const d=ce[n],u=null===(o=oe.entities[d])||void 0===o?void 0:o.reactionAction;if("number"!=typeof d||!u)return;const m=u.reaction;try{q({type:"SetReaction",entityIndex:d,payload:"Add"===t?e:"NoReaction"});const i=await c.setReaction(n,a,e,t,D,r);i&&i.success||(q({type:"SetReaction",entityIndex:d,payload:m}),null==l||l()),null==s||s(t)}catch(e){S.count(`DVWeb::${g}::BaseContainer::SetReactionError`,1,!1),i.c.count("DVWebBaseContainerError",{ConsumingWidgetType:g,ErrorType:"SetReactionError"}),S.warn(e instanceof Error?e:`Caught unknown error: ${e}`),q({type:"SetReaction",entityIndex:d,payload:m}),null==l||l()}}},isTrailerAutoplayEnabled:d,index:h,consumingWidgetType:g,isPaginatingContainer:V,hasMoreItems:!!fe&&F,removedItemsMap:de,resiliencyCxMode:P,hiddenEntityMessages:j};return n.createElement(w.Provider,{value:Te},n.createElement(C.Do,null,p&&n.createElement(y,ue),!(void 0!==se&&se<h)&&(0,s.sS)(oe.containerType)))}));P.displayName="BaseContainer";const S=()=>{const e=n.useContext(w);if(void 0===e)throw new Error("useBaseContainerContext must be used within a BaseContainerContext.Provider");return e},D=()=>n.useContext(w),N=P},"./src/shared/Explore/containers/BaseContainer/utils.tsx":(e,t,a)=>{a.d(t,{uw:()=>ov,M2:()=>dv,rS:()=>mv,AX:()=>uv,sS:()=>cv,HP:()=>pv});var n=a("./node_modules/react/index.js"),i=a("./src/util/types/wps/containers.ts"),r=a("./node_modules/classnames/index.js"),l=a.n(r),s=a("./src/shared/Explore/containers/BaseContainer/index.tsx"),o=a("./src/shared/Explore/components/Carousel/NavigationCarousel.tsx"),c=a("./src/shared/CS/components/EntitlementMessage/EntitlementMessage.tsx"),d=a("./src/shared/CS/types/AspectRatio.ts"),u=a("./src/shared/Explore/components/DraperPlayer/videoContext.ts"),m=a("./src/util/csm/csm.tsx"),p=a("./src/util/logger/kirup.ts");const g=new Map,v=(e,t,a=1e3)=>{const n=e&&e.trackingEvents&&e.trackingEvents[t];if(n&&!g.has(n)){y(e,t,n,!1);const i=h(a).then((()=>(g.delete(n),fetch(n)))).catch((e=>{g.delete(n),p.c.warn(`Error firing Draper tracking event with eventUrl: ${n}`,e)}));return g.set(n,i),i.then((()=>{}))}return n&&y(e,t,n,!0),Promise.resolve()},h=e=>new Promise((t=>setTimeout(t,e))),y=(e,t,a,n=!1)=>{window&&window.location.href.includes("draperDebug")&&window.console.log({eventLogged:t,trackingEventURL:a,videoURL:e.mediaFile,debounced:n})},f="_0r6cJW",b="nQnwnT",E="gtWNAJ",C="U7TB9C",T="VSsT7g",_="WTxGCk",k="ESUyK5",I="ir0qzn",L="_4TmRYM",x="RR3G1W",w="+LFxJa",P="_7tkjs4",S="+DtcwT",D="rC0Coh",N="sVB4J4",M="OTNFD1",R="g2IzQA";var A={Superhero:0,Packshot:1,PackshotWithEntitlementCue:2,IntermissionHero:3,DetailHero:4,ChartsCarousel:5,StandardHero:6,ChartsContainer:7,StandardMiniDetails:8,TentpoleHero:9,SuperCarousel:10,TopHero:11};function O(e){return e.playerIsActive?null===e.videoContext.activeActivePlayer:null===e.videoContext.activePassivePlayer}function B(e,t){return e.playerIsActive?e.videoContext.activeActivePlayer===t:e.videoContext.activePassivePlayer===t&&null===e.videoContext.activeActivePlayer}function G(e,t){var a,n;if(e.playerIsActive&&e.videoContext.activeActivePlayer===t)null===(a=(n=e.videoContext).updateContext)||void 0===a||a.call(n,{...e.videoContext,activeActivePlayer:null});else if(e.videoContext.activePassivePlayer===t){var i,r;null===(i=(r=e.videoContext).updateContext)||void 0===i||i.call(r,{...e.videoContext,activePassivePlayer:null})}}const V=n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",id:"svg2","aria-hidden":!0},n.createElement("defs",{id:"defs11"},n.createElement("mask",{maskUnits:"userSpaceOnUse",id:"mask4258"},n.createElement("g",{id:"g4260"},n.createElement("rect",{y:"0",x:"2",height:"24",width:"22",style:{fill:"#ffffff"}}),n.createElement("path",{d:"m 21.5,2 -16,20",style:{stroke:"#000000",strokeWidth:2}})))),n.createElement("circle",{style:{opacity:.7,fill:"#0f171e"},r:"20",cy:"20",cx:"20",id:"Oval"}),n.createElement("g",{style:{fill:"#ffffff"},transform:"translate(8,8)",id:"icon/unmuted",mask:"url(#mask4258)"},n.createElement("path",{id:"Fill-1",d:"m 4.5488,9 c -0.303,0 -0.549,0.247 -0.549,0.549 l 0,4.902 c 0,0.303 0.246,0.549 0.549,0.549 l 3.451,0 c 0.184,0 0.363,0.051 0.521,0.146 l 6.479,3.949 0,-14.392 -6.461,4.139 C 8.3788,8.945 8.1918,9 7.9998,9 l -3.451,0 z m 11.451,12.875 c -0.18,0 -0.36,-0.049 -0.52,-0.146 L 7.7198,17 4.5488,17 c -1.405,0 -2.549,-1.144 -2.549,-2.549 l 0,-4.902 C 1.9998,8.144 3.1438,7 4.5488,7 l 3.158,0 7.754,-4.967 c 0.31,-0.198 0.699,-0.21 1.019,-0.035 0.321,0.175 0.52,0.511 0.52,0.877 l 0,18 c 0,0.361 -0.195,0.695 -0.511,0.872 -0.151,0.085 -0.32,0.128 -0.489,0.128 l 0,0 z"}),n.createElement("path",{id:"Fill-3",d:"m 19,19 c -0.256,0 -0.512,-0.098 -0.707,-0.293 -0.39,-0.389 -0.391,-1.019 -0.004,-1.41 C 18.375,17.207 20,15.472 20,12 20,8.509 18.357,6.774 18.287,6.702 17.905,6.307 17.91,5.676 18.301,5.29 18.695,4.903 19.32,4.906 19.707,5.293 19.801,5.387 22,7.636 22,12 22,16.364 19.801,18.613 19.707,18.707 19.512,18.902 19.256,19 19,19"})),n.createElement("path",{style:{stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round"},d:"M 27,10 11,30"})),W=n.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40","aria-hidden":!0},n.createElement("g",{id:"icon/sound-on",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("circle",{id:"Oval",fill:"#0F171E",opacity:"0.7",cx:"20",cy:"20",r:"20"}),n.createElement("g",{id:"icon/unmuted",transform:"translate(8.000000, 8.000000)",fill:"#FFFFFF"},n.createElement("path",{d:"M4.5488,9 C4.2458,9 3.9998,9.247 3.9998,9.549 L3.9998,14.451 C3.9998,14.754 4.2458,15 4.5488,15 L7.9998,15 C8.1838,15 8.3628,15.051 8.5208,15.146 L14.9998,19.095 L14.9998,4.703 L8.5388,8.842 C8.3788,8.945 8.1918,9 7.9998,9 L4.5488,9 Z M15.9998,21.875 C15.8198,21.875 15.6398,21.826 15.4798,21.729 L7.7198,17 L4.5488,17 C3.1438,17 1.9998,15.856 1.9998,14.451 L1.9998,9.549 C1.9998,8.144 3.1438,7 4.5488,7 L7.7068,7 L15.4608,2.033 C15.7708,1.835 16.1598,1.823 16.4798,1.998 C16.8008,2.173 16.9998,2.509 16.9998,2.875 L16.9998,20.875 C16.9998,21.236 16.8048,21.57 16.4888,21.747 C16.3378,21.832 16.1688,21.875 15.9998,21.875 L15.9998,21.875 Z",id:"Fill-1"}),n.createElement("path",{d:"M19,19 C18.744,19 18.488,18.902 18.293,18.707 C17.903,18.318 17.902,17.688 18.289,17.297 C18.375,17.207 20,15.472 20,12 C20,8.509 18.357,6.774 18.287,6.702 C17.905,6.307 17.91,5.676 18.301,5.29 C18.695,4.903 19.32,4.906 19.707,5.293 C19.801,5.387 22,7.636 22,12 C22,16.364 19.801,18.613 19.707,18.707 C19.512,18.902 19.256,19 19,19",id:"Fill-3"})))),F=n.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1","aria-hidden":!0},n.createElement("g",{id:"fullscreen-button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("circle",{id:"Oval",fill:"#0F171E",opacity:"0.7",cx:"20",cy:"20",r:"20"}),n.createElement("g",{id:"fullscreen",fill:"#FFFFFF",transform:"translate(7.5, 7.5)"},n.createElement("path",{d:"M24.969,0.002 L24.969,0.002 L24.969,0 L21.969,0 L21.969,0.002 L15.969,0 L15.969,3 L19.723,3 L13.852,8.871 L15.973,10.992 L21.969,4.996 L21.969,9 L24.969,9 L24.969,2.25 L24.969,0.002 L24.969,0.002 Z",id:"Shape_1_"}),n.createElement("path",{d:"M9,22 L5.246,22 L11.117,16.129 L8.996,14.008 L3,20.004 L3,16 L0,16 L0,22.75 L0,25 L3,25 L9,25 L9,22 L9,22 Z",id:"Shape_2_"})))),H=n.createElement("svg",{width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1","aria-hidden":!0},n.createElement("g",{id:"exit-fullscreen",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("circle",{id:"Oval",fill:"#0F171E",opacity:"0.7",cx:"20",cy:"20",r:"20"}),n.createElement("g",{id:"exit-fullscreen",fill:"#FFFFFF",transform:"translate(5, 7)"},n.createElement("path",{d:"M9.984,15 L3.984,15 L3.985,18 L7.738,18 L0.867,24.871 L2.989,26.992 L9.984,19.996 L9.984,24 L12.984,24 L12.984,17.25 L12.984,15.001 L9.984,15 Z",id:"Shape_1_"}),n.createElement("path",{d:"M21.262,9 L28.133,2.129 L26.012,0.008 L19.016,7.004 L19.016,3 L16.016,3 L16.016,9.75 L16.016,11.999 L19.016,12 L25.016,12 L25.016,9 L21.262,9 Z",id:"Shape_2_"})))),z="l-Wis8",j="ExYz7n",U="_3-Sxor",$="g4YeUe",q="BM30T6",Z="gWrHlr",J="wZ3MPH",K="nK721o",X="OLz56u",Y="_0tLEHl",Q="p7TDYn",ee="_308gAz";var te=a("./node_modules/@amzn/dvui/dist/Fable/components/IconButton/index.js");const ae=({href:e,isDisabled:t,icon:a,isInverted:i,label:r,className:s,labelClassName:o,onSecondaryButtonClick:c,isTransparentBackground:d,ariaLabel:u,testID:m,smallIconVariant:p=!1})=>{if(a){const l=i?te.SecondaryIconButton:te.PrimaryIconButton,o={href:e,icon:a,label:r,className:s,testID:m,disabled:t,onClick:c,size:p?"small":"standard",ariaLabel:u||r||"",showLabelOnTouchDevices:d};return n.createElement(l,o)}const g=e?"a":"button",v=l()(s,q,{[Y]:i,[K]:d});return n.createElement("div",{className:v},n.createElement(g,{disabled:t,href:e,onClick:c,className:l()(Z,{[X]:p}),"aria-label":u||r,"data-testid":m},a),r&&!t&&n.createElement("label",{className:l()(o,J,{[Q]:i,[ee]:d}),"aria-hidden":!0},r))};var ne=a("./node_modules/@amzn/dvui/dist/Icons/Unmuted.js"),ie=a.n(ne),re=a("./node_modules/@amzn/dvui/dist/Icons/Muted.js"),le=a.n(re);const se=e=>{const t=!e.disableUnmute;if(!t&&!e.enableFullscreen)return null;const a=n.createElement(n.Fragment,null,t&&e.videoContext.muted?n.createElement("button",{key:"unmute","aria-label":e.textMap.unmuteButton,onMouseDown:e.toggleMute,className:"tst-video-overlay-player-muted"},V):void 0,t&&!e.videoContext.muted?n.createElement("button",{key:"mute","aria-label":e.textMap.muteButton,onMouseDown:e.toggleMute,className:"tst-video-overlay-player-unmuted"},W):void 0),i=t?n.createElement(ae,{icon:e.videoContext.muted?n.createElement(le(),null):n.createElement(ie(),null),isInverted:!0,onSecondaryButtonClick:e.toggleMute,testID:e.videoContext.muted?"unmute":"mute"}):null;return n.createElement("div",{className:l()(z,{[j]:[A.Packshot,A.PackshotWithEntitlementCue].includes(e.placement),[$]:e.placement===A.StandardMiniDetails,[U]:e.placement===A.TopHero})},e.useDefaultBackground?a:i,e.enableFullscreen&&!e.videoContext.fullScreen?n.createElement("button",{className:"tst-video-overlay-player-fullscreen","aria-label":e.textMap.enterFullscreen,key:"fullscreen",onMouseDown:e.toggleFullscreen},F):void 0,e.enableFullscreen&&e.videoContext.fullScreen?n.createElement("button",{className:"tst-video-overlay-player-exit-fullscreen","aria-label":e.textMap.exitFullscreen,key:"exit-fullscreen",onMouseDown:e.toggleFullscreen},H):void 0)};var oe=a("./src/util/api/APIClient.ts"),ce=a("./src/shared/utils/analytics/recordReftag.tsx"),de=a("./node_modules/@amzn/dv-web-node-reftags/index.js"),ue=a("./src/shared/CS/components/DraperPlayerInstrumentedEventHandlers/utils/metrics.ts");function me(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const pe="DVWeb::Storefront::PreRollPlayer",ge=.1;class ve extends n.PureComponent{constructor(e){super(e),me(this,"playHandler",void 0),me(this,"stopHandler",void 0),me(this,"updateHandler",void 0),me(this,"errorHandler",void 0),me(this,"waitingHandler",void 0),me(this,"videoStarted",void 0),me(this,"firstQuartileReached",void 0),me(this,"midpointReached",void 0),me(this,"thirdQuartileReached",void 0),me(this,"expectedReadyState",void 0),me(this,"wrappers",{}),me(this,"fadeAudioIntervalHandle",void 0),me(this,"api",new oe.l),me(this,"fadeAudio",(e=>new Promise((t=>{var a;this.fadeAudioIntervalHandle&&clearInterval(this.fadeAudioIntervalHandle),null!==(a=this.wrappers.videoPlayer)&&void 0!==a&&a.muted&&(this.wrappers.videoPlayer.muted=!1,this.wrappers.videoPlayer.volume=0);const n=()=>{this.fadeAudioIntervalHandle&&(clearInterval(this.fadeAudioIntervalHandle),this.fadeAudioIntervalHandle=void 0),t()};this.fadeAudioIntervalHandle=setInterval((()=>{if(this.wrappers.videoPlayer){const{volume:t}=this.wrappers.videoPlayer,a=t>e?t>e+ge?t-ge:e:t<e-ge?t+ge:e;this.wrappers.videoPlayer.volume=a,a===e&&n()}else n()}),30)})))),me(this,"fadeOutAudio",(()=>this.fadeAudio(0))),me(this,"fadeInAudio",(()=>this.state.originalVolume&&this.fadeAudio(this.state.originalVolume))),me(this,"toggleMute",(e=>{var t,a;if(0!==e.button)return;e.preventDefault();const n=!this.props.videoContext.muted;null===(t=(a=this.props.videoContext).updateContext)||void 0===t||t.call(a,{...this.props.videoContext,muted:!this.props.videoContext.muted}),this.onMute(n)})),me(this,"toggleFullscreen",(e=>{if(0===e.button)return this.updateFullscreen(!this.props.videoContext.fullScreen)})),me(this,"setWrapperRef",(e=>{this.wrappers.videoWrapper=e})),me(this,"setVideoPlayerRef",(e=>{this.wrappers.videoPlayer=e})),this.state={hasError:!1,playing:!1,paused:!1},this.videoStarted=!1,this.firstQuartileReached=!1,this.midpointReached=!1,this.thirdQuartileReached=!1,this.expectedReadyState=4,this.onVideoError=this.onVideoError.bind(this)}componentDidMount(){var e;this.setState({originalVolume:null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.volume}),this.wrappers.videoPlayer&&(this.wrappers.videoPlayer.preload="auto",this.wrappers.videoPlayer.muted=this.props.videoContext.muted)}componentDidUpdate(e){const t=B(this.props,this),a=B(e,this);this.state.playing&&t!==a?t?setTimeout((()=>{this.state.playing&&B(this.props,this)&&this.resumeWhenPaused()}),1500):this.props.playerIsActive?this.stop():this.pauseButKeepVisible():O(this.props)&&this.state.paused&&this.stop(),this.props.prerolls!=e.prerolls&&(this.videoStarted=!1,this.firstQuartileReached=!1,this.midpointReached=!1,this.thirdQuartileReached=!1);const{muted:n}=this.props.videoContext;n!=e.videoContext.muted&&(this.props.enableAudioFading?n?this.fadeOutAudio():this.fadeInAudio():this.wrappers.videoPlayer&&(this.wrappers.videoPlayer.muted=n))}componentWillUnmount(){this.removeEventListeners(),G(this.props,this),this.removeVideoSource()}isSuperOrStandardHero(){return[A.Superhero,A.StandardHero,A.TopHero].includes(this.props.placement)}startPlayer(){var e,t,a,n,i,r,l;if(this.playHandler=()=>this.playAssumingReady(),this.stopHandler=()=>this.onPlaybackComplete(),this.updateHandler=()=>this.onTimeUpdate(),this.errorHandler=()=>this.onLoadError(),this.waitingHandler=()=>this.onWaiting(),this.addEventListeners(),!this.props.playerIsActive&&!O(this.props))return;t=this.props,a=this,t.playerIsActive?null===(n=(i=t.videoContext).updateContext)||void 0===n||n.call(i,{...t.videoContext,activeActivePlayer:a}):null===(r=(l=t.videoContext).updateContext)||void 0===r||r.call(l,{...t.videoContext,activePassivePlayer:a});const s=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.readyState;if(s&&s>=this.expectedReadyState){var o;if(this.isSuperOrStandardHero())null===(o=this.wrappers.videoPlayer)||void 0===o||o.load();this.playHandler()}}async playAssumingReady(){var e;const t=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.readyState;if(t&&t>=this.expectedReadyState){var a,n,i;await(null===(a=this.props.parentListeners)||void 0===a||null===(n=a.onBeforePlay)||void 0===n?void 0:n.call(a));const e=null===(i=this.wrappers.videoPlayer)||void 0===i?void 0:i.play();if(void 0!==e)e.then((()=>{!this.videoStarted&&v(this.props.prerolls,"defaultImpression"),this.onPlayStart()})).catch((e=>{this.onPlayError(e.name)}));else try{var r;!this.videoStarted&&v(this.props.prerolls,"defaultImpression"),null===(r=this.wrappers.videoPlayer)||void 0===r||r.play(),this.onPlayStart()}catch(e){this.onPlayError(e)}}}pauseButKeepVisible(){var e;null===(e=this.wrappers.videoPlayer)||void 0===e||e.pause(),!this.state.paused&&v(this.props.prerolls,"pause"),this.setState({paused:!0})}resumeWhenPaused(){var e;null===(e=this.wrappers.videoPlayer)||void 0===e||e.play(),this.state.paused&&v(this.props.prerolls,"resume"),this.setState({paused:!1})}stop(e=!1){this.setState({playing:!1,paused:!1},(()=>{var t,a,n,i,r,l;null===(t=this.props.parentListeners)||void 0===t||null===(a=t.onPlayStop)||void 0===a||a.call(t),null===(n=this.wrappers.videoPlayer)||void 0===n||n.pause(),this.removeEventListeners(),e?(i=this.props,null===(r=(l=i.videoContext).updateContext)||void 0===r||r.call(l,{...i.videoContext,activeActivePlayer:null,activePassivePlayer:null})):G(this.props,this)}))}restartVideo(){this.time=0}set time(e){var t;void 0!==(null===(t=this.wrappers.videoPlayer)||void 0===t?void 0:t.currentTime)&&(this.wrappers.videoPlayer.currentTime=e)}updateFullscreen(e){var t,a;return this.updatePageScrolling(e?"hidden":"visible"),null===(t=(a=this.props.videoContext).updateContext)||void 0===t?void 0:t.call(a,{...this.props.videoContext,fullScreen:e})}updatePageScrolling(e){if(!document)return;const t=document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0];t&&(t.style.overflow=e)}onLoadError(){var e,t,a;const n=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.error;n&&(n.code===MediaError.MEDIA_ERR_DECODE?v(this.props.prerolls,"error"):v(this.props.prerolls,"playbackBlocked")),null===(t=this.props.parentListeners)||void 0===t||null===(a=t.onLoadError)||void 0===a||a.call(t),(0,m.cL)(`${pe}::loadError`,1,!1),p.c.count("DVWebStorefrontPreRollPlayerLoadError"),setTimeout((()=>{this.stop()}),4e3)}onMute(e){var t,a,n,i;e?(v(this.props.prerolls,"mute"),(0,ce.X)((0,de.i)("atv_trailer_auto_mute"),this.props.pageType,this.props.subPageType,void 0,void 0,void 0,this.props.clientVariant,this.props.clickstream),null===(t=this.props.parentListeners)||void 0===t||null===(a=t.onMute)||void 0===a||a.call(t)):(v(this.props.prerolls,"unmute"),(0,ce.X)((0,de.i)("atv_trailer_auto_unmute"),this.props.pageType,this.props.subPageType,void 0,void 0,void 0,this.props.clientVariant,this.props.clickstream),null===(n=this.props.parentListeners)||void 0===n||null===(i=n.onUnmute)||void 0===i||i.call(n))}onPlaybackComplete(){var e,t;return v(this.props.prerolls,"complete"),null===(e=this.props.parentListeners)||void 0===e||null===(t=e.onPlayComplete)||void 0===t||t.call(e),this.stop()}onPlayError(e){var t,a;"NotAllowedError"===e?(p.c.warn(`Pre-Roll Player Failed to play: ${e}.`),v(this.props.prerolls,"playbackBlocked")):(p.c.error(`Pre-Roll Player Failed to play: ${e}.`),v(this.props.prerolls,"error")),null===(t=this.props.parentListeners)||void 0===t||null===(a=t.onPlayError)||void 0===a||a.call(t)}onPlayStart(){(0,m.cL)(`${pe}::BUFFER::INITIALISED`,1,!1),p.c.count("DVWebStorefrontPreRollPlayerBufferInitialising"),this.videoStarted=!0,this.setState({playing:!0,paused:!1},(()=>{var e,t;null===(e=this.props.parentListeners)||void 0===e||null===(t=e.onPlayStart)||void 0===t||t.call(e),!this.props.playerIsActive&&this.props.videoContext.activeActivePlayer&&this.pauseButKeepVisible()})),(0,ue.DF)("play")}onTimeUpdate(){var e,t;const a=null===(e=this.wrappers.videoPlayer)||void 0===e?void 0:e.duration,n=null===(t=this.wrappers.videoPlayer)||void 0===t?void 0:t.currentTime;a&&n&&(!this.thirdQuartileReached&&n>=.75*a?(this.thirdQuartileReached=!0,v(this.props.prerolls,"thirdQuartile")):!this.midpointReached&&n>=.5*a?(this.midpointReached=!0,v(this.props.prerolls,"midpoint")):!this.firstQuartileReached&&n>=.25*a&&(this.firstQuartileReached=!0,v(this.props.prerolls,"firstQuartile")))}onWaiting(){(0,m.cL)(`${pe}::BUFFER::REINITIALISING`,1,!1),p.c.count("DVWebStorefrontPreRollPlayerBufferReinitialising")}onVideoError(){var e,t;(0,m.cL)(`${pe}::videoError`,1,!1),p.c.count("DVWebStorefrontPreRollPlayerVideoError"),null===(e=this.props.parentListeners)||void 0===e||null===(t=e.onVideoError)||void 0===t||t.call(e)}addEventListeners(){var e,t,a,n,i;this.playHandler&&(null===(e=this.wrappers.videoPlayer)||void 0===e||e.addEventListener("canplaythrough",this.playHandler)),this.stopHandler&&(null===(t=this.wrappers.videoPlayer)||void 0===t||t.addEventListener("ended",this.stopHandler)),this.updateHandler&&(null===(a=this.wrappers.videoPlayer)||void 0===a||a.addEventListener("timeupdate",this.updateHandler)),this.waitingHandler&&(null===(n=this.wrappers.videoPlayer)||void 0===n||n.addEventListener("waiting",this.waitingHandler)),this.errorHandler&&(null===(i=this.wrappers.videoPlayer)||void 0===i||i.addEventListener("error",this.errorHandler))}removeEventListeners(){var e,t,a,n,i;this.playHandler&&(null===(e=this.wrappers.videoPlayer)||void 0===e||e.removeEventListener("canplaythrough",this.playHandler)),this.stopHandler&&(null===(t=this.wrappers.videoPlayer)||void 0===t||t.removeEventListener("ended",this.stopHandler)),this.updateHandler&&(null===(a=this.wrappers.videoPlayer)||void 0===a||a.removeEventListener("timeupdate",this.updateHandler)),this.errorHandler&&(null===(n=this.wrappers.videoPlayer)||void 0===n||n.removeEventListener("error",this.errorHandler)),this.waitingHandler&&(null===(i=this.wrappers.videoPlayer)||void 0===i||i.removeEventListener("waiting",this.waitingHandler))}removeVideoSource(){const e=this.wrappers.videoPlayer;null==e||e.pause(),null==e||e.removeAttribute("src"),null==e||e.load()}styleFromPlacementType(){switch(this.props.placement){case A.SuperCarousel:return E;case A.Superhero:return b;case A.Packshot:return T;case A.PackshotWithEntitlementCue:return _;case A.IntermissionHero:return L;case A.ChartsContainer:return P;case A.ChartsCarousel:return w;case A.DetailHero:return I;case A.StandardHero:case A.TopHero:return C;case A.StandardMiniDetails:return k;case A.TentpoleHero:return S}}render(){if(this.state.hasError||!this.props.prerolls||!this.props.prerolls.mediaFile||!this.props.videoContext)return null;const e=!this.state.playing&&!this.state.paused&&!this.props.videoContext.fullScreen,t=(this.props.parentListeners||{}).onClick,a=this.props.placement===A.Superhero?D:this.props.videoFadeOverlay;return n.createElement("a",{className:l()(f,this.styleFromPlacementType(),this.props.className,"tst-video-overlay-player-overlay","tst-preroll-player",{[M]:e,[R]:!e,[x]:this.props.videoContext.fullScreen&&this.props.enableFullscreen,[N]:this.props.useDefaultBackground}),href:this.props.link,ref:this.setWrapperRef,onClick:t,"aria-label":this.props.accessibilityLabel||"","data-testid":"preroll-player-link",tabIndex:this.props.nonFocusableLink?-1:0},n.createElement("video",{className:"tst-video-overlay-player-html5",src:this.props.prerolls.mediaFile,ref:this.setVideoPlayerRef,"data-testid":"preroll-player",onContextMenu:e=>{this.props.videoContext.disableRightClick&&e.preventDefault()},onError:this.onVideoError}),n.createElement(se,{disableUnmute:this.props.prerolls.disableUnmute,textMap:this.props.prerolls.textMap,toggleMute:this.toggleMute,enableFullscreen:this.props.enableFullscreen,toggleFullscreen:this.toggleFullscreen,videoContext:this.props.videoContext,placement:this.props.placement,useDefaultBackground:this.props.useDefaultBackground}),a&&n.createElement("div",{className:l()(a)}),this.props.videoOverlayElement,this.props.children)}}let he=function(e){return e.Init="init",e.Play="play",e.Pause="pause",e.Stop="stop",e.Error="error",e}({});const ye=(e,t)=>`${e}->${t}`,fe=new Set([ye(he.Init,he.Play),ye(he.Play,he.Stop),ye(he.Play,he.Pause),ye(he.Pause,he.Play),ye(he.Play,he.Init),ye(he.Stop,he.Init),ye(he.Play,he.Error),ye(he.Init,he.Error),ye(he.Error,he.Init)]);function be(e,t){return fe.has(ye(e,t))?t:e}var Ee=a("./src/shared/Explore/containers/PageContainer/index.tsx");const Ce="YJ1MaA",Te="_1FUZFF";var _e=a("./src/shared/Explore/utils/highValueActionsUtils.ts");let ke=function(e){return e[e.Restart=0]="Restart",e[e.Resume=1]="Resume",e}({});const Ie=({canPlay:e,prerolls:t,delay:a,playing:i,onStateChange:r,playback:s,className:o,placement:c,children:d,playerIsActive:m=!1,link:p,nonFocusableLink:g,draperClassName:v,draperParentListeners:h,videoFadeOverlayClassname:y,videoOverlayElement:f,noBottomCornerRadiusLink:b,refMarker:E,titleID:C,containerType:T})=>{const _=n.useContext(u.l),{clickstream:k,clickstreamPageContext:I}=(0,Ee.lO)(),L=n.useRef(null),x=n.useRef(),[w,P]=n.useReducer(be,he.Init);n.useEffect((()=>{null==r||r(w)}),[w]),n.useEffect((()=>{var t;let n=!1;switch(w){case he.Init:e?x.current=window.setTimeout((()=>P(he.Play)),a):clearTimeout(x.current);break;case he.Play:var r;if(e)n=!0,null===(r=L.current)||void 0===r||r.startPlayer();else s===ke.Resume?P(he.Pause):s===ke.Restart&&L.current&&(L.current.stop(),L.current.restartVideo());break;case he.Pause:var l,o;if(n=!0,e)null===(l=L.current)||void 0===l||l.startPlayer();else null===(o=L.current)||void 0===o||o.pauseButKeepVisible();break;case he.Error:null===(t=L.current)||void 0===t||t.stop();case he.Stop:}return null==i||i(n),()=>{clearTimeout(x.current)}}),[e,a,w,s,i]),n.useEffect((()=>{P(he.Init)}),[t]);const S=n.useMemo((()=>({onPlayComplete(){P(he.Stop)},...c!==A.ChartsContainer&&{onPlayStart(){(0,_e.h)("DraperPlayStart",T),P(he.Play)}},...c==A.ChartsContainer&&{onPlayStart(){(0,_e.h)("DraperPlayStart",T)}},onClick(e){var t;null==h||null===(t=h.onClick)||void 0===t||t.call(h,e)},onVideoError(){P(he.Error)},onPlayError(){P(he.Error)},onMute(){(0,_e.h)("DraperMute",T)},onUnmute(){(0,_e.h)("DraperUnmute",T)}})),[P,h,c]),D=l()(v,Ce,{[Te]:b});return n.createElement("div",{className:o},n.createElement(ve,{className:D,prerolls:t,ref:L,placement:null!=c?c:A.Superhero,videoContext:_,playerIsActive:m,enableFullscreen:!1,parentListeners:S,useDefaultBackground:!1,link:p,nonFocusableLink:g,clickstream:k,pageType:null==I?void 0:I.pageType,subPageType:null==I?void 0:I.subPageType,clientVariant:null==I?void 0:I.clientVariant,videoFadeOverlay:y,videoOverlayElement:f,refMarker:E,titleID:C}),d)};var Le=a("./src/shared/CS/components/LazyImage/LazyImage.tsx");const xe="km3sbT",we="_3HZFFn",Pe="DXNI7M",Se="-xjO1Z";var De=a("./src/shared/imageUtils/imageUtils.ts"),Ne=a("./src/shared/Explore/ClientImpressions/ImpressionTracker.tsx"),Me=a("./src/shared/deeplink/index.ts");const Re="tjl5-c",Ae="j18dK5",Oe="_1z+0fQ",Be="ThT3Nm",Ge="rwLkMg",Ve="+ZckYi",We="jggga1";function Fe(e){switch(e){case"Bottom_Left":return l()(Be,Ve);case"Bottom_Right":return l()(Be,We);case"Bottom_Center":return l()(Be,Ge);case"Top_Left":return l()(Oe,Ve);case"Top_Right":return l()(Oe,We);case"Top_Center":return l()(Oe,Ge);case"Center_Left":return l()(Ae,Ve);case"Center_Right":return l()(Ae,We);default:return l()(Ae,Ge)}}const He=({displayTitle:e,overlayTextPosition:t,elementTiming:a})=>e&&t?n.createElement("span",{className:l()(Re,Fe(t))},n.createElement("span",a?{elementtiming:a}:{},e)):null,ze=({fallbackImage:e,hasFallbackImageErrored:t,fallbackTitleText:a,textWrapperClassname:i,aspectRatio:r,testId:l})=>n.createElement(n.Fragment,null,!t&&e,a&&n.createElement("h3",{"aria-label":a,className:i,style:t&&r?{aspectRatio:r}:{},"data-testId":l},n.createElement(He,{displayTitle:a,overlayTextPosition:"Center_Center"})));var je=a("./src/shared/Stores/context.ts");const Ue=[188,250,375,500],$e=[360,480,720,1080],qe=[{"max-tablet-lowest":155},{"max-laptop-lowest":150},{"max-desktop-lowest":175},{"max-desktop-hd-lowest":175},{"max-desktop-uhd-lowest":245}],Ze=[{"max-tablet-lowest":260},{"max-laptop-lowest":260},{"max-desktop-lowest":390},{"max-desktop-hd-lowest":390},{"max-desktop-uhd-lowest":540}],Je=({isCircle:e=!1,alternateText:t,fallbackTitle:a,imageUrl:i,className:r,imageWrapperClassName:o,imageClassName:c,url:u,deeplinkFallbackUrl:m,deeplinkType:p,backgroundTrailerConfig:g,parentElement:v,badge:h,cardOverlay:y,playButtonOverlay:f,reactionOverlay:b,onPackshotLinkKeyDown:E,linkAriaRole:C,noBottomCornerRadiusLink:T,refMarker:_,titleID:k,shouldLazyLoadImage:I,elementTiming:L})=>{var x,w;const[P,S]=n.useReducer((()=>!0),!1),[D,N]=n.useReducer((()=>!0),!1),M=null!==(x=(0,je.getRequestContext)().isLocaleRTL)&&void 0!==x&&x?De.kM:De.lN,{container:{containerType:R}}=(0,s.Jy)(),A=e=>{v&&Ne.F.logManualImpression(v,"Charts"===R?"Highlight":"Select"),u&&!g&&p&&((0,Me.b)()[p]({url:u,fallbackUrl:m}),e.preventDefault())},O=e?d.o.OneByOne:d.o.SixteenByNine,B=n.createElement("h3",{"aria-label":a,className:l()({[Se]:e})},n.createElement(He,{displayTitle:a,overlayTextPosition:"Center_Center"})),G=(a,i)=>n.createElement(Le.w,{alt:t,src:a,imageClassName:c,wrapperClassName:l()(o),aspectRatio:O,sizesOptions:{defaultSrcSize:e?245:540,srcSizes:e?qe:Ze},srcSetWidths:e?Ue:$e,baseValue:e?375:720,parentListeners:{onError:i},shouldLazyLoad:I,debugID:k,elementTiming:L}),V=i?G(i,S):n.createElement(n.Fragment,null);return n.createElement("div",{className:l()(xe,r),"data-testid":"packshot"},u&&!g&&!f&&!b&&n.createElement("a",{href:u,className:l()(we,{[Pe]:T}),onClick:A,onKeyDown:E,role:C},a),g&&n.createElement(Ie,{prerolls:g.prerolls,canPlay:g.canPlay,delay:g.delay,placement:g.placement,className:null!==(w=g.className)&&void 0!==w?w:"",draperParentListeners:{onClick:A},playback:ke.Restart,playerIsActive:!0,link:u,noBottomCornerRadiusLink:T,refMarker:_,titleID:k,containerType:R}),i&&!P?V:e?B:n.createElement(ze,{fallbackImage:G(M,N),fallbackTitleText:a,hasFallbackImageErrored:D,aspectRatio:O}),h,y,f,b)},Ke="ngPjD-",Xe="iQ3mqd",Ye="PdTBRa",Qe="XadxaR",et="QvLzEW",tt="VdW1kY",at="_1U2rMW",nt="ivxXre",it="n3eJPz",rt="Ij6fsq",lt="N9qNfi",st="YwLBus",ot="FtAlgN",ct="_27uDRL",dt="_01my7t",ut="_8QS9jO",mt="sVc6jn",pt="c5buE5",gt="RuWlvN",vt="kT254+",ht="RPY2bm",yt="_0SSfhT",ft="ec67mb",bt="Qky6bp",Et="dDvmDQ",Ct="FG-9uo",Tt="_0mVI72",_t="_0Xxh5H",kt="giv-Mo",It="D9YnH6",Lt="-b+JVg",xt="Fi9WuY",wt="omNIKl",Pt="O+WH8U",St="IUzlM1",Dt="ZdMG6X",Nt="VrHr6l",Mt="_3UuiDN",Rt="_0dqiQi",At="UFroed";function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ot.apply(this,arguments)}const Bt=({uniqueId:e,className:t,buttonIcon:a,label:i,buttonClassName:r,labelClassName:s,dropdownElements:o,dropdownOpen:c=!1,smallIconVariant:d=!1,isDefaultCheck:u=!1,onClick:m})=>{const p=u?{checked:c}:{defaultChecked:c},g=l()(xt,t,Nt);return n.createElement("aside",{className:g,"data-testid":"dropdown-button"},n.createElement("input",Ot({type:"checkbox",autoComplete:"off",id:e,className:wt,onChange:m},p)),n.createElement("label",{htmlFor:e,className:l()(St,r,{[Dt]:d})},n.createElement("span",{className:Pt},a)),i&&n.createElement("label",{className:l()(Mt,s)},i),n.createElement("ul",{className:Rt},o.map(((e,t)=>n.createElement("li",{key:`dropdown-element-${t}`,className:At},e)))))},Gt="VFWNV8";var Vt=a("./node_modules/@amzn/dvui/dist/Icons/Trailer.js"),Wt=a.n(Vt),Ft=a("./src/util/utils/refMarker.ts"),Ht=a("./src/util/utils/hooks/useRemasterGating.ts"),zt=a("./node_modules/@amzn/dvui/dist/Icons/TrailerIcon.js"),jt=a.n(zt),Ut=a("./src/shared/CS/utils/icons.ts"),$t=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/Trailer.js"),qt=a.n($t);const Zt=({trailer:e,onPlay:t,buttonStyle:a,textStyle:i,isInDropdown:r,isModalVariant:s,parentElement:o,logActionCounter:c})=>{const{enabled:d}=(0,Ht.F)(),{playbackURL:u,playbackID:m,videoMaterialType:p,refMarker:g,text:v,signInURL:h,fallbackURL:y}=e,f=e=>{null==c||c("TrailerActionClick"),o&&Ne.F.logManualImpression(o,"Select"),t({playbackUrl:u,fallbackUrl:y,contentConfig:{asin:m,videoType:p,trailer:!0,ref:g},signInUrl:h,refMarker:(0,Ft.vA)(null!=g?g:"atv_unknown",p)}),e.preventDefault()},b=null==v?void 0:v.replace("{conditionalLineBreak}",""),E=d?n.createElement(qt(),null):n.createElement(jt(),{width:Ut.Nu,height:Ut.W6});return n.createElement("form",{action:h||u,method:"GET"},r?n.createElement("button",{type:"submit",className:l()(Gt,a),onClick:f,"data-testid":"trailer"},s?n.createElement(jt(),null):n.createElement(Wt(),null),n.createElement("span",{className:i}," ",b," ")):n.createElement(ae,{onSecondaryButtonClick:f,label:b,labelClassName:i,className:a,isInverted:!1,isDisabled:!1,icon:E,smallIconVariant:!d,testID:"trailer"}))};var Jt=a("./node_modules/@amzn/dvui/dist/Icons/Cancel.js"),Kt=a.n(Jt),Xt=a("./src/shared/WebSPA/Context.tsx"),Yt=a("./src/util/utils/promise.ts");const Qt={_connected:!1,cardIndexWithMiniDetails:void 0,actions:void 0},ea=n.createContext(Qt);ea.displayName="MiniDetailsContext";var ta=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/Hide.js"),aa=a.n(ta);const na=({hideThisAction:e,titleID:t,buttonStyle:a,textStyle:i,isInDropdown:r,isModalVariant:l,dismissModal:o,logActionCounter:c})=>{const{actions:{onHideThis:d}}=(0,s.Jy)(),u=(0,Xt.CU)(),{enabled:m}=(0,Ht.F)(),{cardIndexWithMiniDetails:p,actions:g}=n.useContext(ea),v=e=>{e.preventDefault(),null==c||c("HideThisActionClick"),l&&"Hide"===h&&(null==o||o()),d(e,t),!l&&p&&(null==g||g.reportHoverOrFocusEvent({cardIndex:p,event:"BLUR"})),u&&(0,Yt.SD)((()=>u.invalidatePageCaches()))},{tag:h,text:y,endpoint:{partialURL:f,query:b}={partialURL:"",query:{}}}=e,E=Object.keys(b).map((e=>n.createElement("input",{type:"hidden",name:e,defaultValue:b[e],key:e}))),C=m?n.createElement(aa(),null):n.createElement(Kt(),{width:Ut.Nu,height:Ut.W6});return n.createElement("form",{action:f,method:"POST"},E,r||"Hide"!==h?n.createElement("button",{type:"submit",className:a,onClick:v,"data-testid":"hide-this"},"Hide"===h&&n.createElement(Kt(),null),n.createElement("span",{className:i},y)):n.createElement(ae,{onSecondaryButtonClick:v,label:y,labelClassName:i,className:a,isInverted:!1,isDisabled:!1,icon:C,smallIconVariant:!m,testID:"hide-this"}))};var ia=a("./src/shared/player/integration/playbackArea.tsx"),ra=a("./node_modules/@amzn/dvui/dist/Icons/Overflow.js"),la=a.n(ra),sa=a("./node_modules/@amzn/dvui/dist/Icons/Tick.js"),oa=a.n(sa),ca=a("./node_modules/@amzn/dvui/dist/Icons/Info.js"),da=a.n(ca),ua=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/Add.js"),ma=a.n(ua),pa=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/Check.js"),ga=a.n(pa),va=a("./node_modules/@amzn/dvui/dist/Icons/WishlistAdd.js"),ha=a.n(va),ya=a("./node_modules/@amzn/dvui/dist/Icons/Delete.js"),fa=a.n(ya);const ba="nBtA6v";var Ea=a("./src/util/types/wps/mystuff.ts"),Ca=a("./src/shared/CS/components/Modal/Modal.tsx"),Ta=a("./src/shared/CS/components/Text/Text.tsx"),_a=a("./src/shared/CS/components/Modal/Modal.module.scss");const ka=({text:e,icon:t,testId:a,modalProps:i,onDismiss:r,onPrimaryAction:l,requireModalConfirmation:s=!1,buttonTestId:o,buttonStyle:c,textStyle:d,isInDropdown:u,logActionCounter:m})=>{const{enabled:p}=(0,Ht.F)(),[g,v]=n.useState(!1),h=e=>{e.preventDefault(),null==m||m("LibraryItemActionClick"),s?v(!0):(l(e),null==r||r())},y=()=>{v(!1),null==r||r()},{modalTestId:f,modalStyle:b,modalText:E,modalTextWarning:C,modalTitle:T,modalPrimaryActionText:_,modalSecondaryActionText:k}=i||{};return n.createElement("div",{"data-testid":a},i&&n.createElement(Ca.u,{testID:f,className:b,isVisible:g,titleText:T,primaryActionText:_,secondaryActionText:k,onPrimaryAction:e=>{e.preventDefault(),l(e),y()},onSecondaryAction:y,onRequestClose:y,body:n.createElement(Ta.Z.Body,{className:_a.Z.bodyWrapper},n.createElement("p",null,E),C&&n.createElement("p",null,C))}),u?n.createElement("button",{type:"submit",className:c,onClick:h,"data-testid":o},t,n.createElement("span",{className:d},e)):n.createElement(ae,{onSecondaryButtonClick:h,label:e,labelClassName:d,className:c,isInverted:!1,isDisabled:!1,icon:t,smallIconVariant:!p,testID:o}))},Ia=({titleID:e,action:t,icon:a,buttonStyle:i,textStyle:r,testId:l,onDismiss:o,isInDropdown:c,logActionCounter:d})=>{const{text:u,modalTitle:m,modalPrimaryActionText:p,modalSecondaryActionText:g,modalText:v,modalTextWarning:h}=t,{actions:{onLibraryAction:y}}=(0,s.Jy)();return n.createElement(ka,{requireModalConfirmation:t.state===Ea.GI.HIDDEN||t.state===Ea.GI.REMOVED,text:u,icon:a,buttonStyle:i,buttonTestId:"library-item-action-button",textStyle:r,testId:l,modalProps:{modalTitle:m,modalPrimaryActionText:p,modalSecondaryActionText:g,modalTextWarning:h,modalText:v,modalStyle:ba,modalTestId:"library-item-action-confirmation-modal"},onPrimaryAction:()=>{y(e,t)},onDismiss:o,isInDropdown:c,logActionCounter:d})};var La=a("./node_modules/@amzn/dvui/dist/Icons/StartOver.js"),xa=a.n(La);const wa=(e,t,a,i,r,l,s)=>{let o;switch(t.state){case Ea.GI.HIDDEN:case Ea.GI.REMOVED:o=n.createElement(fa(),!i&&{width:Ut.Nu,height:Ut.W6});break;case Ea.GI.VISIBLE:o=n.createElement(xa(),!i&&{width:Ut.Nu,height:Ut.W6})}return n.createElement(Ia,{titleID:e,action:t,icon:o,buttonStyle:r,textStyle:a,isInDropdown:i,testId:`library-${t.state.toLowerCase()}-action`,onDismiss:l,logActionCounter:s})};var Pa=a("./node_modules/@amzn/dvui/dist/Text.js"),Sa=a("./src/util/utils/dvstring/index.ts"),Da=a("./src/util/types/wps/shared.ts"),Na=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/Play.js"),Ma=a.n(Na),Ra=a("./src/util/wrappers/LoggersContext.tsx"),Aa=a("./src/shared/Live/components/StreamSelectorModal/StreamSelector.tsx"),Oa=a("./src/shared/Live/components/Playback/Playback.tsx");const Ba="rY7SY5",Ga=({onClick:e})=>n.createElement("button",{onClick:e,tabIndex:-1,"aria-hidden":!0,className:Ba,"data-testid":"invisible-play"}),Va=e=>!!e&&("EMBEDDED"!==e&&"NONE"!==e);var Wa=a("./node_modules/@amzn/dvui/dist/Fable/components/Button/index.js"),Fa=a("./node_modules/@amzn/dvui/dist/Fable/components/PlayButton/index.js"),Ha=a("./src/shared/player/ipadDeeplinkUtils.ts"),za=a("./src/util/utils/titleType.ts");let ja=function(e){return e[e.Default=0]="Default",e[e.Square=1]="Square",e[e.Invisible=2]="Invisible",e[e.Modal=3]="Modal",e}({});const Ua=({playbackAction:e,playbackGroup:t,streamSelectorProps:a,titleId:i,label:r,className:l,playButtonVariant:o="standard",buttonVariant:c=ja.Default,carouselRefTag:d="atv_unknown",labelClassname:u,logActionCounter:m,impressionsRef:g,entityType:v})=>{var h,y;const{actions:{getEnrichments:f},enrichments:b}=(0,s.Jy)(),{openSsm:E}=n.useContext(Aa.mY),{isInResiliencyMode:C}=(0,Ee.lO)(),{container:{containerType:T}}=(0,s.Jy)(),_=(0,Ra.L1)(),k="COLLAPSED"===(null==t||null===(h=t.groupMetadata)||void 0===h?void 0:h.behaviour)?null===(y=t.groupTreatments)||void 0===y?void 0:y.displayTreatments.label:r,{enabled:I}=(0,Ht.F)();return n.createElement(ia.ET.Consumer,null,(({onPlay:r,launchType:s})=>{var h,y,L;const x="PVVideoPlayerPlay",w="PVVideoPlayerClosed",P=()=>{(0,_e.h)("PlayStart",T),window.removeEventListener(x,P)},S=()=>{i&&f([i],!0),window.removeEventListener(w,S)},D=n=>{var l,o;window.addEventListener(x,P),window.addEventListener(w,S);const c=null!==(l=e.titleID)&&void 0!==l?l:e.channelId;if(null==m||m("PlayActionClick"),(0,_e.h)("PlayButton",T),(null==v?void 0:v.toString())===za.iO&&(0,_e.h)("SportsVodPlayButton",T),g&&Ne.F.logManualImpression(g,"Select"),e.isFallback&&p.c.count("DVWebFallbackPlaybackAction"),r&&"COLLAPSED"===(null==t||null===(o=t.groupMetadata)||void 0===o?void 0:o.behaviour)){const{deeplinkUrl:e,fallbackUrl:l}=null==t?void 0:t.groupMetadata;e&&Va(s)?(0,Me.b)()[s]({url:e,fallbackUrl:l}):s&&c&&(0,Ha.GY)(s)?(0,Ha.v7)(c):((e,t)=>{var n,r,l,s;const o={playbackActions:e.playbackActions,defaultResumeTime:0,carouselRefTag:d,triggerLocation:null==a?void 0:a.triggerLocation},c={logger:_.logger,refMarkerPrefix:"atv_hm",triggerLocation:null==a?void 0:a.triggerLocation,eventTitle:null==a?void 0:a.eventTitle,liveState:{text:null==a||null===(n=a.liveInfo)||void 0===n?void 0:n.label,isLive:"LIVE"===(null==a||null===(r=a.liveInfo)||void 0===r?void 0:r.status)},titleMetadataBadge:null==a?void 0:a.titleMetadataBadge,playbackContentList:(0,Oa.xU)(o),onPlay:t,recordSeasonCheckboxProps:i?null===(l=b[i])||void 0===l||null===(l=l.recordSeason)||void 0===l?void 0:l.checkbox:void 0,customerIntentAction:i?null===(s=b[i])||void 0===s||null===(s=s.recordSeason)||void 0===s?void 0:s.customerIntentAction:void 0};(0,_e.h)("OpenSSM",T),E(c)})(t,r),n.preventDefault()}else if(r&&e.fallbackUrl&&c){var u;const t=C?Da.gz.LIVE:e.videoMaterialType;r({playbackUrl:e.fallbackUrl,fallbackUrl:e.appFallbackUrl,signInUrl:e.signInUrl,linear:N,contentConfig:{asin:c,videoType:t,trailer:!1,position:e.resumeTime||0,ref:e.refMarker,playbackEnvelope:null!==(u=e.playbackExperienceMetadata)&&void 0!==u&&u.playbackEnvelope?{envelope:e.playbackExperienceMetadata.playbackEnvelope,correlationId:e.playbackExperienceMetadata.correlationId,expiration:e.playbackExperienceMetadata.expiryTime}:void 0,playbackExperiences:null==e?void 0:e.playbackExperiences},refMarker:(0,Ft.vA)(d,e.videoMaterialType,e.playbackStatus)}),n.preventDefault()}},N=Boolean(e.channelId),M=N&&"EMBEDDED"===s?void 0:e.fallbackUrl,R=n.createElement(Fa.PlayButton,{testID:"play",ariaLabel:null!==(h=e.label)&&void 0!==h?h:"",label:null!=k?k:e.label,className:l,href:M,onClick:D,size:"mini"===o?Fa.PlayButtonSize.mini:void 0,progressPercentage:I?null===(y=e.progress)||void 0===y?void 0:y.percentage:void 0,progressColor:I?null!==(L=e.progress)&&void 0!==L&&L.isLive?"live":"vod":void 0});switch(c){case ja.Default:return R;case ja.Square:return I?R:n.createElement(Wa.PrimaryLinkButton,{href:M,icon:n.createElement(Ma(),null),onClick:D,testID:"play-primary-link",className:l},(0,Sa.Wb)(null!=k?k:e.label));case ja.Invisible:return n.createElement(Ga,{onClick:D});case ja.Modal:return n.createElement("button",{className:l,onClick:D,"data-testid":"play-modal"},n.createElement(Ma(),null),n.createElement(Pa.Text,{className:u,string:e.label}))}}))};function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$a.apply(this,arguments)}const qa=({playButton:e,playbackOrTitleArt:t,titleID:a,watchlistAction:i,trailer:r,hideThisAction:o,dropdownUniqueId:c,dropdownCallback:d,libraryItemActions:u,carouselRefTag:m,recordSeasonTooltipText:g,isModalVariant:v,detailsPageUrl:h,playbackActionModal:y,playbackGroupModal:f,dismissModal:b,parentElement:E,signInTrailerURL:C,entityType:T})=>{const{actions:{onWatchlistToggle:_},consumingWidgetType:k,container:I}=(0,s.Jy)(),{onPlay:L}=n.useContext(ia.ET),{cardIndexWithMiniDetails:x,actions:w}=n.useContext(ea),{getString:P}=(0,Ee.lO)(),{enabled:S}=(0,Ht.F)(),D=null==u?void 0:u.softDeleteAction,N=null==u?void 0:u.restoreAction,M=null==u?void 0:u.permanentDeleteAction,R="MyStuff"===k&&!D&&!M,A=e=>{p.c.count("DVWebComponentInteraction",{Component:"StandardMiniDetailsControls",Action:e,InteractionType:K})},O=()=>{A("ViewDetailsClick"),E&&Ne.F.logManualImpression(E,"Select")};function B(e){A("ToggleWatchListClick"),v&&R?null==b||b():R&&null!=x&&(null==w||w.reportHoverOrFocusEvent({cardIndex:x,event:"BLUR"})),"string"==typeof a&&_(e,a,m)}const G="remove"===(null==i?void 0:i.tag.toLowerCase()),V=[],W=[],F=r&&L,H="Charts"!==I.containerType&&"Search"!==k&&"string"==typeof a&&o,z=D&&"string"==typeof a,j=N&&"string"==typeof a,U=M&&"string"==typeof a,$=1===[F,H,z,j,U].filter(Boolean).length,q=l()(bt,Et),Z=l()(Ct,Tt),J={buttonStyle:v?q:l()({[yt]:!S,[bt]:!$&&!S}),textStyle:v?Z:$?_t:Ct,isInDropdown:!$&&!S||null!=v&&v,isModalVariant:v},K=v?xn.TouchEnabled:xn.NonTouchEnabled;if(F){const e=n.createElement(Zt,$a({trailer:{...r,signInURL:null!=C?C:null==r?void 0:r.signInURL},onPlay:L},J,{isModalVariant:v,logActionCounter:A,parentElement:E}));V.push(e),v&&W.push(e)}if(v&&y){const e=n.createElement(Ua,{playbackAction:y,playbackGroup:f,buttonVariant:ja.Modal,className:q,labelClassname:Z,logActionCounter:A,impressionsRef:E,entityType:T});W.push(e)}if(v&&i){const e=n.createElement("button",{className:q,onClick:B,"data-testid":G?"watchlist-remove":"watchlist-add"},G?n.createElement(oa(),null):n.createElement(ha(),null),n.createElement(Pa.Text,{className:Z,string:P("DV_WEB_WATCHLIST_TOOLTIP")}));W.push(e)}if(H){const e=n.createElement(na,$a({hideThisAction:o,titleID:a,dismissModal:b},J,{logActionCounter:A}));V.push(e),v&&W.push(e)}if(z){const e=wa(a,D,J.textStyle,J.isInDropdown,J.buttonStyle,void 0,A);V.push(e),v&&W.push(e)}if(j){const e=wa(a,N,J.textStyle,J.isInDropdown,J.buttonStyle,void 0,A);V.push(e),v&&W.push(e)}if(U){const e=wa(a,M,J.textStyle,J.isInDropdown,J.buttonStyle,void 0,A);V.push(e),v&&W.push(e)}if(v&&h){const e=n.createElement("a",{className:q,href:h,onClick:O,"data-testid":"view-details"},n.createElement(da(),null),n.createElement(Pa.Text,{className:Z,string:P("DV_WEB_MORE_DETAILS")}));W.push(e)}const X=G?void 0:g;return v?n.createElement("ul",{className:kt},W.map(((e,t)=>n.createElement("li",{key:`modal-element-${t}`},e)))):S?n.createElement("section",{className:l()(It)},e,n.createElement("section",{className:Lt},i&&n.createElement(te.PrimaryIconButton,{icon:G?n.createElement(ga(),null):n.createElement(ma(),null),onClick:B,label:X||P("DV_WEB_WATCHLIST_TOOLTIP"),ariaLabel:X||P("DV_WEB_WATCHLIST_TOOLTIP"),testID:G?"watchlist-remove":"watchlist-add"}),V)):n.createElement("section",{className:vt},n.createElement("div",null,t),n.createElement("section",{className:ht},i&&n.createElement(ae,{icon:G?n.createElement(oa(),{height:Ut.W6,width:Ut.Nu}):n.createElement(ha(),{height:Ut.W6,width:Ut.Nu}),isInverted:!1,onSecondaryButtonClick:B,isDisabled:!1,label:X||P("DV_WEB_WATCHLIST_TOOLTIP"),className:yt,labelClassName:_t,smallIconVariant:!0,testID:G?"watchlist-remove":"watchlist-add"}),$&&1==V.length&&V[0],!$&&V.length>1&&c&&n.createElement(Bt,{className:ft,uniqueId:c,buttonIcon:n.createElement(la(),{height:Ut.W6,width:Ut.Nu}),label:P("DV_WEB_OVERFLOW_MENU_TOOLTIP"),buttonClassName:yt,labelClassName:_t,dropdownElements:V,smallIconVariant:!0,onClick:d})))};var Za=a("./src/shared/Explore/containers/StandardMiniDetails/StandardMiniDetailsMetadata.module.scss"),Ja=a("./src/shared/Explore/containers/StandardMiniDetails/StandardMiniDetailsMetadataRemaster.module.scss");const Ka="Kwb7-Y",Xa="WZDhY+",Ya=n.memo((({full:e,half:t=!1,total:a=5,className:i})=>{const r=Math.max(Math.min(e,a),0),l=[];for(let e=0;e<a;e++)l.push(n.createElement("use",{key:e,href:"#full",x:24*e,className:e<r?Xa:Ka}));return r<a&&t&&l.push(n.createElement("use",{key:"half",href:"#half",x:24*r,className:Xa})),n.createElement("svg",{className:i,viewBox:`0 0 ${24*a} 24`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("defs",null,n.createElement("symbol",{id:"full"},n.createElement("path",{d:"M1.2809 10.3315L6.02519 15.2548L4.81316 21.6846C4.65559 22.5206 5.54745 23.1589 6.28793 22.7402L11.9952 19.5132L17.8071 22.864C18.5354 23.2839 19.4253 22.6722 19.2942 21.8418L18.2102 14.9747L22.7218 10.2565C23.2775 9.67533 22.9548 8.7093 22.1614 8.57881L15.6881 7.51408L12.8897 1.57378C12.5241 0.797621 11.4149 0.812151 11.0697 1.59762L8.45025 7.55822L1.83786 8.65115C1.04318 8.7825 0.722003 9.75149 1.2809 10.3315Z"})),n.createElement("symbol",{id:"half"},n.createElement("path",{d:"M12 1.0001C11.6245 0.994797 11.2467 1.19602 11.0697 1.60111L8.45025 7.59652L1.83786 8.69583C1.04318 8.82795 0.722003 9.80259 1.2809 10.386L6.02519 15.338L4.81316 21.8054C4.65559 22.6462 5.54745 23.2883 6.28793 22.8672L11.9952 19.6213L12 19.6241V1.0001Z"}))),l)})),Qa="GrFd67",en="_5-C52A";var tn=a("./node_modules/@amzn/dvui/dist/StarRating.js");const an=({customerReviews:e,className:t})=>{const a=(0,tn.sanitiseNumber)(e.value),i=Math.floor(a);return n.createElement("span",{className:l()(Qa,en,t),"data-testid":"star-rating",role:"img","aria-label":e.customerReviewsText.string},n.createElement(Ya,{full:i,half:a!==i}))},nn={NZ:{g:{stringId:"vcc_maturity_rating_oflc_g",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/g.png"},pg:{stringId:"vcc_maturity_rating_oflc_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/pg.png"},13:{stringId:"vcc_maturity_rating_cvod_13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/cvod/13.png"},rp13:{stringId:"vcc_maturity_rating_oflc_rp13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/rp13.png"},r13:{stringId:"vcc_maturity_rating_oflc_r13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r13.png"},r15:{stringId:"vcc_maturity_rating_oflc_r15",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r15.png"},m:{stringId:"vcc_maturity_rating_oflc_m",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/m.png"},16:{stringId:"vcc_maturity_rating_cvod_16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/cvod/16.png"},rp16:{stringId:"vcc_maturity_rating_oflc_rp16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/rp16.png"},r16:{stringId:"vcc_maturity_rating_oflc_r16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r16.png"},18:{stringId:"vcc_maturity_rating_cvod_18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/cvod/18.png"},rp18:{stringId:"vcc_maturity_rating_oflc_rp18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/rp18.png"},r18:{stringId:"vcc_maturity_rating_oflc_r18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r18.png"},r:{stringId:"vcc_maturity_rating_oflc_r",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/oflc/r.png"}},BR:{l:{stringId:"vcc_maturity_rating_djctq_l",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/l.png"},10:{stringId:"vcc_maturity_rating_djctq_10",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/10.png"},12:{stringId:"vcc_maturity_rating_djctq_12",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/12.png"},14:{stringId:"vcc_maturity_rating_djctq_14",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/14.png"},16:{stringId:"vcc_maturity_rating_djctq_16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/16.png"},18:{stringId:"vcc_maturity_rating_djctq_18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/djctq/18.png"},al:{stringId:"vcc_maturity_rating_adjctq_al",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/al.png"},a10:{stringId:"vcc_maturity_rating_adjctq_a10",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a10.png"},a12:{stringId:"vcc_maturity_rating_adjctq_a12",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a12.png"},a14:{stringId:"vcc_maturity_rating_adjctq_a14",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a14.png"},a16:{stringId:"vcc_maturity_rating_adjctq_a16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a16.png"},a18:{stringId:"vcc_maturity_rating_adjctq_a18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/adjctq/a18.png"}},ZA:{a:{stringId:"vcc_maturity_rating_fpb_a",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/a.png"},pg:{stringId:"vcc_maturity_rating_fpb_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/pg.png"},"7-9-pg":{stringId:"vcc_maturity_rating_fpb_7_9_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/7-9-pg.png"},"10-12-pg":{stringId:"vcc_maturity_rating_fpb_10_12_pg",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/10-12-pg.png"},13:{stringId:"vcc_maturity_rating_fpb_13",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/13.png"},16:{stringId:"vcc_maturity_rating_fpb_16",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/16.png"},18:{stringId:"vcc_maturity_rating_fpb_18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/18.png"},x18:{stringId:"vcc_maturity_rating_fpb_x18",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/x18.png"},xx:{stringId:"vcc_maturity_rating_fpb_xx",url:"https://m.media-amazon.com/images/G/01/vcc/maturity-ratings-logos/png/fpb/xx.png"}}};var rn=a("./node_modules/@amzn/dvui/dist/AgeRating.js");const ln=({locale:e,rating:t,title:a,className:i})=>{var r;const l=(0,je.getRequestContext)();if(!t)return null;const s=null===(r=nn[null==l?void 0:l.recordTerritory])||void 0===r||null===(r=r[t])||void 0===r?void 0:r.url;return s?n.createElement(rn.AgeRating,{ariaLabel:a,logoUrl:s,className:i}):n.createElement(rn.AgeRating,{ariaLabel:a,rating:t,locale:e,className:i})},sn="XkwSbj";var on=a("./node_modules/@amzn/dvui/dist/TextBlock.js");const cn=({synopsis:e,className:t})=>n.createElement(on.TextBlock,{testID:"synopsis",className:l()(sn,t)},e);var dn=a("./src/shared/Explore/components/StationDetails/StationDetails.tsx"),un=a("./node_modules/@amzn/dvui/dist/Fable/components/MaturityRating/index.js"),mn=a("./src/shared/Explore/components/StatusBadge/StatusBadge.tsx"),pn=a("./node_modules/@amzn/dvui/dist/HighValueMessage.js"),gn=a("./src/shared/utils/highValueMessage/variantsMap.ts"),vn=a("./node_modules/@amzn/dvui/dist/Fable/components/StarRating/index.js");function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hn.apply(this,arguments)}const yn=({customerReviews:e,releaseYear:t,runtime:a,contentMaturityRating:i,maturityRatingBadge:r,highValueMessage:s,titleMetadataBadge:o,synopsis:c,linearProps:d,liveEventMetadata:u,isModalVariant:m,localisedStartTime:p,seasonsDescriptor:g})=>{const{stationTitle:v,episodeTitle:h,nextBroadcastTitle:y,nextBroadcastStartTime:f,nextUpText:b}=null!=d?d:{},E={stationTitle:v,nextBroadcastTitle:y,nextBroadcastStartTime:f,nextUpText:b},{enabled:C}=(0,Ht.F)();var T,_,k,I;return m?n.createElement(n.Fragment,null,n.createElement("section",{className:l()(Za.Z.metadata,Za.Z.metadataModal)},r?n.createElement(un.MaturityRating,{rating:r.displayText,locale:null===(T=r.countryCode)||void 0===T?void 0:T.toLowerCase(),logoUrl:r.logoUrl,title:r.description,ariaLabel:r.description,className:Za.Z.maturityRating}):i&&n.createElement(ln,hn({},i,{className:Za.Z.maturityRating})))):C?n.createElement(n.Fragment,null,n.createElement("section",{className:Ja.Z.metadata},!u&&o&&n.createElement(mn.O,{style:o.level,label:o.message,testID:"metadata-badge"}),e&&n.createElement(vn.StarRating,{rating:e.value,ariaLabel:e.customerReviewsText.string,testID:"fable-star-rating"}),t&&n.createElement("span",{className:Ja.Z.metadataText,"data-testid":"release-year"},t),g&&n.createElement("span",{className:Ja.Z.metadataText,"data-testid":"seasons-descriptor"},g),a&&n.createElement("span",{className:Ja.Z.metadataText,"data-testid":"runtime"},a),r?n.createElement(un.MaturityRating,{rating:r.displayText,locale:null===(_=r.countryCode)||void 0===_?void 0:_.toLowerCase(),logoUrl:r.logoUrl,title:r.description,ariaLabel:r.description}):i&&n.createElement(ln,hn({},i,{className:Ja.Z.maturityRating}))),c&&n.createElement(cn,{className:Ja.Z.synopsis,synopsis:c}),(v||y||f)&&n.createElement(dn.q,hn({isRemasterOn:C},E))):n.createElement(n.Fragment,null,h&&n.createElement("section",{className:Za.Z.metadata},h),n.createElement("section",{className:Za.Z.metadata},o&&n.createElement(mn.O,{style:o.level,label:o.message,testID:"metadata-badge"}),e&&n.createElement(an,{className:l()(Za.Z.metadataText,Za.Z.starRating),customerReviews:e}),p&&n.createElement("span",{className:Za.Z.metadataText},p),(null==u?void 0:u.timeBadge)&&n.createElement("span",{className:Za.Z.metadataText,"data-testid":"date-time"},u.timeBadge),t&&n.createElement("span",{className:Za.Z.metadataText,"data-testid":"release-year"},t),g&&n.createElement("span",{className:Za.Z.metadataText,"data-testid":"seasons-descriptor"},g),a&&n.createElement("span",{className:Za.Z.metadataText,"data-testid":"runtime"},a),r?n.createElement(un.MaturityRating,{rating:r.displayText,locale:null===(k=r.countryCode)||void 0===k?void 0:k.toLowerCase(),logoUrl:r.logoUrl,title:r.description,ariaLabel:r.description}):i&&n.createElement(ln,hn({},i,{className:Za.Z.maturityRating}))),(null==s?void 0:s.message)&&n.createElement(pn.HighValueMessage,{icon:s.level,message:s.message,variant:gn.K[null!==(I=s.level)&&void 0!==I?I:""],className:Za.Z.highValueMessage}),c&&n.createElement(cn,{className:Za.Z.synopsis,synopsis:c}),(v||y||f)&&n.createElement(dn.q,E))},fn="_4bPlFR";let bn=function(e){return e.Mega="h2",e.Super="h2",e.Header="h3",e.SubHeader="h4",e}({});const En=e=>{const[t,a]=n.useReducer((()=>!0),!1),{title:i,titleLogoOptions:r,headingClassName:s,headingLevel:o,baseValue:c,providerLogoOptions:d,titleID:u}=e,m=`${null!=o?o:bn.Header}`,p=r&&n.createElement(Le.w,{alt:i,src:r.url,wrapperClassName:r.wrapperClassName,imageClassName:r.imageClassName,baseValue:c||500,autoCrop:!0,shouldLazyLoad:r.shouldLazyLoadImage,debugID:u,parentListeners:{onError:a}}),g=r&&!t?p:i;return n.createElement(n.Fragment,null,d&&n.createElement(Le.w,{alt:d.alt,src:d.url,wrapperClassName:d.wrapperClassName,imageClassName:d.imageClassName,baseValue:500,autoCrop:!0,shouldLazyLoad:d.shouldLazyLoadImage,debugID:u}),n.createElement(m,{className:l()(fn,s),"data-testid":"title-art","aria-label":i},e.url?n.createElement("a",{href:e.url,tabIndex:-1,"aria-hidden":!0,onClick:()=>{e.parentElement&&Ne.F.logManualImpression(e.parentElement,"Select")}},g):g))};var Cn=a("./src/util/utils/sample.ts"),Tn=a("./node_modules/@amzn/dvui/dist/Button.js"),_n=a.n(Tn),kn=a("./node_modules/@amzn/dvui/dist/Fable/components/Modes/index.js"),In=a("./src/util/performance/fluidityTiming.ts");function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ln.apply(this,arguments)}let xn=function(e){return e.TouchEnabled="TouchEnabled",e.NonTouchEnabled="NonTouchEnabled",e}({});const wn=({className:e,titleID:t,focusMessage:a,playbackAction:i,playbackGroup:r,streamSelectorProps:s,watchlistAction:o,trailer:d,hideThisAction:u,providerLogo:m,displayTitle:g,customerReviews:v,releaseYear:h,runtime:y,contentMaturityRating:f,maturityRatingBadge:b,highValueMessage:E,synopsis:C,linearProps:T,callToActionButtonLabel:_,callToActionButtonLink:k,liveEventMetadata:I,carouselRefTag:L,libraryItemActions:x,recordSeasonTooltipText:w,showTouchModal:P,dismissTouchModal:S,detailsPageUrl:D,titleMetadataBadge:N,parentElement:M,signInTrailerURL:R,seasonsDescriptor:A,entityType:O})=>{const[B,G]=n.useState(!1),{logger:V}=(0,Ra.L1)(),{isTouchEnabledWindowsDevice:W}=(0,Ee.lO)(),[F,H]=n.useState(null),{enabled:z}=(0,Ht.F)();n.useEffect((()=>{const e=W?xn.TouchEnabled:xn.NonTouchEnabled,t=P?xn.TouchEnabled:xn.NonTouchEnabled;V.count(`DVWeb::StandardMiniDetails::Invocation::${e}`,1,!1),(0,Cn.d)(2,(()=>{p.c.count("DVWebComponentInteraction",{Component:"StandardMiniDetails",Action:"Invocation",InteractionType:t})})),H(document.body),t===xn.NonTouchEnabled&&In.Z.end("MiniDetailsActivation")}),[]);const j=i?n.createElement(Ua,{playButtonVariant:"mini",playbackAction:i,playbackGroup:r,streamSelectorProps:s,label:i.label,titleId:t,carouselRefTag:L,impressionsRef:M,className:l()({[mt]:z}),entityType:O}):void 0,{currentBroadcastStartTime:U}=null!=T?T:{},$=U&&new Date(U).toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0}).toLocaleUpperCase(),q=g?n.createElement(En,{title:g,headingLevel:bn.SubHeader,headingClassName:z?st:at,providerLogoOptions:m?{url:m.url,alt:m.alternateText,wrapperClassName:z?lt:l()(et,{[tt]:!j}),shouldLazyLoadImage:!1}:void 0,titleID:t}):void 0,Z=z||null!=j?j:q,J=`actn-drpdn-${t}`,K=n.useCallback((e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),null==S||S()}),[]),X={customerReviews:v,releaseYear:h,runtime:y,contentMaturityRating:f,maturityRatingBadge:b,highValueMessage:E,synopsis:C,linearProps:T,liveEventMetadata:I,titleMetadataBadge:N,localisedStartTime:$,seasonsDescriptor:A},Y={isModalVariant:P,detailsPageUrl:D,playbackActionModal:i,playbackGroupModal:r,dismissModal:K},Q={playButton:j,playbackOrTitleArt:Z,titleID:t,watchlistAction:o,recordSeasonTooltipText:w,trailer:d,hideThisAction:u,dropdownUniqueId:J,dropdownCallback:e=>G(e.target.checked),libraryItemActions:x,carouselRefTag:L,parentElement:M,signInTrailerURL:R,entityType:O};let ee;if(z){var te;const t=null==T?void 0:T.episodeTitle,r=$&&n.createElement("div",{className:gt,"data-testid":"localised-start-time"},$),s=(null==I?void 0:I.timeBadge)&&n.createElement("div",{className:gt,"data-testid":"date-time"},null==I?void 0:I.timeBadge),o=(null==E?void 0:E.message)&&n.createElement(pn.HighValueMessage,{icon:E.level,message:E.message,variant:gn.K[null!==(te=E.level)&&void 0!==te?te:""],className:pt});ee=n.createElement(kn.ModeNoScaling,{className:l()(rt,e),"data-testid":"standard-mini-details",modeNoScalingType:kn.ModeNoScalingType.screen600},n.createElement("div",{className:ct},q,t&&n.createElement("section",null,t),r,s,o,!i&&_&&k&&n.createElement(Tn.PrimaryButton,{className:ut,href:k,testID:"promotion"},n.createElement(Pa.Text,null,_))),n.createElement(qa,Q),n.createElement(c.n,{className:dt,message:null==a?void 0:a.message,icon:null==a?void 0:a.icon}),n.createElement(yn,X),B&&n.createElement("label",{"data-testid":`${J}-overlay`,className:ot,htmlFor:J,"aria-hidden":"true"}))}else ee=n.createElement("article",{className:l()(Ke,e),"data-testid":"standard-mini-details"},n.createElement(c.n,{className:Ye,labelClassName:Qe,message:null==a?void 0:a.message,icon:null==a?void 0:a.icon}),!i&&_&&k&&n.createElement(Tn.PrimaryButton,{className:nt,href:k,testID:"promotion"},n.createElement(Pa.Text,null,_)),n.createElement(qa,Q),j&&q,n.createElement(yn,X),B&&n.createElement("label",{"data-testid":`${J}-overlay`,className:Xe,htmlFor:J,"aria-hidden":"true"}));return n.createElement(n.Fragment,null,P&&F&&n.createElement(Ca.u,{testID:"minidetails-modal",onRequestClose:K,className:it,titleText:g,isVisible:!0,disableFooter:!0,body:n.createElement(n.Fragment,null,n.createElement(yn,Ln({},X,{isModalVariant:P})),n.createElement(qa,Ln({},Q,Y))),rootElement:F}),!P&&ee)},Pn="Z9dd1d",Sn="_6Ee48g",Dn="_9DLJTq",Nn="adbzBM",Mn="CPzlyj",Rn="pmtwKl",An="l3Byg9",On="yLrUM0",Bn="EltWag",Gn="KMJBuq",Vn="Zwe5a0",Wn="yO1YXp",Fn="frgzFh",Hn="aIGd1S",zn="rNCyT6",jn="XGQ6I8",Un="YpimTj",$n="OLpbif",qn="E1umiD";var Zn=a("./src/util/utils/debounce.ts"),Jn=a("./src/util/utils/domUtils.ts");const Kn=(e,t)=>{const a=Date.now(),n=Math.max(t-e,1),i=a-e;if(i<0)return;return{percentage:Math.min(i/n*100,100),isLive:!0}},Xn=(e,t=0)=>{if(!e)return;const a=Date.now(),n=e&&e.schedule.sort(((e,t)=>e.start-t.start))||[],i=n.findIndex((e=>e.start<a&&e.end>a));return i>-1?n[i+t]:void 0},Yn=(e,t)=>{var a,n;return null!==(a=null==e?void 0:e.metadata.seriesTitle)&&void 0!==a?a:null===(n=t.station)||void 0===n?void 0:n.name};var Qn=a("./node_modules/@amzn/dvui/dist/Icon.js"),ei=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/StoreFilled.js"),ti=a.n(ei);const ai="j5ZgN-",ni="Dj-G4-",ii="jgX4A1",ri="r0m8Kk",li="zhBx7Q",si="K-k6bt",oi="zWk6SW",ci="syyFPX",di="Ll5Wbp",ui="oXKsOR",mi="IcdAu8",pi="gJwnOo",gi="_0rmWBt",vi="GzqpBB",hi="Yh+jMe",yi="_2XQ15l",fi="_7pXMwt",bi="umDKqv";var Ei=a("./node_modules/@amzn/dvui/dist/Fable/components/ProgressBar/index.js");const Ci=({className:e,broadcast:t,nextBroadcastCallback:a,round:i=!0})=>{var r;const l=null===(r=Kn(t.start,t.end))||void 0===r?void 0:r.percentage,[s,o]=n.useState(l);n.useEffect((()=>{const e=setTimeout((()=>{c()}),1e4);return()=>clearTimeout(e)}),[s]),n.useEffect((()=>{c()}),[t]);const c=()=>{var e;const n=null===(e=Kn(t.start,t.end))||void 0===e?void 0:e.percentage;n&&(n>=100?a():o(n))};return s&&s>0?n.createElement(Ei.ProgressBar,{className:e,percentage:s,progressColor:"live",testID:"progress-bar",opaque:!0,round:i}):null};var Ti=a("./node_modules/@amzn/dvui/dist/Fable/components/Gradient/Gradient.js");function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_i.apply(this,arguments)}const ki=({title:e,dateTime:t,progress:a,linearProgress:i,entitlementIconType:r,hovered:s=!1,isSuperCarousel:o=!1,playable:d=!1})=>{var u;const{enabled:m}=(0,Ht.F)(),p=m&&r===c.C.OFFER;if(!(e||t||d||a||i||p))return null;const g=p&&n.createElement(ti(),{size:"size-088",color:"color-store",className:l()(yi,{[vi]:s}),"data-testid":"eoc-icon"}),v=n.createElement(Qn.Icon,{className:l()(hi),use:Qn.IconType.PLAY_ARROW}),h=n.createElement("p",{className:l()(mi)},d&&v,n.createElement("span",{className:t||d?fi:bi},e)),y=d&&!e,f=(y||e||t)&&n.createElement("div",{className:l()({[vi]:s,[ui]:m})},y&&v,e&&h,t&&n.createElement("p",{className:pi},t)),b=a||i,E=!b&&s;let C;return f?C=n.createElement("div",{className:l()(li,{[gi]:b,[vi]:E,[oi]:o})}):p&&(C=n.createElement(Ti.Gradient,{variant:"scrim-eoc","data-testid":"eoc-gradient",className:l()(si,{[vi]:s})})),n.createElement(n.Fragment,null,n.createElement("div",{className:l()(ai,{[ri]:b&&!m,[gi]:b,[ni]:m,[ii]:!s}),"data-testid":"card-overlay"},m?n.createElement("div",{className:di},g,f):f,a&&!i&&n.createElement(Ei.ProgressBar,{progressColor:a.isLive?"live":"vod",percentage:null!==(u=a.percentage)&&void 0!==u?u:0,testID:"progress-bar",opaque:!0,round:!m}),i&&!a&&n.createElement(Ci,_i({className:ci},i,{round:!m}))),C)},Ii=({liveInfo:e,className:t,testID:a})=>{if(!e)return null;const r="LIVE"===e.status?i.aC.INFO_HIGHLIGHT:i.aC.INFO_INACTIVE;return n.createElement(mn.O,{style:r,label:e.label,className:t,testID:a})};function Li(e,t){var a;return!t&&((null==e||null===(a=e.degradations)||void 0===a?void 0:a.includes(i.l4.Playback))||null==e)}function xi(e,t,a){return wi(null==e?void 0:e.playbackActions,t,a)}function wi(e,t,a){var n,i;if(Li(t,a)){const t=null==e?void 0:e[0];return t&&{...t,isFallback:!0}}return null!==(n=null==t||null===(i=t.playbackActions)||void 0===i?void 0:i[0])&&void 0!==n?n:function(e){var t;const a=null==e||null===(t=e.buyBoxActions)||void 0===t?void 0:t[0];return"PLAY"===(null==a?void 0:a.actionType)?a.payload.playbackPayload:void 0}(t)}function Pi(e,t){var a;return Li(e,t)?void 0:{playbackActions:null!==(a=null==e?void 0:e.playbackActions)&&void 0!==a?a:[],groupTreatments:null==e?void 0:e.playbackGroupTreatments,groupMetadata:null==e?void 0:e.playbackGroupMetadata}}var Si=a("./src/shared/Explore/utils/pageWidth.ts");const Di="+YXpVT",Ni="EIGdGc",Mi="dmpz1Y",Ri="nHWvBs",Ai="lzHv2t",Oi="UUey8g",Bi=({message:e,className:t,onUndo:a,undoText:i})=>n.createElement("section",{className:l()(Di,t),"data-testid":"title-removed-overlay"},n.createElement("div",{className:Ni},n.createElement("span",{"data-testid":"title-removed-overlay-message"},e),i&&a&&n.createElement("button",{type:"submit",onClick:a,className:Ai,"data-testid":"removed-card-undo-button"},n.createElement(Pa.Text,{string:i,className:Oi})))),Gi=(e,t,a,n)=>{let i=!1;switch(t){case"IntermissionHero":case"StandardHero":i=n>=2;break;case"Cover":case"Nodes":case"StandardCarousel":case"Charts":case"SuperCarousel":i=n>=5;break;case"Grid":i=n>=15}return(e=>["LandingPage","Search","Genre","Browse","Categories"].includes(e))(e)&&(a>=3||i)&&Vi(t)},Vi=e=>!0,Wi="_56AITU",Fi="M5+zU-";function Hi(e,t,a){const i=n.useRef(),[r,l]=n.useState(!1),[s,o]=n.useState(a),c=n.useCallback((t=>{const n=t.touches.length>1;o(void 0),i.current=window.setTimeout((()=>{o(a),n||(l(!0),(0,_e.h)("MiniDetailsLongPress",e))}),500)}),[]),d=n.useCallback((()=>{o(a),clearTimeout(i.current)}),[]),u=n.useCallback((()=>{o(a),clearTimeout(i.current)}),[]),m=n.useCallback((e=>{"pointerType"in e.nativeEvent&&"touch"===e.nativeEvent.pointerType&&(e.preventDefault(),e.stopPropagation())}),[]),p=n.useCallback((()=>{o(a),l(!1)}),[]),g=n.useCallback((()=>{l(!0)}),[]);n.useEffect((()=>()=>{clearTimeout(i.current)}),[]);const v=n.useMemo((()=>({onTouchStart:c,onTouchMove:d,onTouchEnd:u,onContextMenu:m})),[]);return t?{touchMiniDetailsModalListeners:r?{...v,onTouchStart:void 0}:v,isMiniDetailsModalVisible:r,dismissMiniDetailsModal:p,triggerMiniDetailsModal:g,removeContextMenuClass:Wi,removeDragAnimationClass:Fi,link:s}:{touchMiniDetailsModalListeners:{onTouchStart:c,onTouchMove:d,onTouchEnd:u},isMiniDetailsModalVisible:!1,dismissMiniDetailsModal:()=>{},triggerMiniDetailsModal:g,removeContextMenuClass:void 0,removeDragAnimationClass:void 0,link:a}}var zi=a("./src/shared/CS/components/SingleReactionButton/SingleReactionButton.tsx");const ji="bS5tj3",Ui="hzeCGh",$i="wzHIm0",qi="_4X567c",Zi="jO6IRe",Ji="a9tR+5";var Ki=a("./src/util/utils/hooks/useSiteWideWeblabs.ts"),Xi=a("./node_modules/zustand/esm/vanilla.mjs"),Yi=a("./src/util/api/WPSClient.ts");const Qi=(0,Xi.M)((e=>({numOfLikedCards:0,onboardingLifeCycleCompleted:!1,handleLikeAction:async(t,a)=>{e("Add"===t?e=>({numOfLikedCards:e.numOfLikedCards+1}):e=>({numOfLikedCards:e.numOfLikedCards-1}));const{onboardingLifeCycleCompleted:n,numOfLikedCards:i,setOnboardingStatus:r}=Qi.getState();if(!n&&i>0){const t=await r("COMPLETED_ONBOARDING",a);null!=t&&t.success&&e({onboardingLifeCycleCompleted:!0})}else n&&0==i&&p.c.info("Customer removed all the liked cards during onboarding")},setOnboardingStatus:async(e,t)=>{try{const a=(0,je.getRequestContext)();return await(new Yi.eZ).SetOnboardingStatus({status:e,token:t,context:a})}catch(e){p.c.warn(e)}}})));var er=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts");const tr=({gti:e,reactionAction:t,iconButtonClassname:a})=>{const{actions:{onSetReaction:i},container:{onboardingAction:r,containerType:o}}=(0,s.Jy)(),{clickstream:c,clickstreamPageContext:d,getString:u}=(0,Ee.lO)(),m=(0,Ki.h)()("DV_WEB_FABLE_GRADIENT_MIGRATION_794740").isT1,g=n.createElement(zi.o,{gti:e,reactionAction:t,buttonType:"Like",strings:{likeButtonLabel:u("DV_DP_TR_like_btn"),dislikeButtonLabel:u("DV_DP_TR_dislike_btn"),likeUnselectedAriaLabel:u("DV_DP_TR_like_aria"),likeSelectedAriaLabel:u("DV_DP_TR_liked_aria"),dislikeUnselectedAriaLabel:u("DV_DP_TR_dislike_aria"),dislikeSelectedAriaLabel:u("DV_DP_TR_disliked_aria"),removeLikeLabel:u("DV_WEB_Undo_like"),removeLikeAriaLabel:u("DV_WEB_Undo_like")},iconWrapperClassName:l()($i,{[Ui]:!m,[Ji]:m&&"Like"===t.reaction,[Zi]:!m&&"Like"===t.reaction}),iconButtonClassName:l()(qi,a),setReactionCall:i,isWrapperClickable:!0,showLabelOnTouchDevices:!1,onSetReactionSuccess:e=>{r?Qi.getState().handleLikeAction(e,r.csrfToken):p.c.warn("OnboardingAction is not defined in the Card component")},parentOnClick:()=>{const e=document.activeElement;e instanceof HTMLElement&&e.blur()},clickstreamAction:(t,a)=>{if(d){const n="Remove"===a?"rm_":"",i="Like"===t?"like":"dislike",r="ATVHome"===d.pageType&&"Home"===d.subPageType&&"Onboarding"===o;(0,ce.X)(`atv_hm_ocx_react_${n}${i}`,r?"ATVModal":d.pageType,r?"Onboarding":d.subPageType,e,[er.W0.Click],r?er.qB.PageTouch:er.qB.PageHit,d.clientVariant,c)}}});return m?n.createElement(Ti.Gradient,{variant:"mini-details",className:l()(ji),"data-testid":"fable-gradient"},g):g},ar=["ScheduleCard","BonusContentCard"],nr=["LiveLinearCard","BonusContentCard"];var ir=a("./src/shared/Explore/utils/cssUtils.ts");const rr={onMouseOver:()=>{},onMouseLeave:()=>{},onBlur:()=>{},onPackshotKeyDown:e=>{}},lr=({hideThisAction:e,hiddenTitleMessage:t,titleID:a,className:i})=>n.createElement("section",{"data-testid":"hide-this-overlay",className:l()(Di,i)},n.createElement("div",{className:Ni},t,n.createElement(na,{hideThisAction:e,titleID:a,buttonStyle:Mi,textStyle:Ri,isInDropdown:!1})));var sr=a("./src/util/performance/elementTiming.ts");const or=({consumingWidgetType:e,containerType:t,containerIndex:a,itemIndex:n})=>{if(["ActorPage","DetailPage","MyStats"].includes(e))return;if(["Grid","Onboarding"].includes(t))return a<=0&&n<10?sr.c.atfVisible:void 0;if(["Charts","IntermissionHero","StandardHero","StandardMobileHero","TentpoleHero"].includes(t))return a<3&&n<=0?sr.c.atfVisible:void 0;return["Cover","FixedHeaderCarousel","Nodes","StandardCarousel","SuperCarousel"].includes(t)&&a<3&&n<5?sr.c.atfVisible:void 0};function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},cr.apply(this,arguments)}const dr=({index:e,card:t,wrapperClassName:a,enrichment:r,isCircle:o=!1,renderGlanceSpaceIfNoGlanceMessage:d,onWrapperElementChange:u})=>{var m,g,v,h,y,f,b,E,C,T,_,k,I,L,x,w,P;const{container:{impressionData:S,containerType:D},consumingWidgetType:N,removedItemsMap:M,index:R,hiddenEntityMessages:O}=(0,s.Jy)(),{titleID:B}=t,{logger:G}=(0,Ra.L1)(),V=n.useRef(null),{contingencies:W,theme:F,testDebugFlags:H}=(0,Ee.lO)(),{cardIndexWithMiniDetails:z,actions:j}=n.useContext(ea),U=z===e,$=(0,je.getRequestContext)(),{enabled:q}=(0,Ht.F)(),{touchMiniDetailsModalListeners:Z,isMiniDetailsModalVisible:J,dismissMiniDetailsModal:K,removeContextMenuClass:X,removeDragAnimationClass:Y,link:Q}=Hi(D,void 0!==B,t.link),ee=B?O.get(B):null,te=!Boolean(null==W?void 0:W.disableHover)&&!(null==t||null===(m=t.hoverInfo)||void 0===m||!m.canHover||ee||!Si.A.isAtleast(Si.b.TABLET)),[ae,ne]=n.useState(!1),ie=void 0!==B?null==M?void 0:M[B]:void 0,re=void 0!==ie,le=n.useRef();n.useEffect((()=>()=>{clearTimeout(le.current),clearTimeout(pe.current)}),[]);const se=()=>{if(null==j||!j.reportHoverOrFocusEvent)return;j.reportHoverOrFocusEvent({cardIndex:e,event:"ACTIVE"});const t=null==V?void 0:V.current;t&&(le.current=window.setTimeout((()=>{Ne.F.logManualImpression(t,"Highlight")}),300)),(0,_e.h)("MiniDetailsHover",D)},oe=()=>{null!=j&&j.reportHoverOrFocusEvent&&(clearTimeout(le.current),j.reportHoverOrFocusEvent({cardIndex:e,event:"BLUR"}))},ce=n.useRef(!1),de=null!=H&&H.miniDetailsDebug?rr:{onMouseOver:()=>{if(!(0,Jn.sT)(null==V?void 0:V.current)){var e;const t=null===(e=document)||void 0===e?void 0:e.activeElement;t instanceof HTMLElement&&t.blur()}se()},onMouseLeave:()=>{oe()},onPackshotKeyDown:e=>{["Enter"," "].includes(e.key)&&(ce.current=!0,te&&(e.preventDefault(),se()))},onBlur:(0,Zn.D)((()=>{(0,Jn.sT)(null==V?void 0:V.current)||oe()}),100)};n.useEffect((()=>{if(U){if(ce.current&&(ce.current=!1,!(0,Jn.sT)(null==V?void 0:V.current)&&V.current)){var e;null===(e=(0,Jn.GO)(V.current)[0])||void 0===e||e.focus()}}else ce.current=!1}),[U]);const ue=n.useCallback((a=>{const n=null==V?void 0:V.current;var i,r;n||a===n?n&&!a&&Ne.F.unobserve(n):S&&Re&&xe&&we&&a&&Ne.F.observe(a,{collectionImpressionData:S,titleID:null!==(i=null!=B?B:null===(r=t.station)||void 0===r?void 0:r.id)&&void 0!==i?i:t.channelId,imageURL:Re,refMarker:we,widgetType:xe,carouselPosition:R,itemPosition:e,itemAnalytics:t.itemAnalytics,itemContentType:t.itemContentType});V.current=a,null==u||u(a,e)}),[]),{transformOrigin:me}=function({showClassicMiniDetails:e,cardRef:t,isRTL:a}){const[i,r]=n.useState("default");return n.useEffect((()=>{if(e&&"undefined"!=typeof window){var a;const e=null==t||null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect(),n=parseFloat((0,ir.pm)("--dv-carousel-column-margin")),i=parseFloat((0,ir.pm)("--dv-carousel-column-gap"));if(e&&n&&i){let t=n+i,a=n+i;const l=e.left<=t,s=window.innerWidth-e.right<=a;r(l?"left":s?"right":"default")}}}),[e]),{transformOrigin:i}}({showClassicMiniDetails:U,cardRef:V,isRTL:null!==(g=$.isLocaleRTL)&&void 0!==g&&g}),pe=n.useRef(),[ge,ve]=n.useState(!1),he=null==r?void 0:r.prerolls,{isTrailerAutoplayEnabled:ye}=(0,s.Jy)();n.useEffect((()=>{U?pe.current=window.setTimeout((()=>ve(!0)),1600):(clearTimeout(pe.current),ve(!1))}),[U]),n.useEffect((()=>{if(J){const e=null==V?void 0:V.current;e&&Ne.F.logManualImpression(e,"Highlight")}}),[J]);const fe=ye&&U&&he?{prerolls:he,canPlay:ge,delay:1600,placement:A.StandardMiniDetails,className:Mn}:void 0,be=n.useRef();n.useEffect((()=>{clearTimeout(be.current),U&&!ae?ne(!0):!U&&ae&&(be.current=window.setTimeout((()=>ne(!1)),100))}),[U,ae]);const Ce=o?Un:Pn,Te=Boolean(t.station)?null==t||null===(v=t.playbackActions)||void 0===v?void 0:v[0]:xi(t,r,null==H?void 0:H.disableFallbackPlaybackActions);let ke=Pi(r,null==H?void 0:H.disableFallbackPlaybackActions);const{images:Ie,hideThisAction:Le,widgetType:xe,refMarker:we,title:Pe,liveInfo:Se,entityType:De,reactionAction:Me}=t;let Re=null==Ie||null===(h=Ie.cover)||void 0===h?void 0:h.url,Ae=null==t||null===(y=t.link)||void 0===y?void 0:y.url,Oe=t.displayTitle||(null===(f=t.link)||void 0===f?void 0:f.label),Be=null==Ie||null===(b=Ie.cover)||void 0===b?void 0:b.alternateText;const Ge=n.useContext(ia.ET),Ve=Gi(N,D,R,e),We=((e,t,a)=>{var n;const i=Boolean(null===(n=t.link)||void 0===n?void 0:n.deeplinkFallbackUrl);return ar.includes(a)&&i&&Va(e.launchType)?e.launchType:void 0})(Ge,t,xe);let{synopsis:Fe,releaseYear:ze,contentMaturityRating:Ue,maturityRatingBadge:$e}=t;const qe=null!==(E=null==r?void 0:r.entitlementCues)&&void 0!==E?E:t.entitlementCues,Ze=null==r?void 0:r.seasonsDescriptor;let Ke,Xe,Ye,Qe;Me&&"Onboarding"===D&&(Qe=n.createElement(tr,{gti:B,reactionAction:Me})),Te&&((e,t,a)=>{const n=ar.includes(e);return"LiveLinearCard"===e||nr.includes(e)&&"DetailPage"!==a||n&&Boolean(t&&(0,Ha.GY)(t))})(xe,Ge.launchType,N)&&!Qe&&(Ye=n.createElement(Ua,{playbackAction:Te,playbackGroup:ke,titleId:B,carouselRefTag:t.refMarker,buttonVariant:ja.Invisible,impressionsRef:null==V?void 0:V.current,entityType:De}));const et=null!==(C=null==r?void 0:r.progress)&&void 0!==C?C:t.progress,tt=Boolean((null==et?void 0:et.percentage)&&et.percentage>0),at=Boolean(U||t.progress),nt=tt&&at?et:void 0;Xe=n.createElement(ki,{progress:nt,hovered:U,entitlementIconType:null==qe||null===(T=qe.glanceMessage)||void 0===T?void 0:T.icon}),Ke=(null==qe?void 0:qe.titleMetadataBadge)&&n.createElement(mn.O,{style:null==qe?void 0:qe.titleMetadataBadge.level,label:null==qe?void 0:qe.titleMetadataBadge.message,className:$n,testID:"metadata-badge"});const[it,rt]=n.useState(Xn(t.station)),lt=Xn(t.station,1),st=((e,t,a)=>{var n,i,r;return{displayTitle:Yn(t,e),stationTitle:null===(n=e.station)||void 0===n?void 0:n.name,episodeTitle:null==t?void 0:t.metadata.title,currentBroadcastStartTime:null==t?void 0:t.start,nextBroadcastTitle:null!==(i=null==a?void 0:a.metadata.seriesTitle)&&void 0!==i?i:null==a?void 0:a.metadata.title,nextBroadcastStartTime:null==a?void 0:a.start,nextUpText:null==e||null===(r=e.station)||void 0===r?void 0:r.strings.nextUp}})(t,it,lt);let ot,ct,dt;if(it){var ut,mt,pt,gt,vt,ht;ot={broadcast:it,nextBroadcastCallback:()=>{rt(Xn(t.station))}},Re=null===(ut=it.metadata.image)||void 0===ut?void 0:ut.url,Oe=st.displayTitle,Be=null===(mt=it.metadata.image)||void 0===mt?void 0:mt.alternateText,ct=null===(pt=t.promotedAcquisitionGroup)||void 0===pt?void 0:pt.label,dt=null==Q?void 0:Q.url,({synopsis:Fe,releaseYear:ze,contentMaturityRating:Ue}=it.metadata),Ke=n.createElement(mn.O,{style:i.aC.INFO,label:null===(gt=it.metadata.linearBadge)||void 0===gt?void 0:gt.label,className:$n}),Xe=n.createElement(ki,{title:null===(vt=t.station)||void 0===vt?void 0:vt.name,playable:void 0!==Te,hovered:U,linearProgress:ot,entitlementIconType:null==qe||null===(ht=qe.glanceMessage)||void 0===ht?void 0:ht.icon})}const{actions:{getEnrichments:yt}}=(0,s.Jy)();if(n.useEffect((()=>{if((0,za.Dy)(De)){if("DetailPage"===N){const e="PVVideoPlayerClosed",t=()=>{B&&yt([B],!0)};return window.addEventListener(e,t),()=>{window.removeEventListener(e,t)}}"BonusContentCard"===t.widgetType&&(0,Cn.d)(10,(()=>p.c.count("DVWebNodeStorefrontBonusCard")))}}),[]),(0,za.g2)(De)){var ft,bt,Et,Ct;const e=De==za.Ze&&"LIVE"!==(null==Se?void 0:Se.status)?null==Se?void 0:Se.timeBadge:void 0;Xe=n.createElement(ki,{title:Pe,dateTime:e,hovered:U,entitlementIconType:null==qe||null===(ft=qe.glanceMessage)||void 0===ft?void 0:ft.icon}),Ke=null!=Se&&Se.label?n.createElement(Ii,{liveInfo:Se,className:$n}):Ke,ct=null==r||null===(bt=r.promotedAcquisitionGroup)||void 0===bt?void 0:bt.label,dt=null==r||null===(Et=r.promotedAcquisitionGroup)||void 0===Et?void 0:Et.url,Ae="BonusContentCard"===xe&&"DetailPage"!==N?null==r||null===(Ct=r.promotedAcquisitionGroup)||void 0===Ct?void 0:Ct.url:Ae}const Tt={eventTitle:Oe,triggerLocation:"Hover",liveInfo:Se,titleMetadataBadge:null==qe?void 0:qe.titleMetadataBadge};n.useEffect((()=>{if(!Re){const e=t.station?`station: ${t.channelId}`:`title ${B}`;G.count("MissingImageCard",1,!1),p.c.count("MissingImageCard"),G.warn(`Missing cover image in Card for ${e}`)}}),[]),n.useEffect((()=>{t.station&&(0,Cn.d)(10,(()=>p.c.count("DVWebNodeStorefrontLinearCard"))),t.liveInfo&&(0,Cn.d)(10,(()=>p.c.count("DVWebNodeStorefrontLiveCard")))}),[]),n.useEffect((()=>{t.station&&(0,Cn.d)(10,(()=>p.c.count("DVWebNodeStorefrontLinearImageUpdate")))}),[Re]);const _t=ee&&Le&&B?n.createElement(lr,{hiddenTitleMessage:ee,hideThisAction:Le,titleID:B}):null,kt=null!==_t;return n.createElement("article",{className:l()(Ce,a,X,{[Nn]:U,[Bn]:ae}),ref:ue,"data-card-title":t.title,"data-card-entity-type":t.entityType,"data-card-entitlement":null==qe?void 0:qe.entitlementType,"data-card-position":e,"data-card-can-hover":!(null==t||null===(_=t.hoverInfo)||void 0===_||!_.canHover),"data-testid":o?"circle-card":"card"},_t,re&&ie.removedOverlayMessage&&n.createElement(Bi,{message:ie.removedOverlayMessage,undoText:ie.undoMessage,onUndo:ie.undo}),(null==H?void 0:H.miniDetailsDebug)&&n.createElement(n.Fragment,null,n.createElement("button",{className:qn,onClick:()=>se(),"data-testid":"enable-mini-details"}),n.createElement("button",{className:qn,onClick:()=>oe(),"data-testid":"disable-mini-details"})),n.createElement("section",cr({className:l()(Gn,{[Vn]:!o})},te&&{onMouseOver:de.onMouseOver,onMouseLeave:de.onMouseLeave,onBlur:de.onBlur},Z,{"data-testid":"card-section"}),!re&&!kt&&n.createElement(n.Fragment,null,n.createElement(Je,{className:l()(Sn,{[Wn]:"left"===me,[Fn]:"right"===me}),imageClassName:l()(Rn,Y),imageWrapperClassName:Dn,isCircle:o,imageUrl:Re,alternateText:Be,fallbackTitle:Oe,url:Ae,deeplinkFallbackUrl:null==Q?void 0:Q.deeplinkFallbackUrl,deeplinkType:We,parentElement:V.current,backgroundTrailerConfig:fe,badge:Ke,cardOverlay:Xe,playButtonOverlay:Ye,linkAriaRole:U?"link":"button",onPackshotLinkKeyDown:de.onPackshotKeyDown,noBottomCornerRadiusLink:U,refMarker:t.refMarker,titleID:null!==(k=null!=B?B:null===(I=t.station)||void 0===I?void 0:I.id)&&void 0!==k?k:t.channelId,shouldLazyLoadImage:Ve,reactionOverlay:Qe,elementTiming:or({consumingWidgetType:N,containerType:D,containerIndex:R,itemIndex:e})}),(U||J)&&n.createElement(wn,{className:l()(An,{[zn]:"left"===me,[jn]:"right"===me,[Hn]:"default"===me}),titleID:null==t?void 0:t.titleID,playbackAction:Te,playbackGroup:ke,streamSelectorProps:Tt,providerLogo:null==Ie?void 0:Ie.providerLogo,displayTitle:Oe,watchlistAction:null==r?void 0:r.watchlistAction,trailer:null==r?void 0:r.trailer,hideThisAction:null==t?void 0:t.hideThisAction,customerReviews:null==t?void 0:t.customerReviews,releaseYear:ze,runtime:null==t?void 0:t.runtime,liveEventMetadata:Se,contentMaturityRating:Ue,maturityRatingBadge:$e,synopsis:Fe,entitlementType:null==qe?void 0:qe.entitlementType,focusMessage:null==qe?void 0:qe.focusMessage,highValueMessage:null==qe?void 0:qe.highValueMessage,titleMetadataBadge:null==qe?void 0:qe.titleMetadataBadge,linearProps:st,callToActionButtonLabel:ct,callToActionButtonLink:dt,carouselRefTag:t.refMarker,libraryItemActions:null==t?void 0:t.libraryItemActions,recordSeasonTooltipText:null==r||null===(L=r.recordSeason)||void 0===L||null===(L=L.watchlistAddon)||void 0===L?void 0:L.tooltipText,showTouchModal:J,dismissTouchModal:K,detailsPageUrl:null==Q?void 0:Q.url,parentElement:V.current,signInTrailerURL:t.signInTrailerURL,seasonsDescriptor:Ze,entityType:De}),n.createElement(He,t))),!q&&!re&&!kt&&n.createElement(c.n,{message:null==qe||null===(x=qe.glanceMessage)||void 0===x?void 0:x.message,icon:null==qe||null===(w=qe.glanceMessage)||void 0===w?void 0:w.icon,level:null==qe||null===(P=qe.glanceMessage)||void 0===P?void 0:P.level,className:On,hideIcon:"Store"===F,takeUpSpaceIfEmpty:d}))};var ur=a("./src/shared/Explore/containers/StandardCarousel/StandardCarousel.module.scss"),mr=a("./src/shared/Explore/components/Carousel/index.ts");const pr=(e,t)=>{if("FORCE_CLOSE"===t.event)return null;const{cardIndex:a,event:n}=t;return"BLUR"===n?e===a?null:e:a};function gr({closeAnyActiveMiniDetail:e,updateHaveUsedTouchInLast500ms:t}){const a=n.useRef(),i=()=>{e(),t(!0),clearTimeout(a.current),a.current=window.setTimeout((()=>{t(!1)}),500)};return n.useEffect((()=>()=>clearTimeout(a.current)),[]),{onTouchStart:i,onTouchEnd:i,onTouchMove:i}}function vr(){return vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vr.apply(this,arguments)}const hr=({children:e})=>{const{isTouchDevice:t,testDebugFlags:a}=(0,Ee.lO)(),{isCarouselHovered:i,isCarouselFocused:r,isHoveringNavArrows:s,state:o,scrollToCard:c,hasCircleCard:d}=n.useContext(mr._y),u=n.useContext(mr.$C),[m,p]=n.useReducer(pr,null),{isSsmOpen:g}=n.useContext(Aa.mY),[v,h]=n.useState(!t),y=n.useRef(),[f,b]=n.useState(!1),E=n.useRef(),C=n.useRef(!1),T=gr({closeAnyActiveMiniDetail:()=>p({event:"FORCE_CLOSE"}),updateHaveUsedTouchInLast500ms:e=>C.current=e});n.useEffect((()=>{clearTimeout(E.current),null===m?f&&(E.current=window.setTimeout((()=>b(!1)),100)):b(!0)}),[m]);const[_,k]=n.useState(!1);n.useEffect((()=>{const e=u.connected&&u.isScrolling;k(!!((i||r||e)&&!(s&&!e)))}),[i,r,u.connected&&u.isScrolling,s]),n.useEffect((()=>{_||g||null!=a&&a.miniDetailsDebug||p({event:"FORCE_CLOSE"})}),[_,g]),n.useEffect((()=>{let e;e=!t&&(!_&&!d),v!==e&&(clearTimeout(y.current),e?c(o.min):h(!1))}),[_]);const I=n.useCallback((e=>{g||"ACTIVE"===e.event&&!0===C.current||("ACTIVE"===e.event&&In.Z.start("MiniDetailsActivation"),p(e))}),[g]);n.useEffect((()=>{g||p({event:"FORCE_CLOSE"})}),[g]);const L=n.useMemo((()=>({_connected:!0,cardIndexWithMiniDetails:m,actions:{reportHoverOrFocusEvent:I}})),[m,I]);return n.createElement("div",vr({className:l()({[ur.Z.verticalOverflowVisible]:f})},T),n.createElement(ea.Provider,{value:L},e))};var yr=a("./src/shared/CS/components/EntitlementHeader/EntitlementHeader.tsx"),fr=a("./node_modules/@amzn/dvui/dist/Icons/LinkArrow.js"),br=a.n(fr);const Er="KJx9ci",Cr="GnSDwP",Tr=e=>n.createElement("a",{href:e.url,"aria-label":e.ariaLabel,className:l()(Er,null==e?void 0:e.className),"data-testid":"see-more"},n.createElement("span",{className:Cr},null==e?void 0:e.label),n.createElement(br(),null)),_r="TzubWf",kr="JwNGgp";var Ir=a("./src/util/wrappers/ArgsContext.tsx");const Lr=e=>{var t;const{render:a}=(0,Ir.G4)(),{enabled:i}=(0,Ht.F)(),r=null!==(t=e.text)&&void 0!==t?t:e.title;if(r){const t=null==e?void 0:e.entitlementCues,l=null==t?void 0:t.entitledCarousel,s=null==t?void 0:t.offerType,o=null==e?void 0:e.facetText,{url:c,label:d}=xr(e.seeMore,e.seeMoreLink);let u=r;return o&&(u=null!=a&&a.isRTL?`${r} : ${o}`:`${o} : ${r}`),n.createElement("section",{className:_r,"data-entitled":"Entitled"===l&&!i},n.createElement(yr.D,{title:r,facetText:o,entitlementType:l,offerType:s},c?n.createElement(Tr,{url:c,label:d,ariaLabel:u,className:"NotEntitled"!==l||"SVOD"===s||i?void 0:kr}):void 0))}return null},xr=(e,t)=>"Inline"===(null==e?void 0:e.displayPlacement)?{url:e.link.url,label:e.link.label}:{url:!e&&t?t.url:void 0,label:!e&&t?t.label:void 0};var wr=a("./src/util/utils/objects.ts");const Pr=1.5,Sr=2,Dr=3,Nr=4,Mr=5,Rr=6,Ar=({entities:e,seeMore:t,actions:a,enrichments:i,header:r,otherWrapperClassName:c})=>{const{isTouchDevice:d,pageWidth:u,hasPageMounted:m}=(0,Ee.lO)(),{hasMoreItems:p}=(0,s.Jy)(),g=n.useRef(Object.values(e).some((e=>{var t;return!(null===(t=e.entitlementCues)||void 0===t||null===(t=t.glanceMessage)||void 0===t||!t.message)}))),v=n.useCallback((()=>{{let e=Rr;return Si.A.is(Si.b.PHONE_PORTRAIT)?e=Pr:Si.A.is(Si.b.TABLET_SMALL)?e=Sr:Si.A.is(Si.b.TABLET)?e=Dr:Si.A.is(Si.b.LAPTOP)?e=Nr:Si.A.is(Si.b.DESKTOP)&&(e=Mr),e}}),[]),[h,y]=n.useState(m?v():Rr);let f,b;n.useEffect((()=>{y(v())}),[]),n.useEffect((()=>{y(v())}),[u]);const E=()=>{var a,n;if(null==t||null===(a=t.backgroundImage)||void 0===a||!a.url||null==t||null===(n=t.link)||void 0===n||!n.url)return e;const i={images:{cover:{url:t.backgroundImage.url}},link:{url:t.link.url,label:t.link.label},refMarker:t.refMarker,widgetType:"linkCard",titleID:t.contentId,itemContentType:"LINK"},r=JSON.parse(JSON.stringify(e));return"Start"===t.displayPlacement?(r.unshift(i),f=2):"End"!==t.displayPlacement||p||(r.push(i),b=e.length),r},[C,T]=n.useState(E());n.useEffect((()=>T(E())),[e]);const _=n.useCallback((t=>{const n=e.filter(((e,a)=>t.has(a+1)));if(n.length>0){const e=n.map((e=>{var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID})).filter(wr.A);a.getEnrichments(e)}}),[d,e,a]),k=n.useCallback(((e,a,r)=>{var s,o;const c="Start"===(null==t?void 0:t.displayPlacement)&&0===r||"End"===(null==t?void 0:t.displayPlacement)&&r===C.length-1&&!p;return n.createElement(dr,{card:e,isVisible:a,enrichment:null==i?void 0:i[null!==(s=null!==(o=e.entityID)&&void 0!==o?o:e.titleID)&&void 0!==s?s:""],index:r,renderGlanceSpaceIfNoGlanceMessage:g.current,isCircle:c,wrapperClassName:l()({[ur.Z.circle]:c})})}),[i]);return n.createElement(mr.xh,null,n.createElement(o.ZP,{className:ur.Z.standardCarousel,wrapperClassName:l()(ur.Z.carouselWrapper,c),navigation:o.W_.Framed,"data-card-total-count":C.length,cards:C,cardsVisibilityThreshold:.3,customCarouselContainer:hr,header:r,renderCard:k,performantRender:{maxCardNum:h,onFirstTimeCardRender:_,startIndexForVirtualisation:f,endIndexForVirtualisation:b},testID:"standard-carousel",hasCircleCard:f||b}))},Or=()=>{const{container:e,actions:t,enrichments:a}=(0,s.Jy)();return n.createElement(Ar,{entities:e.entities,seeMore:e.seeMore,actions:t,header:Lr(e),enrichments:a})};Or.displayName="StandardCarousel";const Br=Or,Gr="GpKcvg",Vr="NAtV-m",Wr="Zsox55",Fr="_4HpUvK",Hr="EpXO-Z";let zr=function(e){return e[e.Show=0]="Show",e[e.TrailerPlaying=1]="TrailerPlaying",e[e.TrailerFinished=2]="TrailerFinished",e[e.Hidden=3]="Hidden",e[e.Error=4]="Error",e}({});const jr=(e,t)=>`${e}->${t}`,Ur=new Set([jr(zr.Show,zr.TrailerPlaying),jr(zr.TrailerPlaying,zr.TrailerFinished),jr(zr.TrailerFinished,zr.Hidden),jr(zr.Hidden,zr.Show),jr(zr.Show,zr.Hidden),jr(zr.TrailerPlaying,zr.Hidden),jr(zr.Show,zr.Error),jr(zr.TrailerPlaying,zr.Error),jr(zr.Error,zr.Hidden)]);function $r(e,t){return Ur.has(jr(e,t))?t:e}const qr=[720,1080,1440,1920],Zr=({imageUrl:e,ariaLabel:t,state:a,shouldLazyLoadImage:i,titleID:r,displayTitle:s})=>{var o;const c=[zr.Show,zr.TrailerFinished,zr.Error].includes(a)?Hr:Fr,u=l()(Gr,c),[m,p]=n.useState(!1),[g,v]=n.useState(!1),h=(0,Ir.G4)(),y=d.o.SixteenByNine;n.useEffect((()=>{p(!1)}),[e]);const f=(e,a)=>n.createElement(Le.w,{alt:t,src:e,imageClassName:Vr,aspectRatio:y,sizesOptions:{defaultSrcSize:2400,srcSizes:[{"max-tablet-lowest":450},{"max-laptop-lowest":880},{"max-desktop-lowest":1400},{"max-desktop-hd-lowest":1800},{"max-desktop-uhd-lowest":2400}]},srcSetWidths:qr,baseValue:1440,shouldLazyLoad:i,debugID:r,parentListeners:{onError:()=>a(!0)}}),b=e?f(e,p):n.createElement(n.Fragment,null);return n.createElement("div",{className:u,"data-testid":"backgroundImage"},e&&!m?b:n.createElement(ze,{fallbackImage:f(null!==(o=h.render)&&void 0!==o&&o.isRTL?De.kM:De.lN,v),hasFallbackImageErrored:g,fallbackTitleText:s,aspectRatio:y}),n.createElement("div",{className:Wr}))},Jr="RXvOVk",Kr="lLEXNv",Xr="_1Tpx9J",Yr="TCZGs+",Qr="_0qE1LZ",el="xDJxMc",tl="hA8YWI",al="RvRXeD",nl="_72MAz3",il="_0bg6nq",rl="-VYF0N",ll="_1DUh6D",sl="cimRsP",ol="_5dRcc7",cl="Ms1fHj",dl="_20+xJa",ul="_9qBKft",ml="nTe-n3",pl="jvC8FO",gl="WQExo4",vl="mLMMa3",hl="EjZ1hc";var yl=a("./node_modules/@amzn/dvui/dist/Icons/Add.js");const fl="y3gsEM",bl="gPlQH3",El="kb934y",Cl="iQQ3TD",Tl="Zd5BYc",_l="wVgyWp",kl="Sm792R",Il=({label:e,modalPayload:t,carouselRefTag:a,impressionsRef:i})=>{const[r,l]=(0,n.useState)(!1),[s,o]=(0,n.useState)(void 0);if((0,n.useEffect)((()=>{o(document.body)}),[]),(0,Oa.Sj)(e,t))return null;const d=n.createElement(n.Fragment,null,t.actionSegments.map(((e,t)=>{var r;if(0==e.actions.length)return;const l=null===(r=e.entitlementCues)||void 0===r?void 0:r.buyboxMessage;return n.createElement("div",{className:_l,key:t},l&&n.createElement(c.n,{icon:null==l?void 0:l.icon,message:null==l?void 0:l.message}),e.actions.map(((e,t)=>((e,t)=>{var r;const l=e.decoration.label;switch(e.actionType){case"SUBSCRIBE":return n.createElement(Tn.PrimaryButton,{href:null===(r=e.payload.subscriptionPayload)||void 0===r?void 0:r.url,key:t},n.createElement(Pa.Text,null,l));case"PLAY":const s=e.payload.playbackPayload;return s&&n.createElement(Ua,{playbackAction:s,label:l,titleId:s.titleID,carouselRefTag:a,impressionsRef:i,key:t});default:return}})(e,t))))}))),u=n.createElement("span",{className:Tl},t.modalHeading);return n.createElement(n.Fragment,null,n.createElement(Tn.PrimaryButton,{onClick:()=>l(!0),className:kl,testID:"action-box-modal-ingress"},e),s&&n.createElement(Ca.u,{isVisible:r,onRequestClose:()=>l(!1),header:u,body:d,rootElement:s,testID:"action-box-modal"}))};var Ll=a("./src/shared/player/capabilities.ts"),xl=a("./src/util/utils/device.ts"),wl=a("./src/shared/components/PurchaseFlowWorkflowLoader/DVPAWrapper.tsx"),Pl=a("./node_modules/react-dom/index.js"),Sl=a("./node_modules/@amzn/dvui/dist/Fable/components/Spinner/index.js"),Dl=a("./src/util/utils/titleId.ts");const Nl=({subPageType:e,offerDetails:t,onCancel:a,onDone:i,onFailed:r,button:l,returnUrl:s})=>{var o,c;const[d,u]=n.useState(!1),[m,g]=n.useState(),{deviceTypeId:v}=(0,xl.Iw)(),h=(0,je.getRequestContext)().deviceID,y=(0,Ll.wH)(),f={supportsWebPlayback:null!==(o=null==y?void 0:y.supportsWebPlayback)&&void 0!==o&&o,supportsHDMovies:null!==(c=null==y?void 0:y.supportsHDMovies)&&void 0!==c&&c,supportsUHD:!1},b=()=>{u(!1),null==a||a()},E=()=>{u(!1),null==r||r()},C=(e,t)=>()=>{p.c.count("DVWebStorefrontCheckout",{Status:t}),e()};n.useEffect((()=>{g(document.body)}),[]);const T=(0,Dl.pi)(t.titleId)?t.titleId:void 0,_={action:"purchase",actionContext:{isVisible:!0,playerDetails:f,extraData:{subPageType:e,titleId:t.titleId,globalTitleIdentifier:T,deviceTypeId:v,deviceId:h,currentEndpoint:s},callbacks:{callbackCancel:C(b,"Canceled"),resetAfterCancel:C(b,"ResetAfterCanceled"),callbackFailure:C(E,"Failure"),failed:C(E,"Failed"),refreshAfterDone:C(i||(()=>{}),"RefreshAfterDone"),callbackCSRF:C((()=>{}),"CSRFCallback")},offerContext:{offerToken:t.offerToken}}};return n.createElement(n.Fragment,null,n.createElement(Wa.PrimaryButton,{icon:d&&n.createElement(Sl.Spinner,{testID:"purchase-button-spinner",size:"size-200",color:"onLight"}),testID:l.testID,className:l.className,onClick:C((()=>{var e;u(!0),null===(e=l.onClick)||void 0===e||e.call(l)}),"Initiated")},n.createElement(Pa.Text,null,l.text)),d&&m&&Pl.createPortal(n.createElement(n.Suspense,{fallback:n.createElement(n.Fragment,null)},n.createElement(wl.PurchaseFlowWorkflow,_)),m))},Ml=({titleId:e,playbackAction:t,playbackGroup:a,streamSelectorProps:i,promotedAcquisitionGroup:r,link:o,withTransparentIcons:c=!1,useCircularPlayButton:d=!0,className:u,carouselRefTag:m,parentElement:p,primaryButtonLabel:g,detailsIconLink:v,modalAction:h,transactionAction:y})=>{var f,b;const{getString:E}=(0,Ee.lO)(),{subPageType:C}=(0,Ir.G4)(),{container:T}=(0,s.Jy)(),_=g||E("DV_WEB_MORE_DETAILS"),k=null==o?void 0:o.url,{isRemasterStorefrontCheckoutEnabled:I}=(0,Ht.F)(),L="StandardHero"===T.containerType||"SuperCarousel"===T.containerType||"TentpoleHero"===T.containerType||"Charts"===T.containerType,x=null==r?void 0:r.label,w=L&&x?_:x,P=()=>{p&&Ne.F.logManualImpression(p,"Select")},S=(0,Oa.Sj)(_,h),D=null!==(f=null==S?void 0:S.playbackActions[0])&&void 0!==f?f:t,N=(D||h)&&k||("SUBSCRIBE"===(null==o?void 0:o.type)||"TRANSACT"===(null==o?void 0:o.type))&&(null==v?void 0:v.url);return n.createElement("div",{className:l()(fl,u)},D?n.createElement("div",{className:bl},n.createElement(Ua,{buttonVariant:d?ja.Default:ja.Square,playbackAction:D,playbackGroup:a||S,streamSelectorProps:i,label:null!==(M=D.label)&&void 0!==M?M:g,titleId:e,carouselRefTag:m,impressionsRef:p})):h?n.createElement(Il,{label:_,modalPayload:h,carouselRefTag:m,impressionsRef:p}):I&&y&&e&&k?n.createElement(Nl,{subPageType:C,offerDetails:{titleId:e,offerToken:y.offerToken},button:{testID:"checkout-button",className:Cl,text:_},onDone:()=>window.location.href=k,returnUrl:k}):k?n.createElement(Tn.PrimaryButton,{href:k,testID:w?"promotion":"details-cta",className:Cl,onClick:P},n.createElement(Pa.Text,null,null!=w?w:_)):void 0,e&&n.createElement(Rl,{titleId:e,withTransparentIcons:c,carouselRefTag:m}),N&&n.createElement(ae,{icon:n.createElement(ca.Info,null),href:null!==(b=null==v?void 0:v.url)&&void 0!==b?b:k,isTransparentBackground:c,label:E("DV_WEB_DETAILS_TOOLTIP"),testID:"details-icon",onSecondaryButtonClick:P}));var M},Rl=e=>{const{actions:t,enrichments:a}=(0,s.Jy)(),{getString:i}=(0,Ee.lO)(),r=e.titleId;if(r){var l;const s=null===(l=a[r])||void 0===l?void 0:l.watchlistAction;if(s){var o;const l="Remove"===s.tag,c=a=>{t.onWatchlistToggle(a,r,e.carouselRefTag)},d=l||null===(o=a[r])||void 0===o||null===(o=o.recordSeason)||void 0===o||null===(o=o.watchlistAddon)||void 0===o?void 0:o.tooltipText;return n.createElement(ae,{icon:l?n.createElement(sa.Tick,null):n.createElement(yl.Add,null),className:El,isTransparentBackground:e.withTransparentIcons,onSecondaryButtonClick:c,isDisabled:!r,ariaLabel:"string"==typeof s.text?s.text:s.text.string,label:d||i("DV_WEB_WATCHLIST_TOOLTIP"),testID:l?"watchlist-remove":"watchlist-add"})}}return null};function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Al.apply(this,arguments)}const Ol=e=>{var t,a,i,r;const{containerItem:s,highValueMessage:o}=e,c=null===(t=s.images)||void 0===t?void 0:t.titleLogo,d=null===(a=s.images)||void 0===a?void 0:a.providerLogo,u=e.state===zr.TrailerPlaying||e.state===zr.Hidden,m=s.categorizedGenres,p=m?[m.primaryGenre,...m.secondaryGenres||[]]:void 0,{enabled:g}=(0,Ht.F)(),{customerReviews:v}=s;return n.createElement("div",{className:l()(Jr,ol,e.state===zr.Hidden?dl:ul)},n.createElement("div",{className:l()(Qr,{[gl]:u})},(null==o?void 0:o.message)&&n.createElement(pn.HighValueMessage,{message:o.message})),s.displayTitle&&n.createElement(En,{title:s.displayTitle,baseValue:1e3,headingLevel:bn.Mega,headingClassName:l()(nl,{[el]:null==c?void 0:c.url,[al]:!(null!=c&&c.url),[ml]:u,[pl]:e.state===zr.TrailerFinished}),titleLogoOptions:c?{url:c.url,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,providerLogoOptions:d?{url:d.url,wrapperClassName:l()(tl,{[ml]:u,[pl]:e.state===zr.TrailerFinished}),alt:d.alternateText,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,url:null===(i=s.link)||void 0===i?void 0:i.url,titleID:s.titleID,parentElement:e.parentElement}),n.createElement("span",{className:l()(il,{[vl]:u})},v&&(g?n.createElement(vn.StarRating,{rating:v.value,ariaLabel:v.customerReviewsText.string,testID:"fable-star-rating"}):n.createElement(an,{customerReviews:v})),s.maturityRatingBadge?n.createElement(rn.AgeRating,{rating:s.maturityRatingBadge.displayText,locale:null===(r=s.maturityRatingBadge.countryCode)||void 0===r?void 0:r.toLowerCase(),logoUrl:s.maturityRatingBadge.logoUrl,title:s.maturityRatingBadge.description,ariaLabel:s.maturityRatingBadge.description,className:Yr}):s.contentMaturityRating&&n.createElement(ln,Al({},s.contentMaturityRating,{className:Yr})),p&&n.createElement("ol",{className:rl},p.slice(0,3).map((e=>n.createElement("li",{key:e},e))))),s.synopsis&&n.createElement(cn,{synopsis:s.synopsis,className:l()(ll,{[hl]:u})}))},Bl=e=>n.createElement("div",{className:Kr,"data-testid":"title-details"},n.createElement(Ol,e),n.createElement("div",{className:l()(sl)},n.createElement("div",{className:l()(cl,e.state===zr.Hidden?dl:ul)},n.createElement(c.n,Al({className:Xr},e.focusMessage)),n.createElement(Ml,{playbackAction:e.playbackAction,titleId:e.containerItem.titleID,link:e.containerItem.link,promotedAcquisitionGroup:e.promotedAcquisitionGroup,carouselRefTag:e.containerItem.refMarker,parentElement:e.parentElement})))),Gl="OhPFdi",Vl="ervlKf",Wl="_8b1OaE",Fl="wJ8-iy",Hl="NSnTtP",zl="HDvWa4",jl="dhiDpf",Ul="q2Vjv3",$l="hEaNw+",ql="JyV6ce",Zl="Yq5lwT",Jl="UHv3jW",Kl="ZMRR6G",Xl="_0s-2BE";var Yl=a("./src/util/utils/useInteractionObserver.tsx");const Ql="ZkG5T5",es="wd1fAu",ts="mG+ov4",as="_6AsT3F",ns="DQJcsT",is="jG2zso",rs="aC2GcO",ls={0:"ukoo6j",1:"Gl+vBx",2:"fGf4ej",3:"aIIX2v",4:"+WkHxJ",5:"DZG0Bd",6:"M3TwRJ",7:"YO2sFH",8:"perE98",9:"uTXXpm"},ss=e=>{var t;const{isDesktopDeviceVariant:a}=(0,Ee.lO)(),{enrichments:i}=(0,s.Jy)(),r=i[null!==(t=e.titleID)&&void 0!==t?t:""],o="number"==typeof e.index?ls[`${e.index}`]:void 0;return n.createElement("article",{className:ns},n.createElement("button",{className:is,onClick:t=>e.onClick(t,e.index)},n.createElement("div",{className:l()(Ql)},n.createElement("span",{className:l()(o,e.isSelected?ts:es,{[as]:!a})})),n.createElement("span",{className:rs},n.createElement(dr,{card:e,isVisible:!0,isCircle:!1,index:e.index,onWrapperElementChange:e.onWrapperElementChange,enrichment:r}))))};var os=a("./node_modules/@amzn/dvui/dist/Icons/Top10.js"),cs=a.n(os),ds=a("./src/shared/Explore/components/Carousel/Arrow.tsx");function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},us.apply(this,arguments)}const ms=()=>{var e,t,a,i,r,c,d,u,m;const[g,v]=n.useState(0),[h,y]=n.useState(!1),[f,b]=n.useReducer($r,zr.Show),[E,C]=n.useState(!1),[T,_]=n.useState(void 0),k=n.useRef(),I=n.useRef(),L=n.useRef(null),x=n.useRef(null),w=n.useRef(!1),P=n.useRef(!1),S=n.useRef([]),{actions:D,container:N,enrichments:M,isTrailerAutoplayEnabled:R}=(0,s.Jy)(),{isPageVisible:O,pageWidth:B,theme:G,testDebugFlags:V,isDesktopDeviceVariant:W,isPlayerVisible:F}=(0,Ee.lO)(),{logger:H}=(0,Ra.L1)(),[z,j]=n.useState(!0);n.useEffect((()=>{j(E&&O)}),[E,O]);const U=N.entities[g].titleID||"",$=null==M?void 0:M[U],q=null==$?void 0:$.prerolls,Z=null===(e=N.entities)||void 0===e?void 0:e[g],J=S.current[g],K=null==N||null===(t=N.entities)||void 0===t?void 0:t.length,X=(e,t)=>{S.current[t]=e},Y=(e,t)=>{!w.current&&W&&(e.preventDefault(),t!==g&&(clearTimeout(k.current),Q(t)))},Q=e=>{b(zr.Hidden),I.current=window.setTimeout((()=>{v(e),b(zr.Show)}),300)},ee=n.useCallback((()=>{g===K-1?(clearTimeout(k.current),y(!1),Q(0)):Q(g+1)}),[g]),te=n.useCallback((e=>{e&&f===zr.Show?b(zr.TrailerPlaying):!e&&f===zr.TrailerPlaying&&z?b(zr.TrailerFinished):T===he.Error&&b(zr.Error)}),[f,T,z]);n.useEffect((()=>{b(F?zr.Hidden:zr.Show)}),[F]),n.useEffect((()=>{P.current=Si.A.isLargerThan(Si.b.DESKTOP_HD),w.current=Si.A.isSmallerThan(Si.b.LAPTOP)}),[B]),n.useEffect((()=>{[zr.TrailerFinished,zr.Error].includes(f)&&h&&(k.current=window.setTimeout((()=>{ee()}),f===zr.Error?3e3:1e3))}),[f]),n.useEffect((()=>{h&&M&&Object.keys(M).length&&z?q||(k.current=window.setTimeout((()=>{ee()}),5e3)):clearTimeout(k.current)}),[g,q,h,z]),n.useEffect((()=>{const e=N.entities.map((e=>e.titleID)).filter(wr.A);e.length&&(D.getEnrichments(e),y(!0))}),[]),n.useEffect((()=>{(null!=V&&V.useReducedMotion||F)&&clearTimeout(k.current),y(!(null!=V&&V.useReducedMotion||F))}),[null==V?void 0:V.useReducedMotion,F]);const ae=n.useCallback((([{isIntersecting:e,intersectionRatio:t}])=>{C(e&&t>=.7)}),[]);(0,Yl.S)({enabled:!0,target:L,onIntersect:ae,threshold:.7}),n.useEffect((()=>{z||f!==zr.TrailerPlaying&&f!==zr.TrailerFinished?b(zr.Show):b(zr.Hidden)}),[z]);n.useEffect((()=>{var e;const t=g,a=Si.A.isLargerThan(Si.b.DESKTOP_HD)?4:3,n=Math.floor(t/a)*a+1;null===(e=x.current)||void 0===e||e.scrollToCardFirstVisible(n)}),[g]);const ne=n.useCallback(((e,t,a)=>n.createElement(ss,us({index:a,isSelected:g===a,onClick:Y,onWrapperElementChange:X,isVisible:t},e))),[g]),ie=()=>{J&&Ne.F.logManualImpression(J,"Select")},re=f===zr.TrailerPlaying,le=re?$l:ql,{index:se,consumingWidgetType:oe,container:{containerType:ce}}=(0,s.Jy)(),{containerVisibility:de}=(0,Ee.lO)(),ue=((null==de?void 0:de.min)||0)-2<se&&se<((null==de?void 0:de.max)||0)+2,{enabled:me}=(0,Ht.F)(),pe=Gi(oe,ce,se,-1),ge=null!==(a=null==$?void 0:$.entitlementCues)&&void 0!==a?a:Z.entitlementCues,ve=null==Z||null===(i=Z.images)||void 0===i||null===(i=i.hero)||void 0===i?void 0:i.url;return n.useEffect((()=>{ve||(H.count("MissingImageChartsBackgroundImage",1,!1),p.c.count("MissingImageChartsBackgroundImage"),H.warn(`Missing hero image in ChartsBackgroundImage for title ${null==Z?void 0:Z.titleID}`))}),[]),n.createElement("section",{"data-testid":"charts-container",className:Gl},(null==N?void 0:N.title)&&n.createElement(yr.D,{title:null==N?void 0:N.title,facetText:null==N?void 0:N.facetText,offerType:null==N||null===(r=N.entitlementCues)||void 0===r?void 0:r.offerType,entitlementType:null==N||null===(c=N.entitlementCues)||void 0===c?void 0:c.entitledCarousel,icon:n.createElement(cs(),null)}),n.createElement("div",{className:l()(Hl,{[zl]:W}),ref:L,"data-testid":"charts-content"},W&&n.createElement(n.Fragment,null,n.createElement(Zr,{imageUrl:ve,ariaLabel:null==Z?void 0:Z.title,state:f,shouldLazyLoadImage:pe,titleID:null==Z?void 0:Z.titleID,displayTitle:null==Z?void 0:Z.displayTitle}),(null==Z||null===(d=Z.link)||void 0===d?void 0:d.url)&&!re&&n.createElement("a",{href:null==Z||null===(u=Z.link)||void 0===u?void 0:u.url,className:Xl,"data-testid":"image-link",onClick:ie},null==Z?void 0:Z.displayTitle),q&&q.mediaFile&&f!==zr.TrailerFinished&&!w.current&&R&&z&&!F&&n.createElement(Ie,{key:U,className:l()(jl,le),canPlay:!0,delay:2e3,playback:ke.Restart,prerolls:q,playing:te,placement:A.ChartsContainer,playerIsActive:!1,link:re?null==Z||null===(m=Z.link)||void 0===m?void 0:m.url:void 0,draperParentListeners:{onClick:ie},refMarker:null==Z?void 0:Z.refMarker,titleID:null==Z?void 0:Z.titleID,onStateChange:_,containerType:ce}),"Store"===G&&ue&&!me&&n.createElement("div",{className:Kl,"data-testid":"charts-store-glow"})),n.createElement("div",{className:l()(Ul,le)}),n.createElement("div",{className:l()({[Vl]:W})},W&&n.createElement("div",{className:l()(Fl,Wl),"data-testid":"charts-grid"},n.createElement(Bl,{containerItem:Z,playbackAction:xi(Z,$,null==V?void 0:V.disableFallbackPlaybackActions),highValueMessage:null==ge?void 0:ge.highValueMessage,focusMessage:null==ge?void 0:ge.focusMessage,promotedAcquisitionGroup:null==$?void 0:$.promotedAcquisitionGroup,state:f,shouldLazyLoadImage:pe,parentElement:J})),n.createElement(o.ZP,{cards:N.entities,wrapperClassName:Zl,navigation:o.W_.Framed,className:Jl,renderCard:ne,onNavigate:(e,t)=>{y(!1);const a=t.min;if(e===ds.N.Forward)return 1;const n=P.current?4:3;return P.current||8!==a?P.current&&7===a?-2:-n:-1},ref:x,scrollType:o.g4.FirstVisible,testID:"charts-carousel"}))))},ps="2 / 3",gs="data-active-card",vs="z6Be-S",hs="_9ZO7CZ",ys="NRrJ0c",fs="KRgchP",bs="rP-Fu8",Es="UcQ6j5",Cs="_75e8mi",Ts="d8MkGP",_s="btKtrY",ks="YK5FqF",Is="RGWdWq",Ls="L-V4Nn";function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xs.apply(this,arguments)}const ws=[720,1080,1440,1920],Ps=({imageUrl:e,children:t,titleID:a,...i})=>{const[r,l]=n.useState(void 0),s=n.useMemo((()=>{const e={};return r&&(e.backgroundImage=`url(${r})`),e}),[r]);return n.createElement("div",xs({style:s},i,{"data-testid":"expanded-background-art"}),e&&n.createElement(Le.w,{src:e,wrapperClassName:ks,aspectRatio:d.o.SixteenByNine,parentListeners:{onLoad:e=>l(e)},sizesOptions:{defaultSrcSize:1150,srcSizes:[{"max-tablet-lowest":550},{"max-laptop-lowest":700},{"max-desktop-lowest":830},{"max-desktop-hd-lowest":830},{"max-desktop-uhd-lowest":1150}]},srcSetWidths:ws,baseValue:1440,shouldLazyLoad:!1,debugID:a}),t)},Ss="Yo4IxL",Ds="fNAExp",Ns="gdaliH",Ms="_4SWWvD",Rs="tnjXrr",As="h-x9gl",Os="a6K0J3";function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bs.apply(this,arguments)}const Gs=({entitlement:e,titleMetadataBadge:t,meta:a})=>{var i;const{enabled:r}=(0,Ht.F)(),{customerReviews:l,liveInfo:s,maturityRatingBadge:o,contentMaturityRating:d}=a;return n.createElement("footer",{className:Ss},e&&n.createElement(c.n,{message:e.message,icon:e.icon,className:As,labelClassName:Os}),t&&n.createElement(mn.O,{style:t.level,label:t.message,testID:"metadata-badge"}),l&&(r?n.createElement(vn.StarRating,{rating:l.value,ariaLabel:l.customerReviewsText.string,testID:"fable-star-rating"}):n.createElement(an,{customerReviews:l})),n.createElement("div",{className:Ds},s&&n.createElement(n.Fragment,null,n.createElement(Ii,{liveInfo:s,testID:"meta-liveliness",className:Ns}),n.createElement(Ta.Z.MetaDataBadge,{className:Ms,"data-testid":"meta-date-time"},s.timeBadge)),o?n.createElement(un.MaturityRating,{rating:o.displayText,locale:null===(i=o.countryCode)||void 0===i?void 0:i.toLowerCase(),logoUrl:o.logoUrl,title:o.description,ariaLabel:o.description,className:Rs}):d&&n.createElement(ln,Bs({},d,{className:Rs}))))},Vs="zDUKPq",Ws="SjBBuH",Fs="tmvccl",Hs="t-TyM1",zs="K0VLBB",js=({title:e,link:t,titleId:a,titleLogoUrl:i,entitlement:r,titleMetadataBadge:s,playback:o,playbackGroup:c,promotedAcquisitionGroup:d,meta:u,carouselRefTag:m,shouldLazyLoadImage:p,parentElement:g})=>{const v=e?n.createElement(En,{title:e,titleLogoOptions:i?{url:i,imageClassName:zs,wrapperClassName:Hs,shouldLazyLoadImage:p}:void 0,headingClassName:i?void 0:Fs,url:null==t?void 0:t.url,titleID:a,parentElement:g}):null,h={eventTitle:e,triggerLocation:"SuperCarousel",liveInfo:u.liveInfo,titleMetadataBadge:s};return n.createElement("section",{className:l()(_s),"data-testid":"card-controls"},v,n.createElement("span",null,n.createElement(Ml,{titleId:a,link:t,playbackAction:o,playbackGroup:c,promotedAcquisitionGroup:d,className:o?Vs:Ws,streamSelectorProps:h,carouselRefTag:m,parentElement:g})),n.createElement(Gs,{entitlement:r,titleMetadataBadge:s,meta:u}))},Us="-KE+LZ",$s="RC5WUV",qs="AAcaWn",Zs="GdzN4h",Js="+imlHX",Ks=[375,500,750,900],Xs=({className:e,imageUrl:t,title:a,link:i,disableLinkTabFocus:r,defaultCursor:o,onClick:c,liveEventMetadata:u,shouldLazyLoadImage:m,titleID:p,imageClassName:g,entitlementIconType:v,itemIndex:h,titleMetadataBadge:y})=>{const[f,b]=n.useReducer((()=>!0),!1),[E,C]=n.useReducer((()=>!0),!1),{consumingWidgetType:T,index:_}=(0,s.Jy)(),k=d.o.TwoByThree,I=(e,t)=>n.createElement(Le.w,{src:e,alt:a,aspectRatio:k,imageClassName:l()(Zs,g),parentListeners:{onError:t},sizesOptions:{defaultSrcSize:430,srcSizes:[{"max-tablet-lowest":200},{"max-laptop-lowest":260},{"max-desktop-lowest":310},{"max-desktop-hd-lowest":310},{"max-desktop-uhd-lowest":430}]},srcSetWidths:Ks,baseValue:750,shouldLazyLoad:m,elementTiming:or({consumingWidgetType:T,containerType:"SuperCarousel",containerIndex:_,itemIndex:h}),debugID:p}),L="LIVE"!==(null==u?void 0:u.status)?null==u?void 0:u.timeBadge:void 0,x=n.createElement(ki,{dateTime:L,isSuperCarousel:!0,entitlementIconType:v}),w=null!=u&&u.label?n.createElement(Ii,{liveInfo:u,className:Js}):n.createElement(mn.O,{style:null==y?void 0:y.level,label:null==y?void 0:y.message,className:Js}),P=t?I(t,b):n.createElement(n.Fragment,null);return(t=>{const s=null==i?void 0:i.url;return s?n.createElement("a",{className:l()(Us,e,{[qs]:o}),href:s,"aria-label":a,onClick:c,"data-testid":"poster-link",tabIndex:r?-1:void 0},t):n.createElement("div",{className:l()(Us,e)},t)})(n.createElement("div",{className:$s},t&&!f?P:n.createElement(ze,{fallbackImage:I(De.L3,C),hasFallbackImageErrored:E,fallbackTitleText:a,aspectRatio:k}),x,w))},Ys=no("16 / 9"),Qs=no(ps),eo={element:void 0,prevElement:void 0,elementIndex:-1,prevElementIndex:-1};function to(e,t){return{prevElement:e.element,prevElementIndex:e.elementIndex,element:t?t.element:void 0,elementIndex:t?t.index:-1}}function ao(e,t,a){if(e.element!==e.prevElement&&e.element){const{cardStartCoordinate:n,height:i}=function(e,t,a){const{height:n,left:i,right:r}=e.getBoundingClientRect(),{left:l,right:s}=t.getBoundingClientRect();if(a)return{cardStartCoordinate:window.innerWidth-r-(window.innerWidth-s),height:n};return{cardStartCoordinate:i-l,height:n}}(e.element,t,a),r=!!e.prevElement&&e.prevElementIndex<e.elementIndex,l=i*Qs,s=i*Ys,o=t.clientWidth,c=r?n-(s-l):n;let d=0;const u=(0,ir.My)("--dv-carousel-column-margin");return c<u?d=c-u:c+s+u>o&&(d=c+s+u-o),a?-d:d}}function no(e){const t=e.split("/");return t[0]&&t[1]?parseInt(t[0])/parseInt(t[1]):0}const io=n.createContext(void 0);io.displayName="ScrollAnimationContext";const ro=(0,Ir.s6)((e=>{const t=n.useRef(),a=n.useRef(),i=n.useRef(),[r,s]=n.useReducer(to,eo),{isSsmOpen:o}=n.useContext(Aa.mY),c=e=>{clearTimeout(t.current),t.current=window.setTimeout((()=>{s(e)}),250)},[d,u]=n.useState(void 0),m=n.useContext(mr.$C),{isCarouselHovered:p,isHoveringNavArrows:g,isCarouselFocused:v}=n.useContext(mr._y),{numOfCards:h}=n.useContext(ho),y=(0,je.getRequestContext)(),f=n.useCallback((e=>{m.connected&&m.scrollContainer.scrollBy({left:e})}),[m.connected&&m.scrollContainer]),b=n.useCallback((e=>{m.connected&&m.scrollContainer.scrollTo({left:e})}),[m.connected&&m.scrollContainer]),E=n.useCallback((()=>{if(function(e){if(e.prevElement){const t=e.prevElement;t&&t.removeAttribute(gs)}if(e.element){const t=e.element;t&&t.setAttribute(gs,"true")}}(r),clearTimeout(a.current),m.connected){var e;const t=null!==(e=y.isLocaleRTL)&&void 0!==e&&e,n=ao(r,m.scrollContainer,t);n&&(a.current=window.setTimeout((()=>{f(n)}),t?300:0))}}),[r]),C=n.useCallback((()=>{clearTimeout(i.current)}),[]),T=n.useCallback((()=>{var e;clearTimeout(t.current),clearTimeout(a.current);const n=null!==(e=y.isLocaleRTL)&&void 0!==e&&e,l=function(e,t,a,n){let i,r;if(t?(i=t.element,r=t.index):(i=e.element,r=e.elementIndex),!i)return null;const{height:l}=i.getBoundingClientRect(),s=(l*Qs*n+(0,ir.My)("--dv-carousel-column-gap")*n)*Math.floor(r/n);return a?-s:s}(r,d,n,h);"number"==typeof l&&(b(l),n&&(i.current=window.setTimeout((()=>{b(l)}),550))),c(void 0),u(void 0)}),[r,d]),_=n.useCallback((()=>{d&&(c(d),u(void 0))}),[d]);n.useEffect((()=>{E()}),[r.element]),n.useEffect((()=>{o||(!1===p||!0===g?T():C())}),[p,g,o]),n.useEffect((()=>{m.connected&&m.isScrolling||_()}),[m.connected&&m.isScrolling]);const k=n.useCallback(((e,t)=>{var a,n;m.connected&&m.isScrolling?u({element:null!==(a=e.closest("li"))&&void 0!==a?a:void 0,index:t}):c({element:null!==(n=e.closest("li"))&&void 0!==n?n:void 0,index:t})}),[m.connected&&m.isScrolling]),I=n.useMemo((()=>({openElementIndex:r.elementIndex,actions:{onMouseEnter:k}})),[r.elementIndex,k]);return n.createElement("div",{className:l()({[fs]:p||v})},n.createElement(io.Provider,{value:I},e.children))}));function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lo.apply(this,arguments)}const so=n.memo((({contentMaturityRating:e,customerReviews:t,entitlementCues:a,images:i,releaseYear:r,link:o,displayTitle:c,isVisibleInCarousel:d,isOnlyPoster:u,titleID:m,refMarker:g,widgetType:v,index:h,liveInfo:y,playbackActions:f,itemAnalytics:b,maturityRatingBadge:E,signInTrailerURL:C})=>{var T,_,k,I,L,x;const[w,P]=n.useState(!1),[S,D]=n.useState(!1),N=n.useRef(null),[M,R]=n.useState(!1),O=n.useRef(),[B,G]=n.useState(!1),{enrichments:V,isTrailerAutoplayEnabled:W,container:{impressionData:F,containerType:H},index:z,consumingWidgetType:j}=(0,s.Jy)(),{openElementIndex:U,actions:$}=(()=>{const e=n.useContext(io);if(void 0===e)throw new Error("useScrollAnimationContext must be used within a ScrollAnimationContext.Provider");return e})(),{logger:q}=(0,Ra.L1)(),{testDebugFlags:Z}=(0,Ee.lO)(),{touchMiniDetailsModalListeners:J,isMiniDetailsModalVisible:K,dismissMiniDetailsModal:X,removeContextMenuClass:Y,removeDragAnimationClass:Q,link:ee}=Hi(H,void 0!==m,o),te=Gi(j,H,z,h),ae=n.useCallback((e=>{const t=null==N?void 0:N.current;if(t||e===t)t&&!e&&Ne.F.unobserve(t);else{var a;const t=null==i||null===(a=i.poster2x3)||void 0===a?void 0:a.url;F&&t&&v&&g&&e&&Ne.F.observe(e,{collectionImpressionData:F,titleID:m,imageURL:t,refMarker:g,widgetType:v,carouselPosition:z,itemPosition:h,itemAnalytics:b})}N.current=e}),[]);n.useEffect((()=>()=>{window.clearTimeout(O.current)}),[]),n.useEffect((()=>{M?(window.clearTimeout(O.current),G(!0)):U!==h&&(window.clearTimeout(O.current),O.current=window.setTimeout((()=>{G(!1)}),2e3))}),[M,U,h]),n.useEffect((()=>{null!=N&&N.current&&(U===h||K)&&Ne.F.logManualImpression(null==N?void 0:N.current,"Highlight")}),[U,h,K]),n.useEffect((()=>{if(u)return;M&&d?(N.current&&$.onMouseEnter(N.current,h),P(!0)):P(!1)}),[M,d]);const ne=n.useCallback((()=>{R(!0)}),[]),ie=n.useCallback((()=>{R(!1)}),[]),re=()=>{null!=N&&N.current&&Ne.F.logManualImpression(null==N?void 0:N.current,"Select")},le=null==V?void 0:V[null!=m?m:""];let se;null!=le&&le.prerolls&&W&&(se=n.createElement(Ie,{className:Ts,canPlay:w,prerolls:null==le?void 0:le.prerolls,delay:2e3,playback:ke.Restart,playerIsActive:!0,link:S?null==ee?void 0:ee.url:void 0,playing:D,draperParentListeners:{onClick:re},refMarker:g,titleID:m,placement:A.SuperCarousel,containerType:H}));const oe=wi(f,le,null==Z?void 0:Z.disableFallbackPlaybackActions),ce=Pi(le,null==Z?void 0:Z.disableFallbackPlaybackActions),de=null!==(T=null==le?void 0:le.entitlementCues)&&void 0!==T?T:a,ue=n.useMemo((()=>({contentMaturityRating:e,customerReviews:t,releaseYear:r,liveInfo:y,maturityRatingBadge:E})),[]),me=null==i||null===(_=i.poster2x3)||void 0===_?void 0:_.url;n.useEffect((()=>{me||(q.count("MissingImageSuperCarouselCard",1,!1),p.c.count("MissingImageSuperCarouselCard"),q.warn(`Missing poster2x3 image in SuperCarouselCard for title ${m}`))}),[]);const pe={className:Es,imageUrl:me,title:c,link:o,disableLinkTabFocus:B,liveEventMetadata:y,onClick:re,shouldLazyLoadImage:te,titleID:m,imageClassName:Q,entitlementIconType:null==de||null===(k=de.glanceMessage)||void 0===k?void 0:k.icon,titleMetadataBadge:null==de?void 0:de.titleMetadataBadge,itemIndex:h},ge=K?n.createElement(wn,{titleID:m,playbackAction:oe,playbackGroup:ce,displayTitle:c,watchlistAction:null==le?void 0:le.watchlistAction,trailer:null==le?void 0:le.trailer,contentMaturityRating:e,maturityRatingBadge:E,recordSeasonTooltipText:null==le||null===(I=le.recordSeason)||void 0===I||null===(I=I.watchlistAddon)||void 0===I?void 0:I.tooltipText,showTouchModal:K,dismissTouchModal:X,detailsPageUrl:null==ee?void 0:ee.url,parentElement:N.current,signInTrailerURL:C}):null;return n.createElement("article",lo({className:l()(vs,ys,Y),"data-testid":"super-carousel-card",onMouseEnter:ne,onMouseLeave:ie,ref:ae},J),u?n.createElement(n.Fragment,null,n.createElement(Xs,pe),ge):n.createElement(Ps,{className:Cs,imageUrl:null==i||null===(L=i.hero)||void 0===L?void 0:L.url,titleID:m},n.createElement(Ti.Gradient,{variant:"super-carousel-scrim",className:Ls}),B&&n.createElement(n.Fragment,null,se,(null==ee?void 0:ee.url)&&!S&&n.createElement("a",{href:null==ee?void 0:ee.url,className:l()(Is),onClick:re,"data-testid":"image-link"},c),n.createElement(js,{title:c,titleId:m,link:ee,titleLogoUrl:null==i||null===(x=i.titleLogo)||void 0===x?void 0:x.url,entitlement:null==de?void 0:de.focusMessage,titleMetadataBadge:null==de?void 0:de.titleMetadataBadge,playback:oe,playbackGroup:ce,promotedAcquisitionGroup:null==le?void 0:le.promotedAcquisitionGroup,meta:ue,carouselRefTag:g,shouldLazyLoadImage:te,parentElement:null==N?void 0:N.current})),n.createElement(Xs,lo({},pe,{defaultCursor:!0})),ge))}));function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},oo.apply(this,arguments)}const co=2,uo=2,mo=3,po=4,go=5,vo=6,ho=n.createContext({numOfCards:0}),yo=()=>{const{actions:e,container:t}=(0,s.Jy)(),a=t.entities,{isHoverEnabled:i,pageWidth:r,hasPageMounted:l,contingencies:o}=(0,Ee.lO)(),[c,d]=n.useState(!0),u=n.useCallback((()=>{{let e=vo;return Si.A.is(Si.b.PHONE_PORTRAIT)?e=co:Si.A.is(Si.b.TABLET_SMALL)?e=uo:Si.A.is(Si.b.TABLET)?e=mo:Si.A.is(Si.b.LAPTOP)?e=po:Si.A.is(Si.b.DESKTOP)&&(e=go),e}}),[]),[m,p]=n.useState(l?u():vo);n.useEffect((()=>{p(u())}),[]),n.useEffect((()=>{d(!i||Si.A.isSmallerThan(Si.b.LAPTOP)||Boolean(null==o?void 0:o.disableHover)||Boolean(null==t?void 0:t.notExpandable)),p(u())}),[i,r]);const g=n.useCallback(((e,t,a)=>n.createElement(so,oo({isVisibleInCarousel:t},e,{canPlay:t,index:a,isOnlyPoster:c}))),[c]),v=n.useCallback((t=>{const n=a.filter(((e,a)=>t.has(a+1)));if(n.length>0){const t=n.map((e=>{var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID})).filter(wr.A);e.getEnrichments(t)}}),[a,e]),h=null==t?void 0:t.entitlementCues;return n.createElement(ho.Provider,{value:{numOfCards:m}},n.createElement(mr.xh,null,n.createElement(mr.Dj,{cards:a,wrapperClassName:hs,navigation:mr.W_.Framed,isHalfSizedArrowFrame:!0,className:bs,header:t.title&&n.createElement(yr.D,{title:t.title,entitlementType:null==h?void 0:h.entitledCarousel,facetText:t.facetText,offerType:null==h?void 0:h.offerType}),renderCard:g,cardsVisibilityThreshold:.3,customCarouselContainer:ro,performantRender:{maxCardNum:m,onFirstTimeCardRender:v},testID:"super-carousel"})))},fo="d+y-VB",bo="PFB4Sx",Eo="mS+1wI",Co="uAuoES",To="_08tkIy",_o=[1080,2160,2880,3840],ko=[{"max-tablet-lowest":450},{"max-laptop-lowest":880},{"max-desktop-lowest":1400},{"max-desktop-hd-lowest":1800},{"max-desktop-uhd-lowest":2400}],Io=({backgroundImage:e,title:t,entitledCarousel:a,theme:i,shouldLazyLoadImage:r})=>{const l="NotEntitled"===a,o="Store"===i,{consumingWidgetType:c,index:u}=(0,s.Jy)();return n.createElement("div",{className:fo,"data-testid":"cover-background-root"},l&&!o&&n.createElement("div",{className:To,"data-testid":"cover-mobile-gradient"}),(null==e?void 0:e.url)&&n.createElement(Le.w,{alt:t,src:e.url,imageClassName:bo,aspectRatio:d.o.ThirtyTwoByFifteen,sizesOptions:{defaultSrcSize:2400,srcSizes:ko},srcSetWidths:_o,baseValue:2880,shouldLazyLoad:r,elementTiming:or({consumingWidgetType:c,containerType:"Cover",containerIndex:u,itemIndex:-1}),debugID:t}),n.createElement("div",{className:Eo,"data-testid":"cover-bottom-gradient"}),l&&!o&&n.createElement("div",{className:Co,"data-testid":"cover-bottom-start-gradient"}))},Lo="_0rM3o9",xo="VrD8pe",wo="bA1o9y",Po="uoTA0G",So="g73j2s",Do="H0BsV3",No="JNvLP2",Mo="_1sT8of",Ro="Q4fi+w",Ao="S8BxNl",Oo=[690,1035,1380,2070],Bo=({title:e,description:t,shouldHideTitleOnSmallerDevices:a})=>n.createElement("div",{className:Po},e&&n.createElement("h2",{className:l()(So,{[Do]:a})},e),t&&n.createElement("p",{className:No},t)),Go=({url:e,label:t,otherClassName:a})=>n.createElement("div",{className:a},n.createElement(Tn.PrimaryButton,{href:e,testID:"action"},t)),Vo=({entities:e,title:t,description:a,logoImage:i,action:r,baseContainerActions:l,enrichments:s,shouldLazyLoadImage:o})=>n.createElement("div",{className:Lo,"data-testid":"cover-content-root"},n.createElement("div",{className:xo},(null==i?void 0:i.url)&&n.createElement(Le.w,{alt:i.alternateText,src:i.url,wrapperClassName:wo,aspectRatio:d.o.ThreeHundredFortyFiveByFiftySix,sizesOptions:{defaultSrcSize:920,srcSizes:[{"max-tablet-lowest":350},{"max-laptop-lowest":380},{"max-desktop-lowest":560},{"max-desktop-hd-lowest":650},{"max-desktop-uhd-lowest":920}]},srcSetWidths:Oo,baseValue:1380,shouldLazyLoad:o,debugID:t}),(t||a)&&n.createElement(Bo,{title:t,description:a,shouldHideTitleOnSmallerDevices:Boolean(t&&a&&(null==i?void 0:i.url))}),(null==r?void 0:r.url)&&(null==r?void 0:r.label)&&n.createElement(Go,{url:r.url,label:r.label,otherClassName:Mo})),n.createElement(Ar,{entities:e,actions:l,enrichments:s,otherWrapperClassName:Ao}),(null==r?void 0:r.url)&&(null==r?void 0:r.label)&&n.createElement(Go,{url:r.url,label:r.label,otherClassName:Ro})),Wo="boWXU+",Fo="vVQ5BU",Ho="PEOk1j",zo=()=>{const{container:e,actions:t,enrichments:a,consumingWidgetType:i,index:r}=(0,s.Jy)(),{theme:o,containerVisibility:c}=(0,Ee.lO)(),{enabled:d}=(0,Ht.F)(),{entities:u,entitlementCues:m,backgroundImage:p,title:g,description:v,logoImage:h,action:y,containerType:f}=e,b=null==m?void 0:m.entitledCarousel,E="Store"===o,C=((null==c?void 0:c.min)||0)-2<r&&r<((null==c?void 0:c.max)||0)+2,T=Gi(i,f,r,-1);return n.createElement("section",{className:l()(Fo,Wo),"data-testid":"cover-container"},n.createElement(Io,{backgroundImage:p,title:g,entitledCarousel:b,theme:o,shouldLazyLoadImage:T}),n.createElement(Vo,{title:g,description:v,logoImage:h,action:y,entities:u,baseContainerActions:t,enrichments:a,shouldLazyLoadImage:T}),E&&C&&!d&&n.createElement("div",{className:Ho,"data-testid":"cover-page-store-glow"}))};var jo=a("./src/shared/Explore/components/Carousel/Carousel.module.scss");const Uo="_8feUpB",$o="Lodp2z",qo="oMPh6r",Zo="O80U9r",Jo="+pD1ii",Ko="qLBcsq",Xo="v27j9y",Yo="glGxL6",Qo="JyHB2h",ec="_845O7N",tc="oXTJJt",ac=1.5,nc=2,ic=3,rc=4,lc=5,sc=6,oc=({href:e,label:t})=>n.createElement("span",{className:Qo},n.createElement(Wa.PrimaryLinkButton,{href:e,testID:"nodes-see-more-card"},t)),cc=()=>{var e,t,a;const{pageWidth:i,hasPageMounted:r}=(0,Ee.lO)(),{container:c,consumingWidgetType:d}=(0,s.Jy)(),{enabled:u}=(0,Ht.F)(),{title:m,entities:p,firstEntityGroupSize:g,unentitledText:v,seeMoreLink:h,seeMore:y}=c,f=n.useRef(null),b=n.useRef(Object.values(p).some((e=>{var t;return!(null===(t=e.entitlementCues)||void 0===t||null===(t=t.glanceMessage)||void 0===t||!t.message)}))),E="MyStuff"===d||p.length==g,C="Start"===(null==y?void 0:y.displayPlacement)&&(null==y||null===(e=y.link)||void 0===e?void 0:e.url)&&(null==y||null===(t=y.link)||void 0===t?void 0:t.label);let T,_;C?(T=(null!=g?g:0)+1-1,_=null!=g?g:1):(T=(null!=g?g:0)-1,_=null!=g?g:0);const k=_>0,I=_,L=null==c?void 0:c.entitlementCues,x=null==c||null===(a=c.entitlementCues)||void 0===a?void 0:a.entitledCarousel,w=null==L?void 0:L.offerType,P={"--number-of-circular-cards":I},S=n.useCallback((()=>{{let e=sc;return Si.A.is(Si.b.PHONE_PORTRAIT)?e=ac:Si.A.is(Si.b.TABLET_SMALL)?e=nc:Si.A.is(Si.b.TABLET)?e=ic:Si.A.is(Si.b.LAPTOP)?e=rc:Si.A.is(Si.b.DESKTOP)&&(e=lc),e}}),[]),[D,N]=n.useState(r?S():sc);n.useEffect((()=>{N(S())}),[]),n.useEffect((()=>{N(S())}),[i]);const M=()=>{if(!C)return p;const e={link:{url:y.link.url,label:y.link.label},refMarker:y.refMarker,widgetType:"linkCard"},t=JSON.parse(JSON.stringify(p));return t.unshift(e),t},[R,A]=n.useState(M());n.useEffect((()=>A(M())),[p]);return n.createElement(o.ZP,{className:jo.Z.Nodes,navigation:o.W_.Framed,cards:R,renderContainer:e=>n.createElement("div",{className:tc,ref:f},n.createElement("div",{className:l()(Uo,{[$o]:1===I}),style:P},n.createElement("section",{className:Zo},m&&k&&n.createElement("div",{"data-testid":"carousel-header",className:l()({[Jo]:!E,[Xo]:E})},n.createElement(yr.D,{title:m,entitlementType:x,className:ec,offerType:w},E&&h&&n.createElement(Tr,{url:h.url,ariaLabel:m,label:h.label}))),!E&&v&&n.createElement("div",{"data-testid":"carousel-upsell-header",className:Ko},n.createElement(yr.D,{title:v,entitlementType:"NotEntitled",offerType:w},h&&n.createElement(Tr,{url:h.url,ariaLabel:v,label:h.label,className:l()({[Yo]:!u})})))),e)),renderCard:(e,t,a)=>{if(C&&0===a&&y.link.label)return n.createElement(oc,{href:y.link.url,label:y.link.label});const i=C?a<_+1:a<_;return n.createElement(dr,{card:e,isVisible:t,isCircle:i,index:a,wrapperClassName:l()({[qo]:!E&&a===T}),renderGlanceSpaceIfNoGlanceMessage:b.current})},overrideScrollContainerRef:f,cardsVisibilityThreshold:.99,testID:"nodes-carousel",performantRender:{maxCardNum:D,startIndexForVirtualisation:_+1}})};cc.displayName="Nodes";const dc=cc,uc="xMo82q",mc="_20Qx4g",pc="Qpmg1P",gc="_9pxNG4",vc="vDmXS1",hc="wH7mLc",yc="xkvvgo",fc="Io0kUZ",bc="mMpZEW",Ec="I82JbU",Cc="AoVl5S",Tc="vWki92",_c="QLcL+3",kc=(0,Ra.ty)((({triggerMiniDetailsModal:e})=>{const t=n.useCallback((t=>{null==t||t.preventDefault(),null==t||t.stopPropagation(),null==e||e()}),[]);return n.createElement("div",{"data-testid":"actions-overflow-menu",className:Tc},n.createElement("button",{"data-testid":"actions-menu-button",className:_c,onClick:t},n.createElement(la(),{height:Ut.$3,width:Ut.rM})))}));function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ic.apply(this,arguments)}const Lc=({card:e,enrichment:t,index:a})=>{var i,r,o,d,u,m,g;const v=n.useRef(null),{consumingWidgetType:h,container:{impressionData:y,containerType:f},index:b,removedItemsMap:E,hiddenEntityMessages:C}=(0,s.Jy)(),{logger:T}=(0,Ra.L1)(),_=Gi(h,f,b,a),{images:k,hideThisAction:I,displayTitle:L,displayTitle:x,widgetType:w,refMarker:P,titleID:S,reactionAction:D}=e,{touchMiniDetailsModalListeners:N,isMiniDetailsModalVisible:M,dismissMiniDetailsModal:R,triggerMiniDetailsModal:A,removeContextMenuClass:O,removeDragAnimationClass:B,link:G}=Hi(f,void 0!==e.titleID,e.link),{testDebugFlags:V}=(0,Ee.lO)(),W=S?C.get(S):null,F=void 0!==e.titleID?null==E?void 0:E[e.titleID]:void 0,H=void 0!==F,z=null==F?void 0:F.removedOverlayMessage,j=null==k||null===(i=k.cover)||void 0===i?void 0:i.url;n.useEffect((()=>{j||(T.count("MissingImageRanOverCard",1,!1),p.c.count("MissingImageRanOverCard"),T.warn(`Missing cover image in RanOverCard for title ${S}`))}),[]),n.useEffect((()=>{M&&null!=v&&v.current&&Ne.F.logManualImpression(null==v?void 0:v.current,"Highlight")}),[M]);const U=null!==(r=null==t?void 0:t.entitlementCues)&&void 0!==r?r:e.entitlementCues,$=n.useCallback((t=>{const n=null==v?void 0:v.current;n||t===n?n&&!t&&Ne.F.unobserve(n):y&&j&&w&&P&&t&&Ne.F.observe(t,{collectionImpressionData:y,titleID:S,imageURL:j,refMarker:P,widgetType:w,carouselPosition:b,itemPosition:a,itemAnalytics:e.itemAnalytics}),v.current=t}),[]);let q;D&&"Onboarding"===f&&(q=n.createElement(tr,{gti:S,reactionAction:D,iconButtonClassname:Cc}));const Z=q?void 0:e=>{Ne.F.logManualImpression(e.currentTarget,"Select")},J=W&&I&&S?n.createElement(lr,{hideThisAction:I,titleID:S,hiddenTitleMessage:W,className:bc}):null,K=z?n.createElement(Bi,{message:z,className:bc,undoText:F.undoMessage,onUndo:F.undo}):null,X=null!==J,Y=q||X||H?"article":"a",Q=q||X||H||null==G?void 0:G.url;return n.createElement(n.Fragment,null,n.createElement(Y,Ic({ref:$,"aria-label":x,"data-testid":"flat-card","data-card-position":a,"data-card-title":e.title,"data-card-entity-type":e.entityType,href:Q,onClick:Z},N,{className:l()(O,{[Ec]:q})}),n.createElement("div",{"data-testid":"ran-over-card-container",className:uc},J,K,!X&&!H&&n.createElement(n.Fragment,null,n.createElement("div",{className:pc},!H&&n.createElement(Je,{className:l()(mc),imageClassName:l()(gc,B),imageUrl:j,alternateText:null==k||null===(o=k.cover)||void 0===o?void 0:o.alternateText,fallbackTitle:L,parentElement:v.current,refMarker:e.refMarker,titleID:e.titleID,shouldLazyLoadImage:_,elementTiming:or({consumingWidgetType:h,containerType:f,containerIndex:b,itemIndex:a})})),n.createElement("div",{className:l()(vc,{[fc]:H})},n.createElement(Ta.Z.Header,{className:hc},x),n.createElement("div",{className:yc},n.createElement(Ta.Z.Body,null,null==e?void 0:e.releaseYear),n.createElement(Ta.Z.Body,null,null==e?void 0:e.runtime)),U&&n.createElement(c.n,{icon:null===(d=U.glanceMessage)||void 0===d?void 0:d.icon,message:null===(u=U.glanceMessage)||void 0===u?void 0:u.message,level:null===(m=U.glanceMessage)||void 0===m?void 0:m.level}),M&&n.createElement(wn,{titleID:S,playbackAction:xi(e,t,null==V?void 0:V.disableFallbackPlaybackActions),playbackGroup:Pi(t,null==V?void 0:V.disableFallbackPlaybackActions),displayTitle:x,watchlistAction:null==t?void 0:t.watchlistAction,trailer:null==t?void 0:t.trailer,contentMaturityRating:e.contentMaturityRating,maturityRatingBadge:e.maturityRatingBadge,recordSeasonTooltipText:null==t||null===(g=t.recordSeason)||void 0===g||null===(g=g.watchlistAddon)||void 0===g?void 0:g.tooltipText,showTouchModal:M,dismissTouchModal:R,detailsPageUrl:null==G?void 0:G.url,hideThisAction:I,libraryItemActions:e.libraryItemActions,parentElement:v.current,signInTrailerURL:e.signInTrailerURL}))),!H&&!X&&n.createElement(kc,{triggerMiniDetailsModal:A}),q)))},xc="bUIMWe",wc="IouS5j",Pc="evYCfE",Sc=({card:e,index:t})=>{var a,i,r;const{container:l,consumingWidgetType:o,index:c}=(0,s.Jy)(),d=Gi(o,l.containerType,c,t),{images:u}=e,m=null==u||null===(a=u.cover)||void 0===a?void 0:a.url,p=e.displayTitle,g=null==u||null===(i=u.cover)||void 0===i?void 0:i.alternateText,v=null!=l&&l.title?"h3":"h2";return n.createElement(v,{"aria-label":p,className:xc,"data-testid":"genre-card"},n.createElement("a",{"data-card-position":t,href:null==e||null===(r=e.link)||void 0===r?void 0:r.url,"aria-label":p},n.createElement(Je,{imageWrapperClassName:wc,imageClassName:Pc,imageUrl:m,alternateText:g,refMarker:e.refMarker,titleID:e.titleID,shouldLazyLoadImage:d}),p&&n.createElement(He,{displayTitle:p,overlayTextPosition:e.overlayTextPosition||"Center_Center",elementTiming:or({consumingWidgetType:o,containerType:l.containerType,containerIndex:c,itemIndex:t})})))},Dc="OKS56b",Nc="K0Kf63",Mc="_9kJogN",Rc="AcFiK7",Ac="_0B0vPr",Oc="NwPFrz";function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bc.apply(this,arguments)}const Gc=({children:e})=>{const[t,a]=n.useReducer(pr,null),{isSsmOpen:i}=n.useContext(Aa.mY),r=n.useRef(!1),l=gr({closeAnyActiveMiniDetail:()=>a({event:"FORCE_CLOSE"}),updateHaveUsedTouchInLast500ms:e=>r.current=e}),s=n.useCallback((e=>{i||"ACTIVE"===e.event&&!0===r.current||a(e)}),[i]);n.useEffect((()=>{i||a({event:"FORCE_CLOSE"})}),[i]);const o=n.useMemo((()=>({_connected:!0,cardIndexWithMiniDetails:t,actions:{reportHoverOrFocusEvent:s}})),[t,s]);return n.createElement("div",Bc({"data-testid":"grid-mini-details-controller"},l),n.createElement(ea.Provider,{value:o},e))};var Vc=a("./src/util/utils/math.ts");const Wc={init:!1,actualRowHeights:new Map,compoundedHeight:[]};function Fc(e,t){const{entitiesLength:a,commonRowHeight:n,cardsPerRow:i,logger:r}=t.context,l=Math.ceil(a/i);if("INIT"===t.action){const e=[];for(let t=0;t<l;t++){var s;const a=null!==(s=e[t-1])&&void 0!==s?s:0;e[t]=n+a}return{...Wc,init:!0,compoundedHeight:e}}if(!e.init)return r.error(`[Grid container] heightsReducer(): Should not call ${t.action} before INIT`),e;const o=[...e.compoundedHeight];if(l>o.length)for(let e=o.length;e<l;e++){var c;const t=null!==(c=o[e-1])&&void 0!==c?c:0;o[e]=n+t}if("SET"==t.action){const{rowIndex:a,height:i}=t.data;if(e.actualRowHeights=new Map(e.actualRowHeights.set(a,i)),i!==n)for(let t=a;t<l;t++){var d,u;const a=null!==(d=o[t-1])&&void 0!==d?d:0,i=null!==(u=e.actualRowHeights.get(t))&&void 0!==u?u:n;o[t]=a+i}}return e.compoundedHeight=o,e}function Hc(e,t){const a=null==e?void 0:e.children[t];return a instanceof HTMLElement?a:null}function zc(){return window.scrollY}function jc(e){window.addEventListener("scroll",e)}function Uc(e){window.removeEventListener("scroll",e)}const $c=40,qc=20;var Zc=a("./node_modules/react-intersection-observer/lib/index.js"),Jc=a("./src/shared/Explore/containers/PageContainer/VerticalPaginationController.tsx");const Kc="_8SdHse",Xc="_5aEY3d";var Yc=function(e){return e.CannotPaginate="CannotPaginate",e.CanPaginate="CanPaginate",e.CanRequestLock="CanRequestLock",e.HasLock="HasLock",e.IsPaginating="IsPaginating",e}(Yc||{});const Qc=[Yc.HasLock,Yc.IsPaginating],ed=[Yc.CanPaginate,Yc.CanRequestLock,Yc.HasLock],td=({onPaginateContainer:e})=>{const{index:t,hasMoreItems:a,isPaginatingContainer:i,container:r,consumingWidgetType:l}=(0,s.Jy)(),{entityWithLock:o,actions:c}=n.useContext(Jc.U),d=(0,Xt.CU)(),[u,m]=n.useState(!1),[p,g]=n.useState(Yc.CannotPaginate),v=n.useMemo((()=>(e=>"MyStuff"===e?"50%":"150%")(l)),[l]);return n.useEffect((()=>{"EpgGroup"===r.containerType&&c.hideBelow(t)}),[]),n.useEffect((()=>{a||c.unhideBelow(t)}),[a]),n.useEffect((()=>{let e=Yc.CannotPaginate;const n="CONTAINER"===o.type&&o.containerIndex===t;null!=d&&d.isRestoringPaginatedScrollPosition()||(i?e=Yc.IsPaginating:a&&(e=Yc.CanPaginate,u&&(e=Yc.CanRequestLock,n&&(e=Yc.HasLock)))),g(e)}),[t,o,a,u,i,d,p]),n.useEffect((()=>{p===Yc.CanRequestLock?c.lock(t):Qc.includes(p)||c.unlock(t),p===Yc.HasLock&&e(),ed.includes(p)||m(!1)}),[p]),n.createElement(n.Fragment,null,i&&n.createElement("div",{className:Xc},n.createElement(Sl.Spinner,null)),ed.includes(p)&&n.createElement(Zc.Z,{rootMargin:`${v} 0px`,onChange:e=>m(!!e)},n.createElement("div",{className:Kc})))},ad=()=>{var e,t,a;const{actions:i,container:r,consumingWidgetType:o,enrichments:c}=(0,s.Jy)(),{entities:d}=r,{isDesktopDeviceVariant:u}=(0,Ee.lO)(),m=n.useRef(new Set),p=n.useRef(null),g=n.useRef(null),v=n.useRef(null);let h;h="Categories"===o?"GenreCard":u?"Card":"RanOverCard";const y=n.useCallback((()=>{switch(h){case"RanOverCard":return"undefined"==typeof window||Si.A.isAtleast(Si.b.TABLET_SMALL)?2:1;case"Card":return Si.A.is(Si.b.DESKTOP)?5:Si.A.is(Si.b.LAPTOP)?4:Si.A.is(Si.b.TABLET)?3:Si.A.is(Si.b.PHONE_PORTRAIT)?1:Si.A.is(Si.b.PHONE)?2:6;case"GenreCard":return Si.A.is(Si.b.DESKTOP)?5:Si.A.is(Si.b.LAPTOP)?4:Si.A.is(Si.b.TABLET)?3:Si.A.is(Si.b.PHONE)?2:6}}),[h]);let f;switch(h){case"Card":f=Mc;break;case"RanOverCard":f=Rc;break;case"GenreCard":f=Ac}const b="Card"===h?Gc:n.Fragment,{firstCardIndex:E,lastCardIndex:C,topSpacing:T,bottomSpacing:_}=function(e,t,a,i){var r,l,s;const{logger:o}=(0,Ra.L1)(),{isDesktopDeviceVariant:c,pageWidth:d}=(0,Ee.lO)(),u=c?$c:qc,[m,p]=n.useState(a>u),[g,v]=n.useReducer(Fc,Wc),[h,y]=n.useState(0),[f,b]=n.useState(u),E=n.useRef(0),C=n.useCallback((e=>{e=Math.max(0,e);const t=a-f;e>t&&(e=Math.ceil(t/i)*i),e!==h&&y(e)}),[i,f,a,h]),T=n.useRef(0),_=n.useCallback((()=>{if(!m)return;if("undefined"==typeof window)return;if(T.current===d&&g.init)return;T.current=d;const t=(0,ir.My)("--dv-carousel-column-gap"),n=window.innerHeight,r=[],l=Math.ceil(f/i);for(let a=0;a<l;a++){const n=Hc(e,a*i);if(n){const e=parseFloat(getComputedStyle(n).height);r.push(e+t)}}const s=Vc.m.mostRepeated(r);if(null===s)return;const c=Math.ceil(n/s)*i;E.current=s,b(2*c),v({action:"INIT",context:{entitiesLength:a,commonRowHeight:s,cardsPerRow:i,logger:o}})}),[e,f,i,m,a,g.init,o,d]),k=n.useCallback((()=>{if(!m)return;if(!g.init)return;if(!t)return;if("undefined"==typeof window)return;const e=zc(),n=e-(0,Jn.q7)(t,e)-.5*window.innerHeight,r=Object.entries(g.compoundedHeight).find((([e,t])=>t>n));if(r){const[e,t]=r;C(parseInt(e)*i)}else C(a-1)}),[i,m,a,g.compoundedHeight,g.init,C,t]),I=n.useCallback((()=>{if(!m)return;const t=Math.floor(h/i),n=Math.min(h+f-1,a-1),r=Math.floor(n/i);for(let n=t;n<=r;n++){const t=n*i;if(g.actualRowHeights.has(n))continue;const r=(s=t,null==(l=e)?void 0:l.querySelector(`[data-card-position="${s}"]`)),c=(0,ir.My)("--dv-carousel-column-gap");if(r){const e=parseFloat(getComputedStyle(r).height);v({action:"SET",data:{rowIndex:n,height:e+c},context:{entitiesLength:a,commonRowHeight:E.current,cardsPerRow:i,logger:o}})}}var l,s}),[e,f,i,m,a,g.actualRowHeights,o,h]);if(n.useEffect((()=>{_()}),[]),n.useEffect((()=>{_()}),[d]),n.useEffect((()=>{const e=(0,Zn.D)(k,10);return m&&(_(),jc(e)),()=>Uc(e)}),[m,k]),n.useEffect((()=>{I()}),[h,f]),n.useEffect((()=>{if(!m){if(!(a>u))return;p(!0)}g.init&&(v({action:"NEW_ENTITIES",context:{entitiesLength:a,commonRowHeight:E.current,cardsPerRow:i,logger:o}}),k())}),[a]),!m)return{firstCardIndex:0,lastCardIndex:a-1,topSpacing:0,bottomSpacing:0};const L=h,x=Math.floor(L/i)-1,w=null!==(r=g.compoundedHeight[x])&&void 0!==r?r:0,P=Math.min(h+f-1,a-1),S=Math.floor(P/i),D=g.compoundedHeight.length-1;return{firstCardIndex:L,lastCardIndex:P,topSpacing:w,bottomSpacing:(null!==(l=g.compoundedHeight[D])&&void 0!==l?l:0)-(null!==(s=g.compoundedHeight[S])&&void 0!==s?s:0)}}(p.current,g.current,d.length,y());n.useEffect((()=>{if("Onboarding"===r.containerType||"GenreCard"===h)return;const e=new Set;for(let t=E;t<=C;t++)m.current.has(t)||e.add(t);m.current=new Set([...m.current,...e]);const t=d.filter(((t,a)=>e.has(a)));if(t.length>0){const e=t.map((e=>{var t;return null!==(t=e.entityID)&&void 0!==t?t:e.titleID})).filter(wr.A);i.getEnrichments(e)}}),[E,C]);const k=null==r||null===(e=r.entitlementCues)||void 0===e?void 0:e.entitledCarousel,I=null==r||null===(t=r.entitlementCues)||void 0===t?void 0:t.offerType,L=null==r?void 0:r.facetText,x=null!==(a=r.text)&&void 0!==a?a:r.title,w="MyStuff"!==o&&x;return n.createElement("div",{className:Dc,"data-testid":"grid-container","data-card-total-count":d.length},w&&n.createElement(yr.D,{title:x,entitlementType:k,offerType:I,facetText:L}),n.createElement("div",{className:Oc,ref:g,style:{height:T}}),n.createElement(b,null,n.createElement("div",{className:l()(Nc,f),ref:p},d.map(((e,t)=>{var a,i,r;if(t<E||t>C)return;const l=null==c?void 0:c[null!==(a=null!==(i=e.entityID)&&void 0!==i?i:e.titleID)&&void 0!==a?a:""];switch(h){case"Card":return n.createElement(dr,{key:t,index:t,card:e,isVisible:!0,enrichment:l});case"RanOverCard":return n.createElement(Lc,{key:t,index:t,card:e,enrichment:l,modalRootElement:null!==(r=v.current)&&void 0!==r?r:void 0});case"GenreCard":return n.createElement(Sc,{key:t,index:t,card:e})}})))),n.createElement("div",{className:Oc,style:{height:_}}),i.onPaginateContainer&&n.createElement(td,{onPaginateContainer:i.onPaginateContainer}),"MyStuff"===o&&n.createElement("div",{"data-testid":"modal-container",ref:v}))},nd="DOAFpy",id=()=>{var e;const{container:t}=(0,s.Jy)(),a=null!==(e=t.text)&&void 0!==e?e:t.title;var i,r;return a?n.createElement("div",{className:nd},n.createElement(yr.D,{title:a,action:t.action,entitlementType:null==t||null===(i=t.entitlementCues)||void 0===i?void 0:i.entitledCarousel,offerType:null==t||null===(r=t.entitlementCues)||void 0===r?void 0:r.offerType})):null},rd=()=>{var e,t;const{container:{title:a,subtitle:i,delayedPopup:r,onboardingAction:l}}=(0,s.Jy)(),{containerVisibility:o,clickstream:c,clickstreamPageContext:d}=(0,Ee.lO)(),[u,m]=n.useState(!1),g=!u&&void 0!==(null==r?void 0:r.scrollDepth)&&null!==(e=o.visible.get(r.scrollDepth))&&void 0!==e&&e;n.useEffect((()=>{if(g){if(d&&"atv_hm_popup_ocx_close"===(null==r?void 0:r.dismissButton.reftag)&&(0,ce.X)("atv_hm_popup_ocx_show","ATVModal","Onboarding",void 0,[er.W0.ModalRendered],er.qB.PopUp,d.clientVariant,c),!l)return void p.c.warn("OnboardingAction is not defined in the DelayedPopup component");Qi.getState().setOnboardingStatus("IMPRESSED_POPUP",l.csrfToken)}}),[g]);const v=()=>{m(!0),d&&"atv_hm_popup_ocx_close"===(null==r?void 0:r.dismissButton.reftag)&&(0,ce.X)(null==r?void 0:r.dismissButton.reftag,"ATVModal","Onboarding",void 0,[er.W0.Click],er.qB.PageTouch,d.clientVariant,c)};return a&&i&&null!=r&&null!==(t=r.actionButton)&&void 0!==t&&t.label?n.createElement(Ca.u,{isVisible:g,onRequestClose:v,onSecondaryAction:v,titleText:a,bodyText:i,testID:"delayed-popup",primaryActionText:r.actionButton.label,primaryActionHref:r.actionButton.url,secondaryActionText:r.dismissButton.label}):null};rd.displayName="DelayedPopup";const ld=rd,sd="ixM6h0",od="_1Hokx8",cd="_1LtlWp",dd="-M3nlU",ud="J89F1+",md="RTVlok",pd="NtaKT3",gd="Xc8EKK",vd="UJUN21",hd=(e,t,a,i,r)=>{const l=a?n.createElement(Le.w,{src:a,alt:r,wrapperClassName:md,imageClassName:pd,baseValue:240,debugID:r,responsiveScaleDimension:De.rB.HEIGHT,elementTiming:or({consumingWidgetType:e,containerType:"FixedHeaderCarousel",containerIndex:t,itemIndex:0})}):n.createElement("div",{className:dd,"data-testid":"fixed-header-no-image"},n.createElement(Qn.Icon,{use:Qn.IconType.LOGO_PRIMEVIDEO}));return null!=i&&i.url?n.createElement("a",{href:i.url,className:ud,"aria-label":r,"data-testid":"fixed-header-image-link"},l):l},yd=()=>{const{container:e,enrichments:t,actions:a,consumingWidgetType:i,index:r}=(0,s.Jy)(),{entities:o}=e;if(o.length<2)return null;const c=o.some((e=>{var t;return Boolean(null===(t=e.entitlementCues)||void 0===t||null===(t=t.glanceMessage)||void 0===t?void 0:t.message)}));return n.createElement("section",{className:sd},Lr(e),(e=>{const[s,...o]=e;return n.createElement("div",{className:l()(od,{[vd]:c}),"data-testid":"fixed-header-carousel-row"},n.createElement("div",{className:cd,"data-testid":"fixed-header-cell"},((e,t,a)=>{return e&&"Image"==e.itemType?hd(t,a,null===(i=e.image)||void 0===i?void 0:i.url,e.link,null===(r=e.image)||void 0===r?void 0:r.alternateText):n.createElement(n.Fragment,null);var i,r})(s,i,r)),n.createElement("div",{className:gd},n.createElement(Ar,{entities:o,actions:a,enrichments:t})))})(o))};yd.displayName="FixedHeaderCarousel";const fd=yd,bd="tynqjQ",Ed="ZpEvnm",Cd="x0ahFx",Td="KNX38C",_d=()=>{const{container:{title:e,subtitle:t},index:a}=(0,s.Jy)();return e||t?n.createElement("section",{className:l()(bd,{[Td]:0===a}),"data-testid":"text-widget"},e&&n.createElement(Ta.Z.Header,{className:Ed},e),t&&n.createElement(Ta.Z.Body,{className:Cd},t)):null};_d.displayName="TextWidget";const kd=_d,Id="kJ8ONL",Ld="PywLIO",xd="_6RdhBl",wd="OjmhjP",Pd="-MXE7L",Sd="VKHGC9",Dd=()=>{const{container:{buttons:e}}=(0,s.Jy)(),{clickstream:t,clickstreamPageContext:a}=(0,Ee.lO)(),i=(0,Ki.h)()("DV_WEB_FABLE_GRADIENT_MIGRATION_794740").isT1;if(!e||0===e.items.length)return null;const r=e.items[0];if(!r.label)return null;const o=n.createElement(Tn.PrimaryButton,{href:r.url,className:Sd,onClick:()=>{"ATVHome"===(null==a?void 0:a.pageType)&&"Home"===(null==a?void 0:a.subPageType)&&(0,ce.X)("atv_hm_ocx_continue","ATVModal","Onboarding",void 0,[er.W0.Click],er.qB.PageTouch,a.clientVariant,t)}},r.label),c=l()(Id,{[Ld]:!i,[wd]:"Right"===e.horizontalPosition,[Pd]:"Center"===e.horizontalPosition,[xd]:"Left"===e.horizontalPosition});return i?n.createElement(Ti.Gradient,{variant:"standard","data-testid":"fable-action-button-collection",className:c},o):n.createElement("section",{"data-testid":"action-button-collection",className:c},o)};Dd.displayName="ActionButtonCollection";const Nd=Dd,Md={grid:"bv3JXH","grid-container":"dvzqmw",carousel:"ZPsSO2",cards:"bQ4KjJ",card:"NU0PPr",StandardHero:"i2gTNg",Nodes:"vPL+Wp",gradient:"l7aM3w",container:"hLPm0W",indeterminateSize:"eOOXr0",sixteenByNineSize:"xRLHYD",eightByThreeSize:"m5lZDh",backgroundImageWrapper:"C81Ge2",IntermissionHeroBackgroundImageWrapper:"b9HgDO",videoPlaying:"LSqtDy",notVisibleInCarousel:"_3gHUdf",backgroundTrailer:"wrUgu5",backgroundTrailerVignette:"bwragx",backgroundImage:"bNPVex",backgroundImageVignette:"NAHZF5",IntermissionHeroBackgroundImageVignette:"zt0E9q",mobileBackgroundImageVignette:"_0X6bes",detailPageLink:"_2eO272",touchDeviceCard:"zDj22O",nonTouchDeviceCard:"ql6HCx",aspectRatioWrapper:"aoQ9tU",fadeInFrames:"oyHOJX"},Rd="DYBas-",Ad="Zgte-n",Od="+cAQM8",Bd="hj9oUW",Gd="iMQduR",Vd="Dh0fsf",Wd="ICvyLW",Fd="AIBqlu",Hd="buzKCX",zd="Ozxx6Y",jd="_8qiQr1",Ud="YQI101",$d="R1vcpH",qd="xcP7NY",Zd="yCgBRs",Jd="JBK4DO",Kd="K8HVp6",Xd="G3NyeE",Yd="mPCC-I",Qd="zEXseC",eu="pqlwAJ";let tu=function(e){return e[e.SixteenByNine=0]="SixteenByNine",e[e.EightByThree=1]="EightByThree",e[e.Indeterminate=2]="Indeterminate",e}({}),au=function(e){return e[e.DynamicTentpoleHero=0]="DynamicTentpoleHero",e[e.SixteenByNine=1]="SixteenByNine",e[e.EightByThree=2]="EightByThree",e[e.TwoByThree=3]="TwoByThree",e[e.Indeterminate=4]="Indeterminate",e}({});function nu(e){var t,a;const n=e.entities.find((e=>{var t,a;return(null===(t=e.images)||void 0===t||null===(t=t.hero)||void 0===t?void 0:t.width)&&(null===(a=e.images)||void 0===a||null===(a=a.hero)||void 0===a?void 0:a.height)})),{width:i,height:r}=null!==(t=null==n||null===(a=n.images)||void 0===a?void 0:a.hero)&&void 0!==t?t:{};return{width:i,height:r}}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},iu.apply(this,arguments)}const ru=({displayTitle:e,playbackAction:t,playbackGroup:a,promotedAcquisitionGroup:i,link:r,highValueMessage:o,focusMessage:d,contentMaturityRating:u,maturityRatingBadge:m,titleID:p,isCardActive:g,images:v,liveEventMetadata:h,enrichmentAttempted:y,carouselRefTag:f,shouldLazyLoadImage:b,parentElement:E,headerText:C,controlsEvents:T,primaryButtonLabel:_,heroImageVariant:k,isMiniDetailsModalVisible:I})=>{var L;const{providerLogo:x,titleLogo:w}=v||{},{isInResiliencyMode:P,isDesktopDeviceVariant:S,shouldAlwaysShowMaturityRating:D}=(0,Ee.lO)(),{container:{entities:N,containerType:M},resiliencyCxMode:R}=(0,s.Jy)(),A=!N.some((e=>e.titleID))||P||"TENTPOLE"===R,O=y||A,B="IntermissionHero"===M,G={eventTitle:e,triggerLocation:"StandardHero",liveInfo:h},V=D||"StandardMobileHero"!==M||I?m?n.createElement(un.MaturityRating,{rating:m.displayText,locale:null===(L=m.countryCode)||void 0===L?void 0:L.toLowerCase(),logoUrl:m.logoUrl,title:m.description,ariaLabel:m.description,className:$d}):u&&n.createElement(ln,iu({},u,{className:$d})):n.createElement(n.Fragment,null),W=n.createElement("div",iu({className:l()(qd)},T),(d||m||u)&&n.createElement("div",{className:Ud},d&&n.createElement(c.n,{icon:d.icon,message:d.message,className:Yd,labelClassName:l()(Yd,Qd)}),V),n.createElement(Ml,{className:l()(Zd,{[Xd]:O}),playbackAction:t,playbackGroup:a,streamSelectorProps:G,link:r,titleId:p,promotedAcquisitionGroup:i,useCircularPlayButton:!B,carouselRefTag:f,parentElement:E,primaryButtonLabel:_})),F=void 0!==(null==w?void 0:w.url);return n.createElement("section",{className:l()(Rd,{[Kd]:g,[Wd]:k!==tu.EightByThree}),"data-testid":"title-details"},(null==o?void 0:o.message)&&S&&n.createElement(pn.HighValueMessage,{message:o.message,className:l()(Hd)}),h&&S&&("UPCOMING"===h.status?n.createElement(Ta.Z.Marker,{className:l()(zd)},h.timeBadge):n.createElement(Ii,{liveInfo:h,className:l()(jd)})),e&&n.createElement(En,{title:e,headingLevel:bn.Mega,headingClassName:l()(Jd,{[Vd]:F,[Ad]:!F,[Od]:!F&&!S,[Bd]:!F&&h}),titleLogoOptions:w?{url:w.url,shouldLazyLoadImage:b,imageClassName:Gd}:void 0,providerLogoOptions:x&&S?{url:x.url,alt:x.alternateText,wrapperClassName:l()(Jd,Fd),shouldLazyLoadImage:b}:void 0,url:null==r?void 0:r.url,titleID:p,baseValue:1e3,parentElement:E}),C&&n.createElement("h3",{className:eu},C),W)},lu=({ref:e,imageURL:t,widgetType:a,refMarker:i,titleID:r,itemPosition:l,itemAnalytics:o,isMiniDetailsModalVisible:c})=>{const{container:{impressionData:d},index:u}=(0,s.Jy)(),m=n.useCallback((n=>{const s=null==e?void 0:e.current;s||n===s?s&&!n&&Ne.F.unobserve(s):d&&t&&a&&i&&n&&Ne.F.observe(n,{collectionImpressionData:d,titleID:r,imageURL:t,refMarker:i,widgetType:a,carouselPosition:u,itemPosition:l,itemAnalytics:o}),e.current=n}),[]);n.useEffect((()=>{c&&null!=e&&e.current&&Ne.F.logManualImpression(null==e?void 0:e.current,"Highlight")}),[c]);return{setElementRef:m,onLinkClick:()=>{null!=e&&e.current&&Ne.F.logManualImpression(null==e?void 0:e.current,"Select")}}},su=({imageClassName:e,wrapperClassName:t,aspectRatio:a,srcSetWidths:i,shouldLazyLoadImage:r,titleID:s,elementTimingProps:o})=>{const{isDesktopDeviceVariant:c}=(0,Ee.lO)();return(d,u,m,p)=>n.createElement(Le.w,{alt:m,src:d,imageClassName:l()(e,p),wrapperClassName:t,aspectRatio:a,sizesOptions:{defaultSrcSize:c?2260:815,srcSizes:[{"max-tablet-lowest":400},{"max-laptop-lowest":815},{"max-desktop-lowest":1300},{"max-desktop-hd-lowest":1650},{"max-desktop-uhd-lowest":2260}]},srcSetWidths:i,baseValue:c?2880:1440,shouldLazyLoad:r,debugID:s,elementTiming:or(o),parentListeners:{onError:u}})};function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ou.apply(this,arguments)}const cu=[1440,2160,2880,3840],du=[720,1080,1440,1920],uu={[tu.Indeterminate]:Md.indeterminateSize,[tu.SixteenByNine]:Md.sixteenByNineSize,[tu.EightByThree]:Md.eightByThreeSize},mu=({images:e,displayTitle:t,isVisibleInCarousel:a,size:i,link:r,titleID:o,entitlementCues:c,index:u,refMarker:m,widgetType:g,liveInfo:v,contentMaturityRating:h,maturityRatingBadge:y,playbackActions:f,itemAnalytics:b,shouldAutoRotate:E,prerolls:C,setAutoRotateActive:T,isDynamicMobileCard:_,headerText:k,heroImageVariant:I,signInTrailerURL:L})=>{var x,w,P;const S=n.useRef(null),D=n.useRef(),[N,M]=n.useState(!1),[R,O]=n.useState(void 0),[B,G]=n.useState(!1),[V,W]=n.useReducer((()=>!0),!1),[F,H]=n.useReducer((()=>!0),!1),{container:{containerType:z},enrichments:j,enrichmentAttempted:U,isTrailerAutoplayEnabled:$,index:q,consumingWidgetType:Z}=(0,s.Jy)(),{logger:J}=(0,Ra.L1)(),K=(0,Ir.G4)(),{isPageVisible:X,pageWidth:Y,isDesktopDeviceVariant:Q,isTouchDevice:ee,testDebugFlags:te,isPlayerVisible:ae}=(0,Ee.lO)(),ne=Gi(Z,z,q,u),ie=j[null!=o?o:""],{promotedAcquisitionGroup:re}=null!=ie?ie:{},le="IntermissionHero"===z,se=(le||"StandardHero"===z)&&C?C:null==ie?void 0:ie.prerolls,oe=wi(f,ie,null==te?void 0:te.disableFallbackPlaybackActions),ce=Pi(ie,null==te?void 0:te.disableFallbackPlaybackActions),de=void 0===ie||_?c:ie.entitlementCues,ue=_?null==de?void 0:de.compactFocusMessage:null==de?void 0:de.focusMessage,{isCarouselVisible:me}=n.useContext(mr._y),[pe,ge]=n.useState(!1),[ve,ye]=n.useState(!0),{isSsmOpen:fe}=n.useContext(Aa.mY),be=!Q||le?d.o.SixteenByNine:d.o.ThreeByOne,{touchMiniDetailsModalListeners:Ce,isMiniDetailsModalVisible:Te,dismissMiniDetailsModal:_e,removeContextMenuClass:Le,removeDragAnimationClass:xe,link:we}=Hi(z,void 0!==o,r);n.useEffect((()=>{ge(a&&me&&X)}),[a,me,X]);const Pe=null==e||null===(x=e.hero)||void 0===x?void 0:x.url,{setElementRef:Se,onLinkClick:Ne}=lu({ref:S,imageURL:Pe,widgetType:g,refMarker:m,titleID:o,itemPosition:u,itemAnalytics:b,isMiniDetailsModalVisible:Te}),{state:Me,scrollToCard:Re}=n.useContext(mr._y),Ae=()=>{const e=u+1+1;e>i?(T(!1),Re(1)):Re(e)};n.useEffect((()=>{0}),[Y]),n.useEffect((()=>{ye(Si.A.isAtleast(ee?Si.b.DESKTOP:Si.b.LAPTOP))}),[Y,ee]);const Oe=(null==se?void 0:se.mediaFile)&&ve&&$;n.useEffect((()=>{if(!(null!=te&&te.useReducedMotion||ae||fe||!E||Te||B)){if(pe){var e,t;const a=null!==(e=null===(t=S.current)||void 0===t?void 0:t.matches(":hover"))&&void 0!==e&&e;if(Oe){if(!N)if(!R||[he.Stop,he.Error].includes(R)){const e=R===he.Error?3e3:a?5e3:1e3;D.current=window.setTimeout((()=>{Ae()}),e)}else R===he.Init&&clearTimeout(D.current)}else D.current=window.setTimeout((()=>Ae()),5e3)}else clearTimeout(D.current);return()=>clearTimeout(D.current)}}),[pe,N,null==te?void 0:te.useReducedMotion,R,fe,E,Te,B]),n.useEffect((()=>{(null!=te&&te.useReducedMotion||ae)&&clearTimeout(D.current),T(!(null!=te&&te.useReducedMotion||ae))}),[null==te?void 0:te.useReducedMotion,ae]),n.useEffect((()=>{Pe||(J.count("MissingImageStandardHeroCard",1,!1),p.c.count("MissingImageStandardHeroCard"),J.warn(`Missing hero image in StandardHeroCard for title ${o}`))}),[]);const Be=n.useMemo((()=>n.createElement("a",{href:null==r?void 0:r.url,className:Md.detailPageLink,"data-testid":"image-link",onClick:Ne,"aria-label":t},t)),[r,Md,Ne,t]),Ge=su({alternateText:null==e||null===(w=e.hero)||void 0===w?void 0:w.alternateText,imageClassName:l()({[Md.backgroundImage]:!le},xe),wrapperClassName:le?Md.IntermissionHeroBackgroundImageWrapper:Md.backgroundImageWrapper,aspectRatio:be,srcSetWidths:Q?cu:du,shouldLazyLoadImage:ne,titleID:o,elementTimingProps:{consumingWidgetType:Z,containerType:z,containerIndex:q,itemIndex:u}}),Ve=Pe?Ge(Pe,W):n.createElement(n.Fragment,null),We=(0,Ki.h)()("DV_WEB_FABLE_GRADIENT_MIGRATION_794740").isT1;return n.createElement("article",ou({ref:Se,className:l()(Md.container,Le,uu[I],{[Md.notVisibleInCarousel]:!a,[Md.videoPlaying]:Oe&&N,[Md.touchDeviceCard]:ee,[Md.nonTouchDeviceCard]:!ee})},Ce,{"data-testid":le?"intermission-hero-card":"standard-hero-card"}),n.createElement("div",{className:l()(Md.aspectRatioWrapper,Md.grid)},n.createElement(n.Fragment,null,Pe&&!V?Ve:n.createElement(ze,{fallbackImage:Ge(null!==(Fe=K.render)&&void 0!==Fe&&Fe.isRTL?be===d.o.SixteenByNine?De.kM:De.pz:be===d.o.SixteenByNine?De.lN:De.fn,H),hasFallbackImageErrored:F,fallbackTitleText:t,textWrapperClassname:l()(Md.backgroundImageWrapper,{[Md.IntermissionHeroBackgroundImageWrapper]:le}),aspectRatio:be}),(Q||_||le)&&(We&&!le&&Q?n.createElement(Ti.Gradient,{variant:"cover",className:Md.gradient,"data-testid":"fable-gradient"}):n.createElement("div",{className:l()({[Md.IntermissionHeroBackgroundImageVignette]:le,[Md.backgroundImageVignette]:!le&&Q,[Md.mobileBackgroundImageVignette]:!le&&!Q}),"data-testid":"background-image-vignette"}))),(null==r?void 0:r.url)&&Be,(Q||_||le)&&n.createElement(ru,{displayTitle:t,link:r,titleID:o,playbackAction:oe,playbackGroup:ce,highValueMessage:null==de?void 0:de.highValueMessage,focusMessage:ue,contentMaturityRating:h,maturityRatingBadge:y,images:e,isCardActive:pe,promotedAcquisitionGroup:re,liveEventMetadata:v,enrichmentAttempted:U,carouselRefTag:m,shouldLazyLoadImage:ne,parentElement:S.current,headerText:k,controlsEvents:{onMouseOver:()=>G(!0),onMouseLeave:()=>G(!1)},primaryButtonLabel:null==r?void 0:r.label,heroImageVariant:I,isMiniDetailsModalVisible:Te}),Te&&n.createElement(wn,{titleID:o,playbackAction:oe,playbackGroup:ce,displayTitle:t,watchlistAction:null==ie?void 0:ie.watchlistAction,trailer:null==ie?void 0:ie.trailer,contentMaturityRating:h,maturityRatingBadge:y,recordSeasonTooltipText:null==ie||null===(P=ie.recordSeason)||void 0===P||null===(P=P.watchlistAddon)||void 0===P?void 0:P.tooltipText,showTouchModal:Te,dismissTouchModal:_e,detailsPageUrl:null==we?void 0:we.url,parentElement:S.current,signInTrailerURL:L}),Oe&&pe&&!ae&&n.createElement(Ie,{key:o,canPlay:!0,delay:2e3,placement:A.StandardHero,playback:ke.Restart,prerolls:se,onStateChange:O,playing:M,className:Md.backgroundTrailer,playerIsActive:!1,link:N?null==we?void 0:we.url:void 0,draperParentListeners:{onClick:Ne},videoFadeOverlayClassname:Md.backgroundTrailerVignette,refMarker:m,titleID:o,containerType:z})));var Fe};mu.displayName="StandardHeroCard";const pu=mu,gu="jVpjZD",vu="cIbiJK",hu="Dz+gPK";function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yu.apply(this,arguments)}const fu=({index:e,isActive:t,handleNavigation:a})=>{const i=n.useCallback((()=>{a(e)}),[e,a]);return n.createElement("li",yu({"aria-hidden":!0,className:l()(vu,{[hu]:t}),onClick:i},t&&{"data-testid":"active-dot"}))},bu=({size:e,handleNavigation:t,activeIndex:a,className:i})=>{const r=[];for(let i=1;i<=e;++i)r.push(n.createElement(fu,{key:i,index:i,isActive:a===i,handleNavigation:t}));return n.createElement("ul",{className:l()(gu,i),"data-testid":"navigation-slider","aria-hidden":!0},r)};var Eu=a("./src/shared/CS/styles/Grid.module.scss");const Cu="_9SL+k6",Tu="PkqXx3";function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_u.apply(this,arguments)}const ku=({size:e})=>{const{state:t,scrollToCard:a}=n.useContext(mr._y);return n.createElement("div",{className:Cu},n.createElement(bu,{size:e,handleNavigation:a,activeIndex:t.min}))},Iu=()=>{const{actions:e,container:t}=(0,s.Jy)(),[a,i]=n.useState(!0),{containerType:r}=t,o="StandardMobileHero"===r,[c]=n.useState(function(e){const{width:t,height:a}=nu(e);let n=tu.Indeterminate;if(t&&a){const e=Vc.m.getAspectRatio(t,a).join(":");"16:9"===e?n=tu.SixteenByNine:"8:3"===e&&(n=tu.EightByThree)}return n}(t)),d=t.entities,u=d.length>0,m="IntermissionHero"===t.containerType,p=m?Lr(t):null;n.useEffect((()=>{const t=d.map((e=>e.titleID)).filter(wr.A);e.getEnrichments(t,void 0,!m,!m)}),[u]);const g=n.useCallback(((e,t,r)=>n.createElement(pu,_u({shouldAutoRotate:a,setAutoRotateActive:i,isVisibleInCarousel:t,isDynamicMobileCard:o,index:r},e,{size:d.length,heroImageVariant:c}))),[a]);return n.createElement(mr.Dj,{cards:d,navigation:mr.W_.Regular,className:l()(jo.Z.StandardHero,{[Eu.Z.heroSixteenByNineOverride]:c===tu.SixteenByNine}),wrapperClassName:Tu,header:m?p:null,renderCard:g,carouselVisibilityThreshold:.7,footer:d.length>1&&n.createElement(ku,{size:d.length}),testID:m?"intermission-hero":"standard-hero",onNavigate:(e,t)=>e===ds.N.Forward?1:-1})};Iu.displayName="StandardHero";const Lu=Iu,xu=()=>n.createElement(Lu,null);var wu=a("./node_modules/@amzn/dvui/dist/Fable/components/Radio/index.js");const Pu="iZr-9C",Su="xKqJ0S",Du="LWM42a",Nu="POTIgi",Mu=e=>n.createElement("div",{className:Pu},n.createElement(Tn.PrimaryButton,{className:Su,disabled:e.disablePrimaryButton,testID:"survey-primary-button",textAlign:"center",shape:"rectangle",onClick:e.primaryAction},e.primaryButtonText),e.secondaryButtonText&&n.createElement(_n(),{testID:"survey-close-button",textAlign:"center",shape:"rectangle",onClick:e.secondaryAction},e.secondaryButtonText));var Ru=a("./src/shared/deviceProxy/DeviceProxy.ts"),Au=a("./src/shared/deviceProxy/ServiceClientBase.ts");const Ou={maxRetries:1},Bu=()=>Ru.V4.WEB;var Gu=a("./src/util/utils/query.ts"),Vu=a("./src/util/utils/localStorage.ts");const Wu="pvInAppSurvey",Fu=()=>{const{container:{survey:e}}=(0,s.Jy)(),t=(0,Ra.L1)().logger,a=(0,je.getRequestContext)(),{clickstream:i,clickstreamPageContext:r}=(0,Ee.lO)(),[l,o]=n.useState((()=>{const e=Number.parseInt((0,Vu.le)(Wu)||"")||0;return(new Date).getTime()-e>864e5})()),[c,d]=n.useState(1),[u,m]=n.useState(""),g=e=>{e&&(0,ce.X)(e,er.c7.ATVModal,er.wW.IAS,void 0,[er.W0.ModalRendered],er.qB.PopUp,null==r?void 0:r.clientVariant,i)},v=e=>{(0,ce.X)(e,er.c7.ATVModal,er.wW.IAS,void 0,[er.W0.Click],er.qB.PageHit,null==r?void 0:r.clientVariant,i)};if(n.useEffect((()=>{1==c?((0,Vu.D$)(Wu,`${(new Date).getTime()}`),g(null==e?void 0:e.notificationPopup.displayRefMarker),p.c.count("DVWebSurveyModalDisplayed")):c==h&&(g(null==e?void 0:e.thankYouPopup.displayRefMarker),p.c.count("DVWebSurveyEndPageDisplayed"))}),[c]),!e||0===e.questions.length)return null;if(e.questions.length>0)for(const t of e.questions)if(0===t.options.length)return null;const h=e.questions.length+2,y=()=>{if(1==c)v(e.notificationPopup.clickRefMarker);else if(c>1&&c<h){const t=e.questions[c-2].options.filter((e=>e.optionId==u))[0].button.clickRefMarker;v(t),C()}m(""),d((e=>e+1))},f=()=>{m(""),v(T()),d((e=>e+1))},b=()=>{o(!1),v(T())},E=e=>{m(e)},C=()=>{(async(e,t,a)=>{const n=new Au.v({logger:a,retryLogic:Ou,logErrorAsWarning:!0}),i=`${(0,Ru.WA)(t)}/cdp/usage/RecordIASFeedback`,r={operationName:Au.n.RecordIASFeedback,uri:i,query:{...(0,Ru.B$)(t),deviceTypeID:Bu(),firmware:"DVWebNode"},opts:n.constructPostRequest({headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:e})};try{return await n.post(r),!0}catch(e){return p.c.error(`In-App Survey Failed to submit a response: ${e}`),p.c.count("DVWebSurveySubmissionFailed"),!1}})({surveyResponses:[{surveyId:e.surveyId,questionId:e.questions[c-2].questionId,optionId:u,pageType:null==r?void 0:r.subPageType,pageId:void 0,clientTime:Date.now()}],geoToken:a.geoToken,deviceTypeId:Bu(),sessionId:a.sessionID,identityContext:a.identityContext,isTest:String(a.isInternal),testIdentificationKey:(0,Gu.RE)("surveyTest")?"qa-validation-test":void 0,clientVariant:null==r?void 0:r.clientVariant,clientId:a.customerID},a,t)},T=()=>{switch(c){case 1:return e.notificationPopup.closeButton.clickRefMarker;case h:return e.thankYouPopup.closeButton.clickRefMarker;default:return e.questions[c-2].skipButton.clickRefMarker}};return n.createElement(Ca.u,{isVisible:l,className:Du,testID:(()=>{switch(c){case 1:return"survey-notification";case h:return"survey-thankyou";default:return"survey-question"}})(),size:"m",header:n.createElement("span",null,(()=>{switch(c){case 1:return e.notificationPopup.translatedText;case h:return e.thankYouPopup.translatedText;default:return e.questions[c-2].translatedText}})()),body:(()=>{if(1!==c&&c!==h)return n.createElement("div",{className:Nu,"data-testid":"survey-options"},n.createElement(wu.RadioGroup,{name:"survey-option",selected:u,onChange:E},e.questions[c-2].options.map((e=>n.createElement(wu.Radio,{key:e.optionId,value:e.optionId,label:e.button.translatedText})))))})(),footer:(()=>{switch(c){case 1:return n.createElement(Mu,{primaryButtonText:e.notificationPopup.startButton.translatedText,primaryAction:y,disablePrimaryButton:!1,secondaryButtonText:e.notificationPopup.closeButton.translatedText,secondaryAction:b});case h:return n.createElement(Mu,{primaryButtonText:e.thankYouPopup.closeButton.translatedText,primaryAction:b,disablePrimaryButton:!1});default:return n.createElement(Mu,{primaryButtonText:e.questions[c-2].submitButtonTranslatedText,primaryAction:y,disablePrimaryButton:""==u,secondaryButtonText:e.questions[c-2].skipButton.translatedText,secondaryAction:f})}})(),onRequestClose:b})};var Hu=a("./node_modules/@amzn/dvui/dist/Icons/Arrow.js"),zu=a.n(Hu);const ju={stationBlock:"YStocV",showStart:"_8X0hdk",arrowButtonContainer:"j2L7H4",start:"TsUD2x",showEnd:"+9WL-N",end:"s86rXm",windowContainer:"_6HPxhE",scrollButton:"se6bjC",screenReaderLabel:"fiZRM7",blockHeader:"nfgomr",show:"pBXLwh",isRemaster:"y+6rKq",isEntitled:"cM7G5-",isPrime:"VyqPLu",addBackground:"Efr-4Y",rowSpacing:"ehozsS",logos:"_6qm79J",fixedPositionBackground:"zZKgmi",timeBarContainer:"_2fR0wI",timeTipContainer:"mXKaIY",timeTipTrack:"hiq5X4",timetip:"k90wEc",programs:"w9zmyZ",programsWindow:"QRO4j5"};var Uu=a("./src/shared/Explore/containers/Live/StationContext/StationContextProvider.tsx");const $u="urGy6w",qu="INH50t",Zu=Array.from({length:16}),Ju=n.memo((function({previous:e,onNowLabel:t}){const a=(0,Uu.wQ)(),i=30*a.pixelsPerMinute;return n.createElement("div",{className:$u},Zu.map(((r,l)=>{const s=new Date(e);s.setMinutes(s.getMinutes()+30*l);let o={width:`${i}px`};return 0===l&&(o={width:`${i+a.nowPlayingExtraWidth}px`}),n.createElement("div",{key:s.toString(),className:qu,style:o},0===l?null!=t?t:"On now":s.toLocaleTimeString(void 0,{timeStyle:"short"}))})))})),Ku=e=>{const t=new Set(document.querySelectorAll("[data-station-scroll-sync]"));let a=null;for(const s of t){var n,i,r,l;s.removeEventListener("scroll",s.syncOthersOnScroll,!1),null!==(n=a)&&void 0!==n||(a=null!==(i=s.storedScrollOffset)&&void 0!==i?i:0),s.scrollLeft=a,null===(r=s.closest(`.${ju.stationBlock}`))||void 0===r||r.classList.toggle(ju.showStart,Math.abs(s.scrollLeft)>0),null===(l=s.closest(`.${ju.stationBlock}`))||void 0===l||l.classList.toggle(ju.showEnd,s.scrollLeft!==e-s.clientWidth),s.addEventListener("scroll",s.syncOthersOnScroll=function(){const a=s.scrollLeft,n=a!==s.storedScrollOffset;var i,r;if(s.storedScrollOffset=a,s.classList.contains(ju.programs))if(null===(i=s.closest(`.${ju.stationBlock}`))||void 0===i||i.classList.toggle(ju.showStart,Math.abs(a)>0),s.scrollLeft+s.clientWidth+4>=e)s.scrollLeft=Math.max(0,Math.min(s.scrollLeft,e-s.clientWidth)),null===(r=s.closest(`.${ju.stationBlock}`))||void 0===r||r.classList.toggle(ju.showEnd,!1);else if(s.scrollLeft!==e-s.clientWidth){var l;null===(l=s.closest(`.${ju.stationBlock}`))||void 0===l||l.classList.toggle(ju.showEnd,!0)}for(const e of t)e!==s&&(e.storedScrollOffset=a,n&&Math.round(e.scrollLeft-a)&&(e.scrollLeft=a))},{passive:!0})}return t};function Xu(e){const t=new Date(e);t.setSeconds(0),t.setMilliseconds(0);const a=new Date(e);a.setSeconds(0),a.setMilliseconds(0);let n=0,i=0;const r=t.getMinutes();return r<30?(n=r,t.setMinutes(0),i=30-r,a.setMinutes(30)):(n=r-30,t.setMinutes(30),i=60-r,a.setHours(a.getHours()+1),a.setMinutes(0)),{next:a.getTime(),minutesToNext:i,previous:t.getTime(),minutesFromPrevious:n}}var Yu=a("./src/shared/Explore/containers/Live/NowPlayingStationCard/NowPlayingStationCard.module.scss");const Qu=new Map,em=(e,t,a,n)=>{const i=JSON.stringify({start:e,end:t,pixelsPerMinute:a,epgGapWidth:n}),r=Qu.get(i);if(r)return r;let l=0;l=(t-e)/6e4;const s=l/30;let o=0;s>1&&(o=(s-1)*n);const c=l*a+o;return Qu.set(i,c),c};var tm=a("./src/shared/Explore/containers/Live/StationAiringImage/StationAiringImage.tsx"),am=a("./src/shared/Explore/containers/Live/StationProgressBar/StationProgressBar.tsx"),nm=a("./src/shared/Explore/containers/Live/StationPlayTrigger/StationPlayTrigger.tsx");const im="rodmVA",rm="xrPv4l",lm="DSwTwf",sm="YaVq+T",om="s6aP86",cm="_8hrQue",dm=e=>{var t,a;const i=(0,Uu.FG)(),r=null!==(t=(0,je.getRequestContext)().isLocaleRTL)&&void 0!==t&&t,s=(0,Uu.MP)(),o=(0,Uu.wQ)(),c=n.useRef(null),d=n.useRef(null),u=n.useRef({collapsedDetailsWidth:0,hoveredDetailsWidth:0,hoveredDetailsOffset:0,initialImageWidth:0,initialDetailsWidth:0}),{minutesFromPrevious:m,previous:p}=Xu(i),g=em(p,e.endTime,o.pixelsPerMinute,o.epgGapWidth)+o.nowPlayingExtraWidth;n.useEffect((()=>{if(c.current&&d.current){var t;u.current.initialImageWidth=c.current.clientWidth;const a=document.createElement("div");a.style.width="auto",a.style.position="absolute",a.style.whiteSpace="nowrap",a.style.top="0px",a.style.padding="var(--dvui-spacing-400)";const n=document.createElement("span");n.style.fontSize="var(--font-size-body)",n.textContent=null!==(t=e.seriesTitle)&&void 0!==t?t:e.title;const i=document.createElement("span");i.style.fontSize="var(--font-size-metadata)",i.style.fontWeight="700",i.textContent=e.seriesTitle?e.title:"",a.appendChild(n),a.appendChild(document.createElement("br")),a.appendChild(i),d.current.appendChild(a),u.current.initialDetailsWidth=a.clientWidth,d.current.removeChild(a)}}),[e.title,e.seriesTitle]),n.useEffect((()=>{if(d.current){const e=1.25*u.current.initialImageWidth-u.current.initialImageWidth,t=-1*e;u.current={...u.current,collapsedDetailsWidth:g,hoveredDetailsWidth:Math.max(u.current.initialDetailsWidth,g),hoveredDetailsOffset:r?t:e},d.current.style.setProperty("--width-collapsed",`${u.current.collapsedDetailsWidth}px`),d.current.style.setProperty("--width-hovered",`${u.current.hoveredDetailsWidth}px`),d.current.style.setProperty("--offset-hovered",`${u.current.hoveredDetailsOffset}px`)}}),[g,r]),n.useEffect((()=>{if(d.current){const e=(30-m)/30*100,t=`calc(${m/30*100}% + ${o.nowPlayingExtraWidth/100*e}px)`;d.current.style.setProperty("--gradient-progress",t),d.current.style.setProperty("--background-size",`${30*o.pixelsPerMinute+o.epgGapWidth+o.nowPlayingExtraWidth}px`)}}),[o.epgGapWidth,o.pixelsPerMinute,o.nowPlayingExtraWidth,m]);const v=()=>{s(e),e.logModalOpen()},h=g+o.nowPlayingThumbnailWidth,y={width:0!==u.current.collapsedDetailsWidth?`${h}px`:"auto"},f=l()(Yu.Z.card,im,{[Yu.Z.isEntitled]:e.isEntitled}),b=l()(Yu.Z.details,lm);return n.createElement("div",{className:f,style:y},n.createElement("div",{className:Yu.Z.nowPlayingImage,ref:c},n.createElement(nm.T,{appFallbackUrl:e.appFallbackUrl,signInUrl:e.signInUrl,channelId:e.channelId,disableJs:e.disableJs,fallbackUrl:e.fallbackUrl,playbackStatus:e.playbackStatus,refMarker:e.refMarker,resumeTime:e.resumeTime,sessionID:e.sessionID,videoMaterialType:e.videoMaterialType,playbackEnvelope:e.playbackEnvelope,correlationId:e.correlationId,expiryTime:e.expiryTime,renderButton:t=>{var a;const i=n.createElement(tm.H,{title:null!==(a=e.seriesTitle)&&void 0!==a?a:e.title,image:e.titleImage,startTime:e.startTime,endTime:e.endTime,showPlayArrow:t});return t?n.createElement(n.Fragment,null,i,n.createElement("span",{className:Yu.Z.screenReaderLabel},e.label)):n.createElement("button",{type:"button",onClick:v,className:Yu.Z.chromelessButton},i)}})),n.createElement("button",{type:"button",className:b,ref:d,onClick:v,"data-testid":"details"},n.createElement("div",{className:rm},n.createElement("div",{className:Yu.Z.fixedScrollContainer},n.createElement("div",{className:Yu.Z.startTime},e.timeRemaining),n.createElement("div",{className:Yu.Z.title},null!==(a=e.seriesTitle)&&void 0!==a?a:e.title),e.seriesTitle&&e.seriesTitle!==e.title&&n.createElement("div",{className:Yu.Z.episodeTitle},e.title),n.createElement("div",{className:Yu.Z.contentMaturityRating},e.contentMaturityRating),n.createElement("div",{className:Yu.Z.progressBarContainer},n.createElement(am.s,{startTime:e.startTime,endTime:e.endTime}))))))},um="pO0coK",mm="wS+H6E",pm="_84xDRG",gm="K7rJNV",vm="Lf47qd",hm="LaEiIu",ym="_70LQ-O",fm="_8Wdb1I",bm=n.memo((function(e){var t;const a=(0,Uu.MP)(),{pixelsPerMinute:i,epgGapWidth:r}=(0,Uu.wQ)(),s=em(e.startTime,e.endTime,i,r),o={width:`${s}px`},c=n.useRef(null);n.useEffect((()=>{if(c.current){var t;const a=document.createElement("div");a.style.width="auto",a.style.position="absolute",a.style.whiteSpace="nowrap",a.style.top="0px",a.style.padding="var(--dvui-spacing-400)";const n=document.createElement("span");n.style.fontSize="var(--font-size-body)",n.textContent=null!==(t=e.seriesTitle)&&void 0!==t?t:e.title;const i=document.createElement("span");i.style.fontSize="var(--font-size-metadata)",i.style.fontWeight="700",i.textContent=e.seriesTitle?e.title:"",a.appendChild(n),a.appendChild(document.createElement("br")),a.appendChild(i),c.current.appendChild(a),c.current.style.setProperty("--width-collapsed",`${s}px`),c.current.style.setProperty("--width-hovered",`${Math.max(a.clientWidth,s)}px`),c.current.removeChild(a)}}),[e.title,e.seriesTitle,s]);const d=l()(um,sm,{[pm]:e.isEntitled}),u=l()(mm,lm),m=new Date(e.startTime).toLocaleTimeString(void 0,{timeStyle:"short"});return n.createElement("button",{type:"button",className:d,style:o,onClick:()=>{a(e),e.logModalOpen()},"data-testid":"details"},n.createElement("span",{className:u,ref:c},n.createElement("div",{className:rm},n.createElement("div",{className:ym},n.createElement("div",{className:gm,suppressHydrationWarning:!0},m),n.createElement("div",{className:fm},null!==(t=e.seriesTitle)&&void 0!==t?t:e.title),e.seriesTitle&&e.seriesTitle!==e.title&&n.createElement("div",{className:vm},e.title),n.createElement("div",{className:hm},e.contentMaturityRating)))))})),Em="UBLm9e",Cm=n.memo((function({startTime:e,endTime:t}){const{pixelsPerMinute:a,epgGapWidth:i}=(0,Uu.wQ)(),r={width:`${em(e,t,a,i)}px`};return n.createElement("div",{className:Em,style:r})}));function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Tm.apply(this,arguments)}const _m=`ElxsoC ${om}`,km=e=>{const t=(0,Uu.ZP)(),{programs:a,refMarker:i,index:r}=e,{clickstream:l,clickstreamPageContext:o}=(0,Ee.lO)(),{container:{containerType:c}}=(0,s.Jy)(),d=n.useCallback((()=>{o&&(0,ce.X)(null!=i?i:"atv_unknown",o.pageType,o.subPageType,void 0,[er.W0.Click],void 0,o.clientVariant,l),(0,_e.h)("StationModal",c)}),[l,o,i]),u=n.useCallback((()=>{if(e.metrics.csm.titleID){const a=t.get(e.metrics.csm.titleID);a&&Ne.F.logManualImpression(a,"Highlight")}}),[e.metrics.csm.titleID,t]),m=n.useCallback((()=>{if(e.metrics.csm.titleID){const a=t.get(e.metrics.csm.titleID);a&&Ne.F.logManualImpression(a,"Select")}}),[e.metrics.csm.titleID,t]);return n.createElement("ol",{className:_m,onMouseEnter:u,onClick:m,role:"presentation","data-index":r,"data-testid":"station-carousel"},a.map(((e,t)=>n.createElement("li",{"data-testid":"card",key:`${e.stationId}_${e.stationTitle}_${e.title}_${e.startTime.toString()}`},function(e,t,a){return 0===t?n.createElement(dm,Tm({},e,{logModalOpen:a})):e.endsAfterScheduledTimeLimit?n.createElement(Cm,{startTime:e.startTime,endTime:e.endTime}):n.createElement(bm,Tm({},e,{logModalOpen:a}))}(e,t,d)))))};var Im=a("./src/shared/Explore/containers/Live/StationLogo/StationLogo.module.scss");const Lm=n.memo((function(e){const{enabled:t}=(0,Ht.F)(),a=(0,Uu.ZP)(),i=n.useCallback((t=>{e.metrics.csm.titleID&&(t&&!a.has(e.metrics.csm.titleID)?(Ne.F.observe(t,e.metrics.csm),a.set(e.metrics.csm.titleID,t)):null===t&&a.has(e.metrics.csm.titleID)&&(Ne.F.unobserve(a.get(e.metrics.csm.titleID)),a.delete(e.metrics.csm.titleID)))}),[]),r=l()(Im.Z.frame,{[Im.Z.isEntitled]:t||e.isEntitled}),s=!e.isEntitled&&t,o=n.createElement(ti(),{size:"size-088",color:"color-store",className:l()(Im.Z.eocIcon)});return n.createElement("div",{className:r,ref:i},n.createElement("div",{className:l()(Im.Z.aspect,{[Im.Z.aspectRemastered]:t})},n.createElement("img",{src:e.url,alt:e.title}),s&&o),s&&n.createElement("div",{className:Im.Z.unentitledIconGradient}))})),xm="efCJqo",wm=n.forwardRef((function(e,t){const{pixelsPerMinute:a,epgGapWidth:i,nowPlayingThumbnailWidth:r,nowPlayingExtraWidth:l}=(0,Uu.wQ)(),o=r+l+30*a*16+15*i,{data:c,itemHeight:d,offScreenCount:u,onScroll:m}=e,[{isScrolling:p,scrollOffset:g,numberOfVisibleItems:v},h]=n.useState({isScrolling:!1,scrollOffset:0,numberOfVisibleItems:10}),{actions:y}=(0,s.Jy)(),f=n.useRef(null);n.useEffect((()=>{const e=(0,Zn.D)((()=>{h((e=>({...e,isScrolling:!1})))}),150);function t(){h((e=>{if(f.current){const t=zc(),a=f.current.getBoundingClientRect(),n=a.top+t;if(n>t+document.documentElement.clientHeight||a.bottom<0)return{...e,numberOfVisibleItems:0};const i=Math.max(0,Math.min(t,document.documentElement.scrollHeight-document.documentElement.clientHeight)),r=Math.max(0,i-n);return{numberOfVisibleItems:Math.min(Math.ceil(document.documentElement.clientHeight/d),Math.ceil((document.documentElement.clientHeight-Math.max(0,a.top))/d),Math.ceil(Math.min(document.documentElement.clientHeight,a.bottom)/d)),isScrolling:!0,scrollOffset:r}}return e})),e()}return jc(t),()=>{Uc(t)}}),[d]),n.useEffect((()=>{m&&m({isScrolling:p,scrollOffset:g,numberOfVisibleItems:v})}),[p,g,v,m]);const[b,E]=function(e,t,a,n,i){const r=function(e,t,a){return Math.max(0,Math.min(e-1,Math.floor(a/t)))}(e,t,n),l=function(e,t,a){return Math.max(0,Math.min(e-1,t+a-1))}(e,r,a),s=Math.max(0,r-i),o=Math.min(e-1,l+i);return[s,o]}(c.length,d,v,g,u),C=[],T=[];for(let e=b;e<=E;e++)C.push(n.createElement(Lm,{key:`${c[e].programs[0].stationId}_${c[e].title}_${e}`,title:c[e].title,url:c[e].url,isEntitled:c[e].isEntitled,metrics:c[e].metrics})),T.push(n.createElement(km,{key:`${c[e].programs[0].stationId}_${c[e].programs[0].title}_${c[e].programs[0].startTime}_${e}`,index:e,programs:c[e].programs,metrics:c[e].metrics,refMarker:c[e].refMarker}));const _=b*d,k=(c.length-1-E)*d;return n.createElement("div",{className:"pv-station-window","data-testid":"station-window",ref:f},n.createElement("div",{style:{height:`${_}px`}}),n.createElement("div",{className:xm},n.createElement("div",{className:`${ju.logos} ${ju.rowSpacing}`,style:{pointerEvents:p?"none":"auto"}},C),n.createElement("div",{className:`${ju.programs} ${ju.rowSpacing}`,ref:t,"data-station-scroll-sync":"true","data-testid":"station-carousels-list"},n.createElement("div",{className:ju.programsWindow,style:{width:`${o}px`,pointerEvents:p?"none":"auto"}},T))),n.createElement("div",{style:{height:`${k}px`}}),y.onPaginateContainer&&n.createElement(td,{onPaginateContainer:y.onPaginateContainer}))}));var Pm=a("./src/shared/Explore/shared/navigation.ts");function Sm(e){var t;const{enabled:a}=(0,Ht.F)(),{prevContainerType:i}=(0,s.Jy)(),{pixelsPerMinute:r,epgGapWidth:o,nowPlayingThumbnailWidth:c,mobile:d,nowPlayingExtraWidth:u,stationRowHeight:m}=(0,Uu.wQ)(),p=n.useRef(null),g=n.useRef(null),v=n.useRef(null),[h,y]=n.useState(0),[f,b]=n.useState(0),[E,C]=n.useState(!1);n.useEffect((()=>{const e=document.getElementById(Pm.Au),t=(0,Zn.D)((()=>{var t,a;const n=null!==(t=null==e?void 0:e.getBoundingClientRect())&&void 0!==t?t:{height:0};y(2*n.height);const i=null===(a=g.current)||void 0===a?void 0:a.getBoundingClientRect();i&&b(i.height)}),100),a=(0,Zn.D)((()=>{var e,t;const a=null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect();if(!a)return;const n=null!==(t=a.top)&&void 0!==t?t:a.y,{bottom:i}=a;C(n<=h+f&&i>0)}),10);return window.addEventListener("resize",t),jc(a),t(),a(),()=>{window.removeEventListener("resize",t),Uc(a)}}),[h,f]),n.useEffect((()=>{Ku(c+u+(30*r*16+15*o))}),[r,o,c,u]);const T=n.useCallback((({currentTarget:t})=>{if(p.current){const{direction:a}=t.dataset,n=30*r*3,i=Math.floor(p.current.scrollLeft);let l=e.isRTL?i+n:i-n;"end"===a&&(l=e.isRTL?i-n:i+n),p.current.scrollTo({top:0,left:l,behavior:"auto"})}}),[r,e.isRTL]),{previous:_,minutesFromPrevious:k}=Xu(e.currentTime),I=k/30*100+"%",L=e.isRTL?{right:I}:{left:I},x={width:`${30*r+o}px`},w=e.isRTL?{...x,right:`${u}px`}:{...x,left:`${u}px`},P=e.isEntitled||"Prime"===e.blockTitle,S=l()(ju.stationBlock,{[ju.isEntitled]:P,[ju.isPrime]:"Prime"===e.blockTitle&&!a,[ju.isRemaster]:a}),D={top:h},N="EpgGroup"!==i,M=l()(ju.timeBarContainer,{[ju.addBackground]:E}),R=l()(ju.timeTipContainer,{[ju.show]:N||E}),A=l()(ju.blockHeader,{[ju.addBackground]:E});return n.createElement("section",{className:S,"data-testid":"epg-container"},n.createElement("div",{className:A,"data-entitled":P,"data-testid":"station-heading",style:D},n.createElement("h2",null,e.blockTitle)),n.createElement("div",{className:`${ju.arrowButtonContainer} ${ju.start}`,style:D},n.createElement("button",{type:"button",className:`${ju.scrollButton} ${ju.start}`,"data-direction":"start",onClick:T,"data-testid":"left-arrow"},n.createElement(zu(),null),n.createElement("span",{className:ju.screenReaderLabel},"Scroll toward carousel start"))),n.createElement("div",{className:`${ju.arrowButtonContainer} ${ju.end}`,style:D},n.createElement("button",{type:"button",className:`${ju.scrollButton} ${ju.end}`,"data-direction":"end",onClick:T,"data-testid":"right-arrow"},n.createElement("span",{className:ju.screenReaderLabel},"Scroll toward carousel end"),n.createElement(zu(),null))),n.createElement("div",{className:ju.windowContainer,ref:v},n.createElement(wm,{data:e.stations,itemHeight:m+o,offScreenCount:2,ref:p})),!d&&n.createElement(n.Fragment,null,E&&n.createElement("div",{className:ju.fixedPositionBackground,style:{height:h},"aria-hidden":!0}),n.createElement("div",{className:M,"data-station-scroll-sync":"true","data-testid":"station-time-bar",style:D,ref:g},n.createElement(Ju,{previous:_,onNowLabel:null===(t=e.stations[0])||void 0===t||null===(t=t.programs[0])||void 0===t?void 0:t.onNowLabel})),n.createElement("div",{className:R,"data-station-scroll-sync":"true","data-testid":"station-time-tip",style:D},n.createElement("div",{className:ju.timeTipTrack,style:{width:`${u+30*r*16+15*o}px`}},n.createElement("div",{className:ju.timeTipTrack,style:w},n.createElement("div",{className:ju.timetip,style:L},new Date(e.currentTime).toLocaleTimeString(void 0,{timeStyle:"short"})))))))}const Dm=l()("jEKDaL",cm),Nm=n.memo((function({children:e}){return n.createElement("div",{className:Dm},e)}));var Mm=a("./src/shared/Explore/containers/Live/time-utilities/getMinutesDiff.ts");function Rm(e,t,a,n){const i=(0,Mm.H)(e,t);if(i/60>1){const e=Math.floor(i/60).toString(),t=Math.floor(i%60).toString();return a?a.replace("{h}",e).replace("{m}",t):`${e}hr ${t}min left`}const r=Math.floor(i).toString();return n?null==n?void 0:n.replace("{m}",r):`${r} min left`}const Am=new Map;function Om(e,t,a){const{previous:n}=Xu(t),i=new Date(n);i.setHours(i.getHours()+7),i.setMinutes(i.getMinutes()+55);const r=e.entities.map(((n,r)=>{var l,s,o,c,d,u,m,p,g,v,h,y;if(!n.station)return null;const f=null!==(l=null===(s=n.station)||void 0===s||null===(s=s.strings)||void 0===s?void 0:s.timeLeftHours)&&void 0!==l?l:"{h}hr {m}min left",b=null!==(o=null===(c=n.station)||void 0===c||null===(c=c.strings)||void 0===c?void 0:c.timeLeftMinutes)&&void 0!==o?o:"{m} min left",E=null===(d=n.station)||void 0===d?void 0:d.schedule.map(((a,r,l)=>{var s,o,c,d,u,m,p,g,v,h,y,E,C,T,_,k,I,L,x,w,P,S,D,N,M,R,A,O,B,G,V,W,F,H,z,j,U,$,q;const Z=a.start,J=a.end,K=Z<t;return{startTime:Z,endTime:J,titleImage:null!==(s=null===(o=a.metadata.image)||void 0===o?void 0:o.url)&&void 0!==s?s:"",modalImage:null===(c=a.metadata.modalImage)||void 0===c?void 0:c.url,title:null!==(d=a.metadata.title)&&void 0!==d?d:"",seriesTitle:a.metadata.seriesTitle,synopsis:null!==(u=a.metadata.synopsis)&&void 0!==u?u:"",stationId:null!==(m=null===(p=n.station)||void 0===p?void 0:p.id)&&void 0!==m?m:"",stationTitle:null!==(g=null===(v=n.station)||void 0===v?void 0:v.name)&&void 0!==g?g:"",nextBroadcastTitle:null!==(h=null!==(y=null===(E=l[r+1])||void 0===E?void 0:E.metadata.seriesTitle)&&void 0!==y?y:null===(C=l[r+1])||void 0===C?void 0:C.metadata.title)&&void 0!==h?h:"",nextBroadcastTitleImage:null!==(T=null===(_=l[r+1])||void 0===_||null===(_=_.metadata.image)||void 0===_?void 0:_.url)&&void 0!==T?T:"",nextBroadcastStartTime:null===(k=l[r+1])||void 0===k?void 0:k.start,nextBroadcastEndTime:null===(I=l[r+1])||void 0===I?void 0:I.end,isEntitled:"Entitled"===(null===(L=e.entitlementCues)||void 0===L?void 0:L.entitledCarousel),entitlementMessage:null!==(x=null===(w=n.entitlementCues)||void 0===w||null===(w=w.focusMessage)||void 0===w?void 0:w.message)&&void 0!==x?x:"",entitlementIcon:null!==(P=null===(S=n.entitlementCues)||void 0===S||null===(S=S.focusMessage)||void 0===S?void 0:S.icon)&&void 0!==P?P:"OFFER_ICON",contentMaturityTitle:null!==(D=null===(N=a.metadata.contentMaturityRating)||void 0===N?void 0:N.title)&&void 0!==D?D:"",contentMaturityRating:null!==(M=null===(R=a.metadata.contentMaturityRating)||void 0===R?void 0:R.rating)&&void 0!==M?M:"",contentMaturityLocale:null!==(A=null===(O=a.metadata.contentMaturityRating)||void 0===O?void 0:O.locale)&&void 0!==A?A:"",nextUp:null!==(B=null===(G=n.station)||void 0===G||null===(G=G.strings)||void 0===G?void 0:G.nextUp)&&void 0!==B?B:"",onNowLabel:null!==(V=null===(W=n.station)||void 0===W||null===(W=W.strings)||void 0===W?void 0:W.onNowLabel)&&void 0!==V?V:"",upcomingLabel:null!==(F=null===(H=n.station)||void 0===H||null===(H=H.strings)||void 0===H?void 0:H.upcomingLabel)&&void 0!==F?F:"",timeRemaining:K?Rm(t,J,f,b):"",...n.playbackAction,...null===(z=n.playbackAction)||void 0===z?void 0:z.playbackExperienceMetadata,refMarker:null!==(j=null===(U=n.playbackAction)||void 0===U?void 0:U.refMarker)&&void 0!==j?j:"unknown",subscriptionLabel:null===($=n.promotedAcquisitionGroup)||void 0===$?void 0:$.label,subscriptionURL:null===(q=n.link)||void 0===q?void 0:q.url,nowPlaying:K,endsAfterScheduledTimeLimit:J>i.getTime()}})).filter((e=>e.endTime>t)),C=function(...e){var t,a,n,i;const r=e.join("_");if(Am.has(r))return Am.get(r);const l={csm:{collectionImpressionData:e[0],carouselPosition:e[1],itemPosition:e[2],widgetType:null!==(t=e[3])&&void 0!==t?t:"",refMarker:null!==(a=e[4])&&void 0!==a?a:"unknown",imageURL:null!==(n=e[5])&&void 0!==n?n:"",titleID:null!==(i=e[6])&&void 0!==i?i:"",itemAnalytics:e[7]}};return Am.set(r,l),l}(a.impressionData,a.carouselPosition,r,n.widgetType,n.refMarker,null===(u=n.station)||void 0===u?void 0:u.logo,null===(m=n.station)||void 0===m?void 0:m.id,n.itemAnalytics);return{url:null!==(p=null===(g=n.station)||void 0===g?void 0:g.logo)&&void 0!==p?p:"",title:null===(v=n.station)||void 0===v?void 0:v.name,programs:E,metrics:C,refMarker:null!==(h=n.refMarker)&&void 0!==h?h:"",isEntitled:"Entitled"===(null===(y=e.entitlementCues)||void 0===y?void 0:y.entitledCarousel)}})).filter((e=>!!e&&0!==(null==e?void 0:e.programs.length)));return r}function Bm(){var e,t,a,i;const{container:r,index:l}=(0,s.Jy)(),o=(0,Uu.FG)(),c=Om(r,o,{carouselPosition:l,impressionData:null!==(e=r.impressionData)&&void 0!==e?e:""});if(0===c.length)return n.createElement(n.Fragment,null);const d=null!==(t=(0,je.getRequestContext)().isLocaleRTL)&&void 0!==t&&t,u="Entitled"===(null===(a=r.entitlementCues)||void 0===a?void 0:a.entitledCarousel),m=null!==(i=r.title)&&void 0!==i?i:"";return n.createElement(Nm,null,n.createElement(Sm,{blockTitle:m,stations:c,isEntitled:u,isRTL:d,currentTime:o}))}const Gm="WKVLn6",Vm="w93mn5",Wm="Tspi18",Fm="_76wgdZ",Hm="ZJ+MZQ",zm="LKIkHM",jm="xzH5Px",Um="wcr54O",$m="sIyVVJ",qm="JAd8bO",Zm="t4tVxF",Jm="_0sEABY",Km="anunnx",Xm="CPHis2",Ym="_2CfE4M",Qm="ECbJrQ",ep="Z0msKX",tp="_5Weo1T",ap="hkAVQf",np="+a4baI",ip="VZKXTg",rp="cVuct3",lp=[1080,2160,2880,3840],sp=[1e3,1125,1500,2e3],op=({url:e,ariaLabel:t,shouldBeVisible:a,shouldLazyLoadImage:i,titleID:r})=>{const{isDesktopDeviceVariant:o,isTabletDeviceVariant:c}=(0,Ee.lO)(),{consumingWidgetType:u,index:m}=(0,s.Jy)(),p=!o&&!c,g=(0,Ki.h)()("DV_WEB_FABLE_GRADIENT_MIGRATION_794740").isT1;return n.createElement("div",{className:l()(Xm,a?ap:tp,{[Ym]:c,[Qm]:p}),"data-testid":"tentpole-hero-image"},n.createElement(Le.w,{alt:t,src:e,aspectRatio:o?d.o.SixteenByNine:d.o.TwoByThree,sizesOptions:{defaultSrcSize:o?2400:880,srcSizes:[{"max-tablet-lowest":450},{"max-laptop-lowest":880},{"max-desktop-lowest":1400},{"max-desktop-hd-lowest":1800},{"max-desktop-uhd-lowest":2400}]},srcSetWidths:o?lp:sp,baseValue:o?2880:1500,imageClassName:ep,shouldLazyLoad:i,elementTiming:or({consumingWidgetType:u,containerType:"TentpoleHero",containerIndex:m,itemIndex:0}),debugID:r}),g?n.createElement(Ti.Gradient,{variant:"tentpole","data-testid":"fable-gradient"}):n.createElement("div",{"data-testid":"legacy-gradient",className:o?np:c?rp:ip}))},cp="FmypN+",dp="zLJeeH",up="_4dHokH",mp="vQLwG0",pp="PtNZ1f",gp="INNVnS",vp="LQhFNd",hp="ricmob",yp="zsirBJ",fp="JEptkj",bp="Rld4qj",Ep="hd+LCp",Cp="jrYMAX",Tp="PfW69h",_p="gzWYBG",kp="JWMhG0",Ip="BJGaIn",Lp="fDle0A",xp="_5GvTVc",wp="-a84F4",Pp="N+2-zX",Sp="obgSGX",Dp="Z01qGr",Np="pXqVOQ",Mp=e=>{var t,a,i;const{isDesktopDeviceVariant:r,isTabletDeviceVariant:s}=(0,Ee.lO)(),{containerItem:o,highValueMessage:c,trailerState:d,detailPageLink:u}=e,m=null===(t=o.images)||void 0===t?void 0:t.titleLogo,p=null===(a=o.images)||void 0===a?void 0:a.providerLogo,g=d===he.Play,v=null!==(i=(0,je.getRequestContext)().isLocaleRTL)&&void 0!==i&&i;return n.createElement("div",{className:l()(up,{[mp]:g})},n.createElement("div",{className:l()(pp,{[gp]:g}),"data-testid":"title-details-hvm"},(null==c?void 0:c.message)&&n.createElement(pn.HighValueMessage,{message:c.message})),n.createElement("div",{className:vp},n.createElement(Ii,{liveInfo:e.containerItem.liveInfo,className:hp})),o.displayTitle&&n.createElement(En,{title:o.displayTitle,baseValue:1e3,headingLevel:bn.Mega,headingClassName:l()(bp,{[Ep]:null==m?void 0:m.url,[Tp]:!(null!=m&&m.url),[_p]:g}),titleLogoOptions:m?{url:m.url,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,providerLogoOptions:p?{url:p.url,wrapperClassName:l()(Cp,{[_p]:g}),alt:p.alternateText,shouldLazyLoadImage:e.shouldLazyLoadImage}:void 0,url:u,titleID:o.titleID,parentElement:e.parentElement}),(r||s)&&o.synopsis&&n.createElement(cn,{synopsis:o.synopsis,className:l()(yp,{[fp]:g&&!v})}))},Rp=e=>{var t;const{isDesktopDeviceVariant:a,isTouchDevice:i}=(0,Ee.lO)(),{enrichmentAttempted:r}=(0,s.Jy)(),o={eventTitle:e.containerItem.displayTitle,triggerLocation:"TentpoleHero",liveInfo:e.containerItem.liveInfo};return n.createElement("div",{className:l()(cp,{[Dp]:e.isContainerActive}),"data-testid":"title-details"},n.createElement("div",{className:l()(dp,{[Sp]:e.trailerState===he.Play})},n.createElement(Mp,e),n.createElement("div",{className:l()(kp,{[Ip]:e.trailerState===he.Play})},n.createElement("div",{className:l()(Lp)},n.createElement("div",{className:wp},n.createElement(c.n,e.focusMessage),e.containerItem.maturityRatingBadge?n.createElement(un.MaturityRating,{rating:e.containerItem.maturityRatingBadge.displayText,locale:null===(t=e.containerItem.maturityRatingBadge.countryCode)||void 0===t?void 0:t.toLowerCase(),logoUrl:e.containerItem.maturityRatingBadge.logoUrl,title:e.containerItem.maturityRatingBadge.description,ariaLabel:e.containerItem.maturityRatingBadge.description}):e.containerItem.contentMaturityRating&&n.createElement(ln,e.containerItem.contentMaturityRating)),n.createElement(Ml,{playbackAction:e.playbackAction,playbackGroup:e.playbackGroup,titleId:e.containerItem.titleID,streamSelectorProps:o,link:e.containerItem.link,promotedAcquisitionGroup:e.promotedAcquisitionGroup,withTransparentIcons:!a||i,useCircularPlayButton:a&&!i,className:l()(xp,{[Pp]:!a||i,[Np]:r}),carouselRefTag:e.containerItem.refMarker,parentElement:e.parentElement})))))},Ap=["StandardCarousel","SuperCarousel","Nodes"],Op=()=>{var e,t,a,i;const{pageWidth:r,isDesktopDeviceVariant:o,isTabletDeviceVariant:c,isPageVisible:d,isPlayerVisible:u,testDebugFlags:m}=(0,Ee.lO)(),{actions:g,container:v,enrichments:h,isTrailerAutoplayEnabled:y,nextContainerType:f,consumingWidgetType:b,index:E}=(0,s.Jy)(),{logger:C}=(0,Ra.L1)(),[T,_]=n.useState(!1),[k,I]=n.useState(!1),[L,x]=n.useState(!1),[w,P]=n.useState(void 0),S=n.useRef(null),D=n.useRef(null),N=n.useRef(!1),M=null===(e=v.entities)||void 0===e?void 0:e[0],R=(null==M?void 0:M.titleID)||"",O=null==h?void 0:h[R],B=null==O?void 0:O.prerolls;n.useEffect((()=>{const e=v.entities.map((e=>e.titleID)).filter(wr.A);g.getEnrichments(e)}),[]),n.useEffect((()=>{N.current=Si.A.isSmallerThan(Si.b.LAPTOP)}),[r]),n.useEffect((()=>{_(k&&d)}),[k,d]);const G=n.useCallback((([{isIntersecting:e,intersectionRatio:t}])=>{I(e&&t>=.7)}),[]);(0,Yl.S)({enabled:!0,target:S,onIntersect:G,threshold:.7});const V=!o&&!c,W=L?qm:Zm,F=Ap.includes(f||""),H=F?Hm:Vm,z=F?jm:zm,j=!w||[he.Init,he.Stop,he.Pause,he.Error].includes(w),U=null!==(t=null==O?void 0:O.entitlementCues)&&void 0!==t?t:M.entitlementCues,$=null==M||null===(a=M.images)||void 0===a||null===(a=a.hero)||void 0===a?void 0:a.url,q=null==M||null===(i=M.link)||void 0===i?void 0:i.url;n.useEffect((()=>{$||(C.count("MissingImageTentpoleHero",1,!1),p.c.count("MissingImageTentpoleHero"),C.warn(`Missing hero image in TentpoleHero for title ${R}`))}),[]);const Z=n.useCallback((e=>{const t=null==D?void 0:D.current;!t&&e?v.impressionData&&$&&null!=M&&M.widgetType&&null!=M&&M.refMarker&&e&&Ne.F.observe(e,{collectionImpressionData:v.impressionData,titleID:R,imageURL:$,refMarker:null==M?void 0:M.refMarker,widgetType:null==M?void 0:M.widgetType,carouselPosition:E,itemPosition:1,itemAnalytics:null==M?void 0:M.itemAnalytics}):t&&!e&&Ne.F.unobserve(t),D.current=e}),[]),J=()=>{null!=D&&D.current&&Ne.F.logManualImpression(null==D?void 0:D.current,"Select")},K=Gi(b,v.containerType,E,-1);return n.createElement("section",{"data-testid":"tentpole-hero",className:l()(Gm),ref:S},n.createElement("div",{className:l()(H,{[Fm]:c,[Wm]:V}),"data-testid":"tentpole-hero-content",ref:Z},$&&n.createElement(op,{url:$,ariaLabel:null==M?void 0:M.title,shouldBeVisible:j,shouldLazyLoadImage:K,titleID:R}),q&&!L&&n.createElement("a",{href:q,className:l()(z,{[Fm]:c,[Wm]:V}),onClick:J,"data-testid":"image-link"},M.displayTitle),o&&n.createElement(n.Fragment,null,B&&!N.current&&y&&T&&!u&&n.createElement(Ie,{key:R,className:l()(Um,W),canPlay:!0,delay:2e3,playback:ke.Restart,playing:x,prerolls:B,onStateChange:P,placement:A.TentpoleHero,link:L?q:void 0,playerIsActive:!1,refMarker:M.refMarker,titleID:M.titleID,draperParentListeners:{onClick:J},containerType:v.containerType}),n.createElement("div",{className:l()($m,W)})),n.createElement("div",{className:l()(Km,Jm)},n.createElement(Rp,{containerItem:M,isContainerActive:T,playbackAction:xi(M,O,null==m?void 0:m.disableFallbackPlaybackActions),playbackGroup:Pi(O,null==m?void 0:m.disableFallbackPlaybackActions),highValueMessage:null==U?void 0:U.highValueMessage,focusMessage:null==U?void 0:U.focusMessage,promotedAcquisitionGroup:null==O?void 0:O.promotedAcquisitionGroup,trailerState:w,detailPageLink:q,shouldLazyLoadImage:K,parentElement:D.current}))))};var Bp=a("./node_modules/@amzn/dvui/dist/Fable/components/PaginationDots/index.js");const Gp="z8ZVpp",Vp="Inb0RX",Wp="zyfwKY",Fp="_6dHirw",Hp="a2doUy",zp="kndueu",jp="fZ4hiY";var Up=a("./src/shared/Explore/containers/RotatingCarousel/index.tsx");const $p="_853kWl",qp="CUF1jm",Zp="w9f1dv",Jp="QTuot+",Kp="ozOoKV",Xp="NzoxBE",Yp="RHPgNk",Qp="_9Fsc3D",eg="L+BMI9",tg="i8C5ZS",ag="zB8+rC",ng="RKW3xp",ig="jK8iyU",rg="_0rMBAu",lg="+OAg4N",sg="_5yxzks",og="ldqqO7",cg="u9hEqu",dg="JGiqEJ",ug="TnZdCy",mg="_69hMIc",pg=n.createContext(void 0);pg.displayName="AutoRotationContext";const gg="eWwBTq",vg="cMiFle",hg="tI31Ve",yg="SzHxBS",fg="xRLzXK",bg="_9Fittn",Eg="n-Pw6p",Cg="TxI7qt",Tg="PKPeJV",_g="V9MGxp",kg="CkuePN",Ig="GM1R-i",Lg="vXOb0s",xg="mbDqyc";var wg=a("./src/shared/Explore/hooks/IsHoveringHook/useIsHovering.ts");const Pg="U+5Ubg",Sg="-oEyTS",Dg=({text:e,state:t})=>{const a=n.useRef(0),[i,r]=n.useState("close"===t);return n.useEffect((()=>("open"===t?r(!1):a.current=window.setTimeout((()=>{r(!0)}),2e3),()=>{clearTimeout(a.current)})),[t]),e?n.createElement("div",{className:l()(Pg,{[Sg]:i}),"data-testid":"hero-synopsis"},e):null},Ng=(e,t)=>{var a,n;const{enrichments:i}=(0,s.Jy)(),r=i[null!==(a=e.titleID)&&void 0!==a?a:""],l=null==r||null===(n=r.buyBoxActions)||void 0===n?void 0:n[0],o=xi(e,r,t),c="SUBSCRIBE"===(null==l?void 0:l.actionType)?l.payload.subscriptionPayload:void 0,d="TRANSACT"===(null==l?void 0:l.actionType)?l.payload.transactionPayload:void 0,u="OPEN_MODAL"===(null==l?void 0:l.actionType)?l.payload.modalPayload:void 0,m=null==l?void 0:l.refMarker;return{maybeActionType:null==l?void 0:l.actionType,maybeLabel:null==l?void 0:l.decoration.label,maybePlayAction:o,maybeSubscriptionAction:c,maybeTransactionAction:d,maybeModalAction:u,maybeRefMarker:m}};function Mg(){const[e,t]=n.useState(!1);return{isFocusedWithin:e,onFocus:()=>{t(!0)},onBlur:()=>{t(!1)}}}const Rg="_c_",Ag=(e,t,a)=>((e,t)=>{const a=(0,Ft.ur)(e);return""===a?e:e.replace(a,t)})(e,((e,t)=>{if(null==e||!e.includes(Rg)||null==t||!t.includes(Rg))return"atv_unknown";const a=e.split(Rg),n=t.split(Rg);return n[0]+Rg+a[1]+"_"+n[1]})(t,a));function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Og.apply(this,arguments)}const Bg=({containerItem:e,entitlementCuesFinal:t,promotedAcquisitionGroup:a,shouldLazyLoadImage:i,parentElement:r,onHovering:o,isDynamicMobileCard:d,isMiniDetailsModalVisible:u,haveBurnedInTitleArt:m,canLoadWithOpenSynopsis:p})=>{var g,v,h,y,f,b;const{displayTitle:E,titleID:C,contentMaturityRating:T,link:_,maturityRatingBadge:k,images:I,liveInfo:L,refMarker:x}=e,{highValueMessage:w,informationalMessages:P,providerLogo:S,titleMetadataBadge:D}=null!=t?t:{},N=d?null==t?void 0:t.compactFocusMessage:null==t?void 0:t.focusMessage,{titleLogo:M}=I||{},{isInResiliencyMode:R,isDesktopDeviceVariant:A,shouldAlwaysShowMaturityRating:O,testDebugFlags:B}=(0,Ee.lO)(),{container:{entities:G,containerType:V},resiliencyCxMode:W,enrichmentAttempted:F}=(0,s.Jy)(),H=!G.some((e=>e.titleID))||R||"TENTPOLE"===W,z=F||H,{isHovering:j,onTouchStart:U,onMouseEnter:$,onMouseLeave:q,onMouseMove:Z}=(0,wg.x)(),{isFocusedWithin:J,onFocus:K,onBlur:X}=Mg();n.useEffect((()=>{null==o||o(j)}),[j,o]);const Y=(({canLoadWithOpenSynopsis:e,entities:t,isHoveringTitleDetails:a,isFocusedWithinTitleDetails:i})=>{const r=n.useRef(1===t.length&&void 0===t[0].prerolls&&"HeroTitle"!==t[0].widgetType),l=n.useRef(null),[s,o]=n.useState(e||r.current?"open":"close"),c=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},d=a||i;return n.useEffect((()=>{if(e&&!r.current)return l.current=window.setTimeout((()=>{l.current=null,d||o("close")}),1e3),c}),[]),n.useEffect((()=>{r.current||(d?(c(),o("open")):l.current||o("close"))}),[d]),s})({canLoadWithOpenSynopsis:p,entities:G,isHoveringTitleDetails:j,isFocusedWithinTitleDetails:J}),Q={eventTitle:E,triggerLocation:"StandardHero"===V?"StandardHero":"TentpoleHero",liveInfo:L,titleMetadataBadge:D},{maybePlayAction:ee,maybeSubscriptionAction:te,maybeTransactionAction:ae,maybeLabel:ne,maybeActionType:ie,maybeModalAction:re,maybeRefMarker:le}=Ng(e,null==B?void 0:B.disableFallbackPlaybackActions);let se=null!==(g=null!==(v=null==te?void 0:te.url)&&void 0!==v?v:null==_?void 0:_.url)&&void 0!==g?g:"";(te||ae)&&(se=Ag(se,x,le));const oe=n.createElement(Ml,{playbackAction:ee,streamSelectorProps:Q,link:{url:se,label:ne,type:ie},titleId:C,promotedAcquisitionGroup:a,carouselRefTag:x,parentElement:r,primaryButtonLabel:ne,className:l()(hg,{[bg]:z}),detailsIconLink:_,modalAction:re,transactionAction:ae}),ce=void 0!==(null==M?void 0:M.url),de=O||"StandardMobileHero"!==V||u?k?n.createElement(un.MaturityRating,{rating:k.displayText,locale:null===(h=k.countryCode)||void 0===h?void 0:h.toLowerCase(),logoUrl:k.logoUrl,title:k.description,ariaLabel:k.description,className:fg}):T&&n.createElement(ln,Og({},T,{className:fg})):n.createElement(n.Fragment,null),ue=S?S.imageUrl:null==I||null===(y=I.providerLogo)||void 0===y?void 0:y.url,me=S?S.message:null==I||null===(f=I.providerLogo)||void 0===f?void 0:f.alternateText,pe="TentpoleHero"===V;return n.createElement(n.Fragment,null,n.createElement("div",{"data-animate-hero-metadata":!0,className:l()(gg,{[vg]:pe}),onTouchStart:U,onMouseEnter:$,onMouseLeave:q,onMouseMove:Z,onFocus:K,onBlur:X},(E||ce)&&n.createElement(En,{title:null!==(b=null!=E?E:null==M?void 0:M.alternateText)&&void 0!==b?b:"",headingLevel:bn.Mega,headingClassName:l()(Eg,{[Tg]:!ce,[Cg]:m}),titleLogoOptions:M?{url:M.url,shouldLazyLoadImage:i}:void 0,providerLogoOptions:ue?{url:ue,alt:me,imageClassName:kg,wrapperClassName:_g,shouldLazyLoadImage:i}:void 0,url:null==_?void 0:_.url,titleID:C,baseValue:1e3,parentElement:r}),n.createElement("div",{className:yg},L&&A&&n.createElement(n.Fragment,null,n.createElement(mn.O,{style:null==D?void 0:D.level,label:null==D?void 0:D.message}),n.createElement("span",{className:Ig},L.timeBadge)),(null==w?void 0:w.message)&&n.createElement(pn.HighValueMessage,{message:null==w?void 0:w.message}),e.headerText&&n.createElement(pn.HighValueMessage,{variant:pn.HighValueMessageVariant.offer,message:e.headerText})),n.createElement(Dg,{text:e.synopsis,state:Y}),oe,N&&n.createElement(c.n,{icon:N.icon,message:N.message})),n.createElement("div",{"data-animate-hero-metadata":!0,className:l()(Lg,{[vg]:pe})},P&&P.map(((e,t)=>e.message&&n.createElement(Pa.Text,{tag:"div",className:xg,testID:"informational-message",dvString:e.message,key:t}))),de))},Gg=[720,1080,1440,2160,2880,3840],Vg=({images:e,heroImageVariant:t,shouldLazyLoadImage:a,removeDragAnimationClass:i,titleID:r,itemPosition:o,displayTitle:c})=>{var d,u,m,p,g,v,h,y;const{container:{containerType:f},consumingWidgetType:b,index:E}=(0,s.Jy)(),C=(0,Ir.G4)(),[T,_]=n.useReducer((()=>!0),!1),[k,I]=n.useReducer((()=>!0),!1),[L,x]=n.useReducer((()=>!0),!1),[w,P]=n.useReducer((()=>!0),!1),S=su({alternateText:null==e||null===(d=e.hero)||void 0===d?void 0:d.alternateText,imageClassName:l()(dg,i),wrapperClassName:lg,srcSetWidths:Gg,shouldLazyLoadImage:a,titleID:r,elementTimingProps:{consumingWidgetType:b,containerType:f,containerIndex:E,itemIndex:o}}),D=null===(u=C.render)||void 0===u?void 0:u.isRTL,N=De.L3,M=D?De.kM:De.lN,R=D?De.pz:De.fn,A={[au.TwoByThree]:N,[au.SixteenByNine]:M,[au.EightByThree]:R,[au.Indeterminate]:R};return t===au.DynamicTentpoleHero?n.createElement(n.Fragment,null,null!=e&&e.hero&&!T?S(e.hero.url,_,e.hero.alternateText,tg):n.createElement(ze,{fallbackImage:S(N,I,null==e||null===(m=e.hero)||void 0===m?void 0:m.alternateText,tg),hasFallbackImageErrored:k,fallbackTitleText:c,textWrapperClassname:l()(lg),testId:"hero-2x3-image-fallback"}),null!=e&&null!==(p=e.hero16x9)&&void 0!==p&&p.url&&!L?S(e.hero16x9.url,x,e.hero16x9.alternateText,ag):n.createElement(ze,{fallbackImage:S(M,P,null==e||null===(g=e.hero16x9)||void 0===g?void 0:g.alternateText,ag),hasFallbackImageErrored:w,fallbackTitleText:c,textWrapperClassname:l()(lg),testId:"hero-16x9-image-fallback"})):n.createElement(n.Fragment,null,null!=e&&null!==(v=e.hero)&&void 0!==v&&v.url&&!T?S(e.hero.url,_,null==e||null===(h=e.hero)||void 0===h?void 0:h.alternateText,Yp):n.createElement(ze,{fallbackImage:S(A[t],I,null==e||null===(y=e.hero)||void 0===y?void 0:y.alternateText,Yp),hasFallbackImageErrored:k,fallbackTitleText:c,textWrapperClassname:l()(lg),testId:"hero-image-fallback"}))};function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wg.apply(this,arguments)}const Fg={[au.DynamicTentpoleHero]:eg,[au.Indeterminate]:Qp,[au.TwoByThree]:rg,[au.SixteenByNine]:ng,[au.EightByThree]:ig},Hg=({index:e,isDynamicMobileCard:t,isCardVisible:a,heroImageVariant:i,containerItem:r,canLoadWithOpenSynopsis:o})=>{var c,d;const{images:u,displayTitle:m,link:g,titleID:v,refMarker:h,widgetType:y,contentMaturityRating:f,maturityRatingBadge:b,itemAnalytics:E,prerolls:C,signInTrailerURL:T}=r,_=n.useRef(null),[k,I]=n.useState(!1),[L,x]=n.useState(!1),[w,P]=n.useState(void 0),{container:{containerType:S},enrichments:D,isTrailerAutoplayEnabled:N,index:M,consumingWidgetType:R}=(0,s.Jy)(),{logger:O}=(0,Ra.L1)(),{pageWidth:B,isPlayerVisible:G,testDebugFlags:V,isDesktopDeviceVariant:W}=(0,Ee.lO)(),F=(()=>{const e=n.useContext(pg);if(void 0===e)throw new Error("useAutoRotationContext must be used within a AutoRotationContext.Provider");return e})(),{touchMiniDetailsModalListeners:H,isMiniDetailsModalVisible:z,dismissMiniDetailsModal:j,removeContextMenuClass:U,removeDragAnimationClass:$}=Hi(S,void 0!==v,g),[q,Z]=n.useState(!0),J=Gi(R,S,M,e),K=D[null!=v?v:""],X=C||(null==K?void 0:K.prerolls),Y=null==u||null===(c=u.hero)||void 0===c?void 0:c.url,Q=void 0===K||t?r.entitlementCues:K.entitlementCues,{setElementRef:ee,onLinkClick:te}=lu({ref:_,imageURL:Y,widgetType:y,refMarker:h,titleID:v,itemPosition:e,itemAnalytics:E,isMiniDetailsModalVisible:z});n.useEffect((()=>{Z(Si.A.isAtleast(Si.b.LAPTOP))}),[B]);const ae=(null==X?void 0:X.mediaFile)&&q&&N;n.useEffect((()=>{var t;null===(t=F.stateReport)||void 0===t||t.call(F,e,{ref:_.current,isCardVisible:a,isMiniDetailsModalVisible:z,isHoveringControls:L,prerolls:ae&&w?{hasPrerolls:!0,backgroundTrailerState:w}:{hasPrerolls:!1}})}),[F,w,e,a,z,ae,L]),n.useEffect((()=>{Y||(p.c.count(`MissingImage${S}Card`),O.warn(`Missing hero image in ${S}Card for title ${v}`))}),[]);const{maybePlayAction:ne,maybeLabel:ie}=Ng(r,null==V?void 0:V.disableFallbackPlaybackActions),re=ne?{...ne,label:ie}:void 0,le=Pi(K,!0),se="StandardHero"===S&&!W;return n.createElement("article",Wg({ref:ee,className:l()(Xp,U,Fg[i],{[sg]:ae&&k})},H,{"data-testid":"top-hero-card"}),n.createElement("div",{className:l()(ug),"data-animate-hero-background":!0},n.createElement(Vg,{titleID:v,images:u,heroImageVariant:i,shouldLazyLoadImage:J,removeDragAnimationClass:$,itemPosition:e,displayTitle:m}),(null==g?void 0:g.url)&&n.createElement("a",{href:g.url,className:cg,"data-testid":"image-link",onClick:te,"aria-label":m,tabIndex:-1},m),z&&n.createElement(wn,{titleID:v,displayTitle:m,watchlistAction:null==K?void 0:K.watchlistAction,trailer:null==K?void 0:K.trailer,contentMaturityRating:f,maturityRatingBadge:b,recordSeasonTooltipText:null==K||null===(d=K.recordSeason)||void 0===d||null===(d=d.watchlistAddon)||void 0===d?void 0:d.tooltipText,showTouchModal:z,dismissTouchModal:j,detailsPageUrl:null==g?void 0:g.url,parentElement:_.current,signInTrailerURL:T,playbackAction:re,playbackGroup:le}),ae&&a&&!G&&n.createElement(Ie,{key:v,canPlay:!0,delay:2e3,placement:A.TopHero,playback:ke.Restart,prerolls:X,onStateChange:P,playing:I,className:og,playerIsActive:!1,draperParentListeners:{onClick:te},videoOverlayElement:n.createElement(Ti.Gradient,{variant:"video-left-scrim",className:l()($p,Kp)}),link:k?null==g?void 0:g.url:void 0,nonFocusableLink:!0,refMarker:h,titleID:v,containerType:S})),n.createElement(Ti.Gradient,{variant:"scrim-hero",className:l()($p,qp)}),"TentpoleHero"===S&&n.createElement(Ti.Gradient,{variant:"scrim-hero","data-testid":"tentpole-gradient",className:l()($p,Zp)}),!se&&n.createElement("div",{className:l()($p,Jp),"data-testid":"dynamic-mobile-scrim"}),n.createElement(Bg,{containerItem:r,entitlementCuesFinal:Q,isDynamicMobileCard:t,promotedAcquisitionGroup:null==K?void 0:K.promotedAcquisitionGroup,shouldLazyLoadImage:J,parentElement:_.current,onHovering:x,haveBurnedInTitleArt:se,isMiniDetailsModalVisible:z,canLoadWithOpenSynopsis:o}),n.createElement("div",{className:mg}))};Hg.displayName="HeroCard";const zg=Hg;var jg=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/BackMirrored.js"),Ug=a.n(jg),$g=a("./node_modules/@amzn/dvui/dist/Fable/components/Icons/Back.js"),qg=a.n($g);const Zg="vOXoG5",Jg="y2SbpL",Kg="_5je+Ob",Xg="LlmhPP",Yg=({show:e,cardsCount:t,moveNext:a,movePrev:i,children:r})=>{const{render:s}=(0,Ir.G4)(),{getString:o}=(0,Ee.lO)();let c={left:{action:i,ariaLabel:o("DV_WEB_ARIA_PREVIOUS_TITLE")},right:{action:a,ariaLabel:o("DV_WEB_ARIA_NEXT_TITLE")}};null!=s&&s.isRTL&&(c={left:c.right,right:c.left});const d=t>1;return n.createElement(n.Fragment,null,d&&n.createElement("div",{className:l()(Zg,Kg,{[Jg]:e})},n.createElement("button",{"aria-label":c.left.ariaLabel,onClick:c.left.action,"data-testid":"left-arrow"},n.createElement(qg(),null))),r," ",d&&n.createElement("div",{className:l()(Zg,Xg,{[Jg]:e})},n.createElement("button",{"aria-label":c.right.ariaLabel,onClick:c.right.action,"data-testid":"right-arrow"},n.createElement(Ug(),null))))};var Qg=a("./src/shared/Explore/hooks/useIsResizing/useIsResizing.tsx");const ev=e=>{const t=n.useRef(!0),{testDebugFlags:a,isPageVisible:i,isPlayerVisible:r}=(0,Ee.lO)(),{isSsmOpen:l}=n.useContext(Aa.mY),s=(0,Qg.y)({resetDelay:500}),o=n.useRef(0);n.useEffect((()=>()=>clearTimeout(o.current)),[]);const c=n.useCallback((()=>{e.moveNext(),e.activeCard===e.cardsCount-1&&(t.current=!1)}),[e]),d=n.useCallback(((n,d)=>{var u;if(n!==e.activeCard)return;clearTimeout(o.current);const{ref:m,isMiniDetailsModalVisible:p,isHoveringControls:g,prerolls:v,isCardVisible:h}=d;if(null!=a&&a.useReducedMotion||!i||r||l||p||g||!h||!t.current||!e.isCarouselVisible||e.isFocusedWithin||s)return;const y=null!==(u=null==m?void 0:m.matches(":hover"))&&void 0!==u&&u;if(v.hasPrerolls){if([he.Stop,he.Error].includes(v.backgroundTrailerState)){const e=v.backgroundTrailerState===he.Error?3e3:y?5e3:1e3;o.current=window.setTimeout(c,e)}}else o.current=window.setTimeout(c,5e3)}),[c,i,r,l,e.activeCard,e.isCarouselVisible,null==a?void 0:a.useReducedMotion]),u=n.useMemo((()=>e.cardsCount>1?{stateReport:d}:{}),[d,e.cardsCount]);return n.createElement(pg.Provider,{value:u},e.children)},tv=({count:e,active:t})=>e<=1?null:n.createElement("div",{className:jp},n.createElement(Bp.PaginationDots,{count:e,active:t})),av={[au.DynamicTentpoleHero]:Wp,[au.TwoByThree]:Fp,[au.SixteenByNine]:Hp,[au.EightByThree]:zp,[au.Indeterminate]:zp},nv=(e,t,a)=>{const n=(null==a?void 0:a.pageType)||er.c7.ATVUnknown,i=(null==a?void 0:a.subPageType)||er.wW.Unknown,r=`atv_${(0,er.P7)(n,i)}_${(0,er.mw)(i)}_${e}_hero_pag_${t}`;(0,ce.X)(r,n,i)},iv=()=>{var e;const{actions:t,container:a}=(0,s.Jy)(),{isPageVisible:i,clickstreamPageContext:r}=(0,Ee.lO)(),o=null!==(e=a.entities)&&void 0!==e?e:[],c=(()=>{const[e,t]=n.useState("FADING");return n.useEffect((()=>{if("scroll-snap-stop"in document.body.style){const e=(0,Zn.D)((()=>{Si.A.isSmallerThan(Si.b.LAPTOP)?t("SCROLLING"):t("FADING")}),500);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}}),[]),e})(),[d,u]=n.useState(0),[m,p]=n.useState(!1),[g,v]=n.useState(!1);n.useEffect((()=>{v(!0)}),[d]);const{isHovering:h,onTouchStart:y,onMouseEnter:f,onMouseLeave:b,onMouseMove:E}=(0,wg.x)(),{isFocusedWithin:C,onFocus:T,onBlur:_}=Mg(),{moveTo:k,moveNext:I,movePrev:L}=(0,Up.n)(),{containerType:x}=a,w="StandardMobileHero"===x,[P]=n.useState(function(e){if(function(e){if("TentpoleHero"===e.containerType){var t,a;const n=e.entities[0];if(n&&null!==(t=n.images)&&void 0!==t&&t.hero&&null!==(a=n.images)&&void 0!==a&&a.hero16x9)return!0}return!1}(e))return au.DynamicTentpoleHero;const{width:t,height:a}=nu(e);let n=au.Indeterminate;if(t&&a){const e=Vc.m.getAspectRatio(t,a).join(":");"16:9"===e?n=au.SixteenByNine:"8:3"===e?n=au.EightByThree:"2:3"===e&&(n=au.TwoByThree)}return n}(a));n.useEffect((()=>{const e=o.map((e=>e.titleID)).filter(wr.A);t.getEnrichments(e,void 0,!0,!0)}),[]);const S=o.length,D=n.createElement("div",{className:Gp,"data-testid":"top-hero"},n.createElement(Zc.Z,{threshold:.7,onChange:e=>p(!!e)},n.createElement("div",{className:l()(Vp,av[P]),onTouchStart:y,onMouseEnter:f,onMouseLeave:b,onMouseMove:E,onFocus:T,onBlur:_},n.createElement(Yg,{show:h||C,cardsCount:S,moveNext:()=>{nv(d,"r",r),I()},movePrev:()=>{nv(d,"l",r),L()}},n.createElement(Up.Z,{cardsCount:S,animationType:c,onActiveCardChange:e=>u(e),moveTo:k,renderCard:(e,t)=>{const a=o[e];return a?n.createElement(zg,{containerItem:a,isCardVisible:t&&i&&m,index:e,isDynamicMobileCard:w,heroImageVariant:P,canLoadWithOpenSynopsis:0===e&&!g}):n.createElement(n.Fragment,null)}}))),n.createElement(tv,{count:S,active:d})));return n.createElement(ev,{moveNext:I,activeCard:d,cardsCount:S,isCarouselVisible:m,isFocusedWithin:C},D)};iv.displayName="TopHeroContainer";const rv=iv,lv=e=>{const{containerType:t}=e,{enabled:a}=(0,Ht.F)();if(a)return n.createElement(rv,null);switch(t){case"StandardHero":case"StandardMobileHero":return n.createElement(Lu,null);case"TentpoleHero":return n.createElement(Op,null)}};lv.displayName="TopHeroRouter";const sv=lv,ov=new Set(["StandardHero","StandardMobileHero","TentpoleHero"]),cv=e=>{switch(e){case"StandardCarousel":default:return n.createElement(Br,null);case"StandardHero":case"StandardMobileHero":case"TentpoleHero":return n.createElement(sv,{containerType:e});case"Charts":return n.createElement(ms,null);case"SuperCarousel":return n.createElement(yo,null);case"Cover":return n.createElement(zo,null);case"Nodes":return n.createElement(dc,null);case"Grid":case"Onboarding":return n.createElement(ad,null);case"TextContainer":return n.createElement(id,null);case"EpgGroup":return n.createElement(Bm,null);case"DelayedPopup":return n.createElement(ld,null);case"FixedHeaderCarousel":return n.createElement(fd,null);case"TextWidget":return n.createElement(kd,null);case"ActionButtonCollection":return n.createElement(Nd,null);case"IntermissionHero":return n.createElement(xu,null);case"Survey":return n.createElement(Fu,null)}},dv=(e,t)=>{switch(e){case"Charts":return"TOP_CHART";case"StandardHero":return"STANDARD_HERO";case"IntermissionHero":return"INTERMISSION_HERO";case"TentpoleHero":return"TENTPOLE_HERO";default:return"DetailPage"===t?"DETAIL_BTF":"ActorPage"===t?"ACTOR":"HOVER"}},uv=(e,t)=>{const a={};return e.forEach(((e,n)=>{const i=e.entityID||e.titleID;i&&(a[i]=n+t)})),a},mv=(e,t)=>Object.values(i.P0).reduce(((a,n)=>(a[n]="entitlementType"===n?null!=t&&t.entitlementType?t.entitlementType:null==e?void 0:e.entitlementType:"informationalMessages"===n?function(a){const n=null==t?void 0:t[a],i=null==e?void 0:e[a],r=n&&n.filter((e=>0!==Object.keys(e).length));return r&&r.length>0?r:i}(n):function(a){const n=null==t?void 0:t[a],i=null==e?void 0:e[a];return n&&0!==Object.keys(n).length?n:i}(n),a)),{}),pv=e=>e.some((e=>"ActionButtonCollection"===e.containerType))?e.sort(((e,t)=>"ActionButtonCollection"===e.containerType&&"ActionButtonCollection"!==t.containerType?1:"ActionButtonCollection"!==e.containerType&&"ActionButtonCollection"===t.containerType?-1:0)):e},"./src/shared/Explore/containers/DiscoverPageContainer/DiscoverPageContainer.tsx":(e,t,a)=>{a.d(t,{v:()=>ye,e:()=>he});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./src/shared/Explore/containers/PageContainer/index.tsx"),s=a("./node_modules/@amzn/dvui/dist/DvuiContainer.js"),o=a("./src/util/utils/debounce.ts"),c=a("./src/util/utils/cookies.ts"),d=a("./src/util/utils/marketplace.ts"),u=a("./src/util/logger/kirup.ts"),m=a("./src/util/utils/history.ts"),p=a("./src/util/csm/csm.tsx"),g=a("./src/util/wrappers/LoggersContext.tsx"),v=a("./src/util/utils/hooks/useRemasterGating.ts");const h="tixsA-",y="yL46mS",f="VYbJYb",b="Kdp+st",E="_2-Gs-v",C="W8x5CV",T="kK-hEr";a("./src/shared/global.module.scss"),a("./src/shared/CS/styles/Grid.module.scss");var _=a("./src/shared/Explore/containers/BaseContainer/index.tsx"),k=a("./src/shared/Explore/containers/BaseContainer/utils.tsx");function I(e,t){switch(t.type){case"INIT":return{containers:(0,k.HP)(t.payload),initTime:new Date};case"APPEND":return{...e,containers:(0,k.HP)([...e.containers,...t.payload])}}}var L=a("./src/shared/Explore/utils/baseContainerApiInteractions.ts"),x=a("./src/shared/Explore/utils/GlobalQueueHandler.tsx"),w=a("./src/shared/CS/components/PageTitle/PageTitle.tsx"),P=a("./src/shared/CS/components/Filters/FiltersContainer.tsx"),S=a("./src/shared/Explore/components/DraperPlayer/videoContext.ts"),D=a("./src/shared/player/simplePlayer.tsx"),N=a("./node_modules/react-intersection-observer/lib/index.js");const M="vT0ALj",R="hHjWp8";var A=a("./src/shared/Explore/utils/urlChecker.ts"),O=a("./src/shared/Explore/containers/PageContainer/VerticalPaginationController.tsx"),B=a("./node_modules/@amzn/dvui/dist/Fable/components/Spinner/index.js"),G=a("./src/shared/WebSPA/Context.tsx");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},V.apply(this,arguments)}const W=e=>{const{isLoading:t,label:a,paginate:i,url:l,ariaLabel:s,consumingWidgetType:o}=e;return t?n.createElement("div",{className:r()(M,"tst-pagination-loader"),"data-testid":"pagination-loader"},n.createElement(B.Spinner,null)):n.createElement("div",{className:M},n.createElement("a",{className:r()(R,"tst-pagination-link"),href:(0,A.Z)({url:l,info:`${o}:Pagination`}),onClick:e=>{e.preventDefault(),i()},"data-testid":"page-pagination-button","aria-label":s,rel:"next"},a))},F=e=>{const{loadMoreContent:t,isLoading:a}=e,[i,r]=n.useState(!1),[l,s]=n.useState(!1),{entityWithLock:o,hideBelowContainerIndex:c}=n.useContext(O.U),[d,u]=n.useState(!1),m=(0,G.CU)(),p=async()=>{const{success:e}=await t();s(!e)};n.useEffect((()=>{let e="PAGE"===o.type;(a||l||void 0!==c||null!=m&&m.isRestoringPaginatedScrollPosition())&&(e=!1),u(e)}),[o.type,a,l,c,m]),n.useEffect((()=>{d&&i&&p()}),[d,i]),n.useEffect((()=>{d||r(!1)}),[d]);const g=void 0===c?n.createElement(W,V({},e,{paginate:p})):null;return d?n.createElement(N.Z,{rootMargin:"100% 0px",onChange:e=>r(!!e),"data-testid":"page-pagination-marker"},g):g};F.displayName="Pagination";const H=n.memo(F);var z=a("./src/shared/Explore/containers/StandardCarousel/StandardCarouselPageClearance.tsx"),j=a("./node_modules/@amzn/dvui/dist/Block.js");const U="A-b8Bn",$="YkRuRn",q="Z-jiss";var Z=a("./src/shared/imageUtils/imageUtils.ts");function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},J.apply(this,arguments)}const K=({title:e,logoImage:t,isRemasterEnabled:a})=>{if(null==t||!t.persistLogoImageOnPage||(null==t||!t.url)&&!e)return n.createElement(n.Fragment,null);const i={src:t.url,baseValue:35,baseType:Z.rB.HEIGHT,format:Z.GH.png};return n.createElement("div",{className:r()(U,{[$]:a}),"data-testid":"persistent-logo"},n.createElement("div",{className:r()(q,{[$]:a})},null!=t&&t.url?n.createElement("img",J({},(0,Z.Ro)(i),{alt:e})):e))};var X=a("./src/shared/Explore/containers/Live/StationContext/StationContextProvider.tsx");const Y="qypT9n",Q="EgEd8j",ee="o9Q7c+",te="MvXJ-m",ae="p7p73Y",ne=({shouldAddNavSliderClearance:e})=>{const{isDesktopDeviceVariant:t}=(0,l.lO)();return n.createElement("div",{"data-testid":"spinner-panel-container",className:r()(Y,{[ae]:e})},n.createElement("div",{className:r()(Q,{[ee]:!t})},n.createElement(B.Spinner,{className:te})))};ne.displayName="SpinnerPanel";var ie=a("./node_modules/@amzn/dvui/dist/Fable/components/Toast/index.js"),re=a("./src/shared/Stores/context.ts"),le=a("./src/shared/Explore/utils/contingencies.ts"),se=a("./src/shared/CS/components/AlertBanner/AlertBanner.tsx"),oe=a("./src/shared/utils/analytics/recordReftag.tsx"),ce=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),de=a("./src/widgets/DVWebNodeCrossBenefitModal/utils/utils.ts");const ue="allowPVNavBarToOverlay";var me=a("./src/shared/navigation/navBannerPortal/index.tsx"),pe=a("./src/util/performance/fluidityTiming.ts");function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ge.apply(this,arguments)}const ve="NoContentForFiltersError";class he extends Error{constructor(e){super(e),this.name=ve}}const ye=e=>{var t,a,i,N,M,R,A;const{page:O,device:B,isTrailerAutoplayEnabled:V,pageMetadata:W,strings:F,playbackLaunchType:U,filteringFunction:$,paginatingFunction:q,clickstream:Z,clickstreamPageContext:J,enableVerticalPerformantRender:Y,featureSwitches:Q,requiresMinimumPageWidth:ee,availabilityMessage:te,redirectedMessage:ae,testDebugFlags:he,resiliencyCxMode:ye,swiftPageParameters:fe,notification:be,alertBanner:Ee}=e,{enabled:Ce}=(0,v.F)(),Te=(t=null==Q?void 0:Q.disableWinAppMaxContainersLimit,null===(a=!(null!=Q&&Q.isPaginationLimitedOnMShop))||void 0===a||a),_e=null==Q?void 0:Q.shouldRemoveAutoCrop,ke=null==Q?void 0:Q.shouldAlwaysShowMaturityRating,Ie=(0,re.getRequestContext)(),Le=B.getVariant(),xe=B.getOS(),{logger:we}=(0,g.L1)(),[Pe,Se]=n.useState(e.filters),[De,Ne]=n.useState(e.pagination),[Me,Re]=n.useReducer(I,{containers:(0,k.HP)(e.containers),initTime:new Date}),[Ae,Oe]=n.useState(!1),[Be]=n.useState(new x.Z(500,Ce)),[Ge,Ve]=n.useState(!1),We=n.useRef(new Date),[Fe,He]=n.useState(!1),[ze,je]=n.useState(void 0),[Ue,$e]=n.useState(!1),qe=n.useRef(!1),Ze="NotEntitled"===(null==W?void 0:W.entitlementIntent)?"Store":"Default",Je=(0,G.CU)(),Ke=n.useCallback((async()=>{const e={success:!0},t={success:!1};if(!q||!De)return t;$e(!0),qe.current=!1;try{const a=null!=Je&&Je.isRestoringPaginatedScrollPosition()?await Je.getCachedPagination(`${De.pageNumber}`):void 0,n=null!=a?a:await q(De);!a&&(null==Je||Je.putCachedPagination(`${De.pageNumber}`,n));let{containers:i,pagination:r}=n;if(r&&null!=Je&&Je.isRestoringPaginatedScrollPosition()){const e=await(null==Je?void 0:Je.getAllCachedPaginations(`${r.pageNumber}`,(e=>{var t,a;return null!==(t=null===(a=e.pagination)||void 0===a?void 0:a.pageNumber.toString())&&void 0!==t?t:null})));if(e.length>0){e.forEach((e=>i.push(...e.containers)));r=e[e.length-1].pagination}}return qe.current?t:(pe.Z.start("DiscoverPagePagination"),Re({type:"APPEND",payload:i}),Ne(r),$e(!1),e)}catch(e){return we.count(`DVWebNode::${O}::Pagination::Failed`,1,!1),u.c.count("DVWebPageComponentStatus",{Page:O,Component:"Pagination",Status:"Failed"}),we.warn(e instanceof Error?e:`Caught unknown error: ${e}`),null!=Je&&Je.isRestoringPaginatedScrollPosition()&&(null==Je||Je.reportPagination(!1,!1)),qe.current?t:($e(!1),t)}}),[Me.containers.length,we,O,q,De]),Xe=n.useRef(Ke);Xe.current=Ke,n.useEffect((()=>De&&Je?Je.bindScrollRestorationPaginator((()=>Xe.current())):void 0),[]);const Ye=n.useRef(!1);n.useEffect((()=>{Ye.current?null!=Je&&Je.isRestoringPaginatedScrollPosition()?(null==Je||Je.reportPagination(!0,void 0===De),pe.Z.end("DiscoverPagePagination")):pe.Z.end("DiscoverPagePagination"):Ye.current=!0}),[null==De?void 0:De.pageNumber]);const Qe=n.useCallback((async(e,t)=>{if(!$)return;Ue&&(qe.current=!0,$e(!1)),He(!0),je(void 0);const a=new Date;We.current=a;try{const n=await $(e);if(We.current!==a)return;Se(n.filters),Re({type:"INIT",payload:n.containers}),Ne(n.pagination),He(!1),t()}catch(e){if(we.count(`DVWebNode::${O}::GetFilteredPage::Failed`,1,!1),u.c.count("DVWebPageComponentStatus",{Page:O,Component:"GetFilteredPage",Status:"Failed"}),we.warn(e instanceof Error?e:`Caught unknown error: ${e}`),We.current!==a)return;const t=e instanceof Error&&e.name===ve;je(t?"NO_CONTENT":"FAILED"),He(!1)}}),[$,Ue,we,O]);n.useEffect((()=>{(0,c.Do)("amafeature")&&Oe(!0),ae&&(0,ie.toast)(ae)}),[]),n.useEffect((()=>{if((0,p.KL)(),u.c.latency.timeToInteractive(),Ce&&u.c.latency.timeToX("DVWebNodeRemasterTimeToXV2",void 0,"2024-05-15"),"undefined"!=typeof document&&"LandingPage"===O&&ee){const e=(0,o.D)((()=>{const{scrollLeft:e}=document.documentElement,t=document.querySelector(`.${h}`);null!=t&&t.style&&(t.style.left=`${e}px`)}),100);return e(),document.addEventListener("scroll",e),()=>{document.removeEventListener("scroll",e)}}}),[]),n.useEffect((()=>{if(!Pe||0==Pe.items.length||"undefined"==typeof window)return;(0,m.lO)({[P.J]:!0},"");const e=({state:e})=>{Object.hasOwnProperty.call(e||{},P.J)&&(window.location.href=window.location.href)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]),n.useEffect((()=>{Me.containers.some((e=>"Onboarding"===e.containerType))&&"LandingPage"===O&&"ATVHome"===(null==J?void 0:J.pageType)&&"Home"===(null==J?void 0:J.subPageType)&&(0,oe.X)("atv_hm_hom_ocx_open","ATVModal","Onboarding",void 0,[ce.W0.ModalRendered],ce.qB.PopUp,J.clientVariant,Z)}),[]),n.useEffect((()=>{Ve(!(0,de.hT)()&&!(0,de.Im)())}),[]);const[et,tt]=n.useState({...S.E,disableRightClick:(0,d.D1)(Ie.marketplaceID),updateContext:e=>{tt(e)}}),at=Pe?Me.containers.slice(0,null==Pe?void 0:Pe.position):[],nt=Pe?Me.containers.slice(null==Pe?void 0:Pe.position):Me.containers,it={consumingWidgetType:O,apiInteractions:{...L.C,fetchEnrichment:Be.enrichmentPromise.bind(Be)},isTrailerAutoplayEnabled:null!=V&&V,shouldDisplayStrategy:Ae,resiliencyCxMode:ye},rt=Fe&&at.length>0,lt=rt&&at[0].entities.length>1,st=null!=W&&W.title?n.createElement(w.V,{title:null==W?void 0:W.title,entitlementIntent:null==W?void 0:W.entitlementIntent,theme:Ze}):null,ot=!0===(null==W||null===(i=W.logoImage)||void 0===i?void 0:i.persistLogoImageOnPage)?n.createElement(K,{title:null==W?void 0:W.title,logoImage:{url:null==W||null===(N=W.logoImage)||void 0===N?void 0:N.url,persistLogoImageOnPage:null==W||null===(M=W.logoImage)||void 0===M?void 0:M.persistLogoImageOnPage},isRemasterEnabled:Ce}):null;let ct=!1;const dt=(Pe?at:Me.containers)[0];ct=dt&&k.uw.has(dt.containerType);const ut=at.map(((e,t,a)=>{var i,r;return n.createElement(_.ZP,ge({key:`${Me.initTime.getTime()}::${t}`,index:t,container:e,prevContainerType:null===(i=a[t-1])||void 0===i?void 0:i.containerType,nextContainerType:null===(r=a[t+1])||void 0===r?void 0:r.containerType},it))})),mt=nt.map(((e,t,a)=>{var i,r;const l=t+at.length;return n.createElement(_.ZP,ge({key:`${Me.initTime.getTime()}::${e.webUid}`,index:l,container:e,prevContainerType:null===(i=a[t-1])||void 0===i?void 0:i.containerType,nextContainerType:null===(r=a[t+1])||void 0===r?void 0:r.containerType},it))})),pt=n.createElement(n.Fragment,null,(!Ce||!ct)&&(ot||st),rt&&n.createElement(ne,{shouldAddNavSliderClearance:lt}),!Fe&&(Ce&&Pe&&ct?n.createElement(n.Fragment,null,ot,ut[0],!ot&&st,ut.slice(1)):ut),Pe&&n.createElement(P.P,{filters:Pe,onFilter:Qe,isLoading:Fe,noTopPadding:!(null==W||!W.title),error:ze,errorLoadingMessage:null!==(R=F.DV_WEB_DISCOVER_FILTERING_FAILED)&&void 0!==R?R:"",noMatchErrorMessage:null!==(A=F.DV_WEB_DISCOVER_NO_MATCH)&&void 0!==A?A:"",pageHasTitle:Boolean(null==W?void 0:W.title)}),Fe&&n.createElement(ne,null),!Fe&&(Ce&&!Pe&&ct?n.createElement(n.Fragment,null,ot,mt[0],!ot&&st,mt.slice(1)):mt),Ge&&be&&("DelayedPopup"===be.containerType||"Survey"===be.containerType&&"LandingPage"==O)&&n.createElement(_.ZP,ge({container:be,index:Me.containers.length},it))),gt=e.page.toLowerCase()+(ye?`-resiliency-${ye.toLocaleLowerCase()}`:"");return n.createElement("main",{"data-testid":gt,className:r()(h,{[E]:he.useReducedMotion},{[ue]:Ce&&ct})},te&&n.createElement(me.C,null,n.createElement(j.MessageBlock,{testID:"availability-message",type:j.MessageTypes.warning,fableBannerTypeOverride:"info"},te)),Ee&&n.createElement(me.C,null,n.createElement(se.Y,Ee)),n.createElement(l._z,{deviceVariant:Le,os:xe,strings:F,theme:Ze,testDebugFlags:he,clickstream:Z,clickstreamPageContext:J,enableVerticalPerformantRender:Y,swiftPageParameters:fe,contingencies:(0,le.Q)(Q),shouldDarkenImage:null!=_e&&_e,shouldAlwaysShowMaturityRating:null!=ke&&ke,pageType:O},n.createElement(s.DvuiContainer,{className:r()(f,y,{[C]:ee,[b]:"Store"===Ze&&!Ce,[T]:!0})},n.createElement(D.E,{interactionSource:"LandingPage",playerConfigPageType:O,launchType:U},n.createElement(S.l.Provider,{value:et},n.createElement(X.s6,{pageType:null==J?void 0:J.pageType,subPageType:null==J?void 0:J.subPageType},pt,De&&!Fe&&((e,t,a,n)=>!(a&&!n)||e<30)(Me.containers.length,0,B.isMShop(),Te)&&n.createElement(H,ge({},De,{consumingWidgetType:O,loadMoreContent:Ke,isLoading:Ue})),n.createElement(z.Y,null)))))))}},"./src/shared/Explore/containers/DiscoverPageContainer/index.tsx":(e,t,a)=>{a.d(t,{Z:()=>n.v});var n=a("./src/shared/Explore/containers/DiscoverPageContainer/DiscoverPageContainer.tsx")},"./src/shared/Explore/containers/Live/StationAiringImage/StationAiringImage.tsx":(e,t,a)=>{a.d(t,{H:()=>v});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./node_modules/@amzn/dvui/dist/Icons/PlayArrow.js"),s=a.n(l),o=a("./src/shared/Explore/containers/Live/StationProgressBar/StationProgressBar.tsx");const c="GRZ4PZ",d="HpOtjz",u="cCPxyE",m="NKpvKh",p="FVzqqR";var g=a("./src/shared/Explore/containers/Live/NowPlayingStationCard/NowPlayingStationCard.module.scss");const v=n.memo((({title:e,image:t,startTime:a,endTime:i,showPlayArrow:l})=>{const v=r()(p,g.Z.playArrow);return n.createElement("div",{className:c},l&&n.createElement("div",{className:v},n.createElement("div",{className:d},n.createElement(s(),{color:"white"}))),n.createElement("img",{src:t,alt:e}),n.createElement("div",{className:m}),n.createElement("div",{className:u},n.createElement(o.s,{startTime:a,endTime:i})))}))},"./src/shared/Explore/containers/Live/StationContext/StationContextProvider.tsx":(e,t,a)=>{a.d(t,{s6:()=>ie,wQ:()=>le,ZP:()=>se,MP:()=>re,FG:()=>oe});var n=a("./node_modules/react/index.js"),i=a("./node_modules/@amzn/dvui/dist/Icons/PlayButton.js"),r=a("./node_modules/@amzn/dvui/dist/Badge.js"),l=a("./node_modules/@amzn/dvui/dist/Text.js"),s=a("./src/shared/Explore/components/StationDetails/StationDetails.tsx"),o=a("./src/shared/CS/components/EntitlementMessage/EntitlementMessage.tsx"),c=a("./src/shared/Explore/containers/Live/StationAiringImage/StationAiringImage.tsx"),d=a("./src/shared/Explore/containers/Live/StationPlayTrigger/StationPlayTrigger.tsx");const u="kYjRkI",m="g4Zdop",p="X3pLs1",g="_2pdinU",v="GW+Ly0",h="HQhb-P",y="XSg6ES",f="GRWa3j",b="sLbizp",E="_3eW2Z5",C="MHZyV6",T="OkZrwr";var _=a("./node_modules/@amzn/dvui/dist/Fable/components/MaturityRating/index.js");function k({nowPlaying:e,titleImage:t,modalImage:a,title:k,seriesTitle:I,entitlementMessage:L,entitlementIcon:x,startTime:w,endTime:P,synopsis:S,stationTitle:D,nextBroadcastTitle:N,nextBroadcastStartTime:M,nextUp:R,contentMaturityRating:A,contentMaturityTitle:O,contentMaturityLocale:B,subscriptionLabel:G,subscriptionURL:V,onNowLabel:W,upcomingLabel:F,timeRemaining:H,label:z,appFallbackUrl:j,signInUrl:U,channelId:$,disableJs:q,fallbackUrl:Z,playbackStatus:J,refMarker:K,resumeTime:X,sessionID:Y,videoMaterialType:Q,playbackEnvelope:ee,correlationId:te,expiryTime:ae}){let ne=null;return e&&(ne=n.createElement(d.T,{appFallbackUrl:j,signInUrl:U,channelId:$,disableJs:q,fallbackUrl:Z,playbackStatus:J,refMarker:K,resumeTime:X,sessionID:Y,videoMaterialType:Q,playbackEnvelope:ee,correlationId:te,expiryTime:ae,renderButton:e=>e?n.createElement(n.Fragment,null,n.createElement(i.PlayButton,{width:"2.5em",height:"2.5em"}),z):null})),G&&V&&(ne=n.createElement("a",{className:T,href:V},n.createElement(l.Text,null,G))),n.createElement("article",{className:u},n.createElement("div",{className:m},n.createElement(c.H,{title:null!=I?I:k,image:null!=a?a:t,startTime:w,endTime:P,showPlayArrow:!1})),L&&x&&n.createElement("div",{className:p},n.createElement(o.n,{message:L,icon:x})),ne&&n.createElement("div",{className:g},ne),n.createElement("h2",{id:"airingTitle",className:v},null!=I?I:k),I&&I!==k&&n.createElement("span",{id:"episodeTitle",className:h},k),n.createElement("div",{className:y},e&&n.createElement(n.Fragment,null,n.createElement(r.Badge,{variant:r.BadgeVariant.linear},W),n.createElement("span",null,H)),!e&&n.createElement(n.Fragment,null,n.createElement("span",{className:f},F),n.createElement("span",null,new Date(w).toLocaleTimeString(void 0,{timeStyle:"short"})))),A&&O&&n.createElement("div",{className:b},n.createElement(_.MaturityRating,{rating:A,title:O,ariaLabel:O,locale:B})),S&&n.createElement("p",{id:"airingSynopsis",className:E},S),D&&N&&M&&R&&n.createElement("div",{className:C},n.createElement(s.q,{stationTitle:D,nextBroadcastTitle:N,nextBroadcastStartTime:M,nextUpText:R})),n.createElement("div",null))}function I(e){const t=n.useRef(null),a=n.useRef(!1);return n.useEffect((()=>{if(t.current){var n;const i=document.activeElement,r=t.current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');null===(n=r[0])||void 0===n||n.focus();const l=function(e,t){let a=0;return n=>{if("Escape"!==n.key){if("Tab"===n.key){if(n.preventDefault(),1===e.length)return void e[0].focus();const t=n.shiftKey?-1:1;e[a+t]?(e[a+t].focus(),a+=t):-1===t?(e[e.length-1].focus(),a=e.length-1):(e[0].focus(),a=0)}}else t()}}(r,e.callback);return document.addEventListener("keydown",l,!0),()=>{!a.current&&i&&i instanceof HTMLElement&&i.focus(),document.removeEventListener("keydown",l,!0)}}}),[e.callback]),n.useEffect((()=>{document.addEventListener("mousemove",(function(){a.current=!0}),{capture:!0,once:!0})}),[]),n.createElement("div",{ref:t},e.children)}const L="qIIU6Y",x="e10R8J",w="aFMvan",P="m4v4Uv",S="BPJNVD",D="k2EFOZ",N="KCFUr3",M="CLJbTX",R="Va38SP",A="_04XrhP",O="GIDFX4";function B(e){const t=n.useRef(null),a=n.useRef(!1);n.useEffect((()=>(document.documentElement.style.overflow="hidden",setTimeout((()=>{var e;null===(e=t.current)||void 0===e||e.classList.add(N),setTimeout((()=>{var e,n,i;null===(e=t.current)||void 0===e||e.addEventListener("transitionend",(()=>{var e;a.current=!0,null===(e=t.current)||void 0===e||e.classList.remove(N)}),{capture:!0,once:!0}),null===(n=t.current)||void 0===n||n.classList.add(S),null===(i=t.current)||void 0===i||i.scrollTo({top:0})}),100)}),100),()=>{document.documentElement.style.overflow=""})),[]);const i=()=>{var n,i;a.current&&(a.current=!1,null===(n=t.current)||void 0===n||n.addEventListener("transitionend",e.onClose,{capture:!0,once:!0}),null===(i=t.current)||void 0===i||i.classList.add(D))};return n.createElement("div",{className:L},n.createElement("button",{"data-testid":"station-modal-background-button",className:x,onClick:i}),n.createElement("div",{"data-testid":"station-modal",className:w,id:P,ref:t,role:"dialog","aria-modal":"true","aria-labelledby":"airingTitle","aria-describedby":"airingSynopsis"},n.createElement(I,{callback:i},n.createElement("div",null,e.children),n.createElement("button",{type:"button",onClick:i,className:M},n.createElement("div",{className:R}),n.createElement("div",{className:`${R} ${A}`}),n.createElement("span",{className:O},"Close modal")))),n.createElement("div",null))}const G="(max-width: 27.99em)",V="(min-width: 28em) and (max-width: 55em)",W="(min-width: 54.99em) and (max-width: 87.5em)",F="(min-width: 87.49em) and (max-width: 112.5em)",H="(min-width: 112.49em) and (max-width: 150em)",z="(min-width: 150.01em)";var j=a("./src/shared/Explore/containers/Live/StationLogo/StationLogo.module.scss");function U(){const e=document.createElement("div");e.className=j.Z.frame;const t=document.querySelector(".pv-station-window")||document.body;t.appendChild(e);const a=e.clientWidth,n=e.clientHeight;return t.removeChild(e),{width:a,height:n}}const $=e=>Date.now();function q(e=6e4,t=$){const[a,i]=n.useState(Date.now());return n.useEffect((()=>{const a=new Date,n=1e3*(60-a.getSeconds())+a.getMilliseconds();let r=0;const l=window.setTimeout((()=>{i(t),clearTimeout(l),r=window.setInterval((()=>{i(t)}),e)}),n);return()=>{clearTimeout(l),clearInterval(r)}}),[e,t]),a}var Z=a("./node_modules/classnames/index.js"),J=a.n(Z);const K="_9rkBNX",X="Oj7d3z",Y=e=>{const[t,a]=n.useState(!1),i=n.useRef(void 0),r=n.useRef(new Set);n.useEffect((()=>{if("ATVLive"===e.pageType&&"Home"===e.subPageType)return i.current=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(r.current.add(e.target.textContent),a(!0)):(r.current.delete(e.target.textContent),r.current.size<1&&a(!1))}))}),{threshold:[.1],rootMargin:"0px 0px -50% 0px"}),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}}),[e.pageType,e.subPageType]),n.useEffect((()=>{let e=!1;const t=()=>{if(e)return;e=!0;document.querySelectorAll("[data-entitled=false]").forEach((e=>{var t;null===(t=i.current)||void 0===t||t.observe(e)})),setTimeout((function(){e=!1}),1e3)};return document.addEventListener("scroll",t),()=>{document.removeEventListener("scroll",t)}}),[i]);const l=J()(K,{[X]:t});return n.createElement("div",{className:l,role:"presentation"})};var Q=a("./src/util/utils/hooks/useRemasterGating.ts");const ee=n.createContext(void 0),te=n.createContext(void 0),ae=n.createContext(void 0),ne=n.createContext(void 0),ie=e=>{const{enabled:t}=(0,Q.F)(),[a,i]=n.useState(null),r=n.useRef(new Map),l=function(){const[e,t]=(0,n.useState)({label:"phone",mobile:!0,pixelsPerMinute:7,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:4,stationRowHeight:64});return(0,n.useEffect)((()=>{const e=U().height,a=[{mediaQueryList:window.matchMedia(G),breakPointInfo:{label:"phone",mobile:!0,pixelsPerMinute:6,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:4,stationRowHeight:e}},{mediaQueryList:window.matchMedia(V),breakPointInfo:{label:"tablet",mobile:!0,pixelsPerMinute:6,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:4,stationRowHeight:e}},{mediaQueryList:window.matchMedia(W),breakPointInfo:{label:"tablet-landscape",mobile:!0,pixelsPerMinute:6,nowPlayingThumbnailWidth:0,nowPlayingExtraWidth:72,epgGapWidth:8,stationRowHeight:e}},{mediaQueryList:window.matchMedia(F),breakPointInfo:{label:"laptop",mobile:!1,pixelsPerMinute:6,nowPlayingThumbnailWidth:176,nowPlayingExtraWidth:92,epgGapWidth:12,stationRowHeight:e}},{mediaQueryList:window.matchMedia(H),breakPointInfo:{label:"desktop",mobile:!1,pixelsPerMinute:9,nowPlayingThumbnailWidth:208,nowPlayingExtraWidth:126,epgGapWidth:16,stationRowHeight:e}},{mediaQueryList:window.matchMedia(z),breakPointInfo:{label:"desktop-large",mobile:!1,pixelsPerMinute:12,nowPlayingThumbnailWidth:240,nowPlayingExtraWidth:174,epgGapWidth:24,stationRowHeight:e}}];function n(e){return function(a){a.matches&&(e.stationRowHeight=U().height,t(e))}}const i="function"==typeof a[0].mediaQueryList.addEventListener;return a.forEach((e=>{e.mediaQueryList.matches&&t(e.breakPointInfo),i?e.mediaQueryList.addEventListener("change",e.listener=n(e.breakPointInfo)):e.mediaQueryList.addListener(e.listener=n(e.breakPointInfo))})),()=>{a.forEach((e=>{e.listener&&(i?e.mediaQueryList.removeEventListener("change",e.listener):e.mediaQueryList.removeListener(e.listener))}))}}),[]),e}(),s=q(e.interval,e.useTimeCallback);return n.createElement(ae.Provider,{value:r.current},n.createElement(ne.Provider,{value:s},n.createElement(ee.Provider,{value:i},n.createElement(te.Provider,{value:l},!t&&n.createElement(Y,{pageType:e.pageType,subPageType:e.subPageType}),e.children)),a&&n.createElement(B,{onClose:()=>{i(null)}},n.createElement(k,a))))},re=()=>{const e=n.useContext(ee);if(void 0===e)throw new Error("useDispatchContext must be used within a StationContextProvider");return e},le=()=>{const e=n.useContext(te);if(void 0===e)throw new Error("useBreakpointContext must be used within a StationContextProvider");return e},se=()=>{const e=n.useContext(ae);if(void 0===e)throw new Error("useCSMElementContext must be used within a StationContextProvider");return e},oe=()=>{const e=n.useContext(ne);if(void 0===e)throw new Error("useTimeContext must be used within a StationContextProvider");return e}},"./src/shared/Explore/containers/Live/StationPlayTrigger/StationPlayTrigger.tsx":(e,t,a)=>{a.d(t,{T:()=>o});var n=a("./node_modules/react/index.js"),i=a("./src/shared/player/integration/playbackArea.tsx"),r=a("./src/shared/Explore/ClientImpressions/ImpressionTracker.tsx"),l=a("./src/shared/Explore/containers/Live/StationContext/StationContextProvider.tsx");const s="--Jlwf",o=({renderButton:e,channelId:t,appFallbackUrl:a,fallbackUrl:o,signInUrl:c,refMarker:d,resumeTime:u,videoMaterialType:m,playbackEnvelope:p,correlationId:g,expiryTime:v,playbackExperiences:h})=>{const{onPlay:y,launchType:f}=(()=>{const e=n.useContext(i.ET);if(void 0===e)throw new Error("usePlayerContext must be used within a PlayerContext.Provider");return e})(),b=(0,l.ZP)(),E=e=>{if(t&&b.has(t)){const e=b.get(t);e&&r.F.logManualImpression(e,"Select")}y&&o&&t&&(y({playbackUrl:o,fallbackUrl:a,signInUrl:c,linear:C,contentConfig:{asin:t,videoType:m,trailer:!1,position:u||0,ref:d,playbackEnvelope:g&&p&&v?{correlationId:g,envelope:p,expiration:v}:void 0,playbackExperiences:h}}),e.preventDefault())},C=Boolean(t),T=C&&"EMBEDDED"===f?void 0:o;return Boolean(t&&o)?T?n.createElement("a",{href:T,className:s,onClick:E,"data-testid":"play"},e(!0)):n.createElement("button",{type:"button",className:s,onClick:E,"data-testid":"play"},e(!0)):n.createElement("div",{className:s,"data-testid":"play"},e(!1))}},"./src/shared/Explore/containers/Live/StationProgressBar/StationProgressBar.tsx":(e,t,a)=>{a.d(t,{s:()=>o});var n=a("./node_modules/react/index.js"),i=a("./src/shared/Explore/containers/Live/StationContext/StationContextProvider.tsx"),r=a("./src/shared/Explore/containers/Live/time-utilities/getMinutesDiff.ts");const l="Q-LvUD",s="b-7bt8",o=({startTime:e,endTime:t})=>{const a=(0,i.FG)(),o=Math.round((0,r.H)(e,a)),c=Math.round((0,r.H)(a,t)),d=Math.round((0,r.H)(e,t));return a<e?null:n.createElement("label",null,n.createElement("span",{className:s,suppressHydrationWarning:!0},"currently airing, at ",o," minutes of ",d," minutes of content play time,"),n.createElement("progress",{role:"presentation",className:l,value:d-c,max:d}))}},"./src/shared/Explore/containers/Live/time-utilities/getMinutesDiff.ts":(e,t,a)=>{function n(e,t){return(t-e)/6e4}a.d(t,{H:()=>n})},"./src/shared/Explore/containers/PageContainer/VerticalPaginationController.tsx":(e,t,a)=>{a.d(t,{U:()=>i,a:()=>r});var n=a("./node_modules/react/index.js");const i=n.createContext({entityWithLock:{type:"PAGE"},hideBelowContainerIndex:void 0,actions:{lock:e=>{throw new Error("Cannot execute lock(). VerticalPaginationContext Provider not added.")},unlock:e=>{throw new Error("Cannot execute unlock(). VerticalPaginationContext Provider not added.")},hideBelow:e=>{throw new Error("Cannot execute hideBelow(). VerticalPaginationContext Provider not added.")},unhideBelow:e=>{throw new Error("Cannot execute unhideBelow(). VerticalPaginationContext Provider not added.")},resetAll:()=>{throw new Error("Cannot execute resetAll(). VerticalPaginationContext Provider not added.")}}});i.displayName="VerticalPaginationContext";const r=({children:e})=>{const[t,a]=n.useState(null),r=n.useRef([]);let l=n.useRef([]);const[s,o]=n.useState(void 0),c=n.useMemo((()=>{let e={type:"PAGE"};null!==t&&(e={type:"CONTAINER",containerIndex:t});return{entityWithLock:e,hideBelowContainerIndex:s,actions:{lock:e=>{var n;(r.current.includes(e)||r.current.push(e),null===t)&&a(null!==(n=r.current.shift())&&void 0!==n?n:null)},unlock:e=>{var n;t===e&&a(null!==(n=r.current.shift())&&void 0!==n?n:null)},hideBelow:e=>{void 0===s?o(e):l.current.includes(e)||l.current.push(e)},unhideBelow:e=>{s===e?o(l.current.shift()):l.current=l.current.filter((t=>t!==e))},resetAll:()=>{a(null),o(void 0),l.current=[]}}}}),[t,s]);return n.createElement(i.Provider,{value:c},e)}},"./src/shared/Explore/containers/PageContainer/index.tsx":(e,t,a)=>{a.d(t,{_z:()=>C,lO:()=>f,zm:()=>b});var n=a("./node_modules/react/index.js"),i=a("./src/shared/Explore/utils/cssUtils.ts"),r=a("./src/util/utils/swiftDevice.ts"),l=a("./src/util/wrappers/LoggersContext.tsx"),s=a("./src/util/utils/hooks/useHasMounted.ts"),o=a("./src/util/utils/array.ts"),c=a("./src/util/utils/debounce.ts"),d=a("./src/util/logger/kirup.ts"),u=a("./src/util/utils/sample.ts"),m=a("./src/shared/Explore/containers/PageContainer/VerticalPaginationController.tsx"),p=a("./node_modules/fast-deep-equal/index.js");const g=[r.fv.DesktopLinuxVariant,r.fv.DesktopWindowsVariant,r.fv.DesktopOSXVariant,r.fv.DesktopDefaultVariant,r.fv.DesktopBrowserVariant],v=r.fv.TabletDefaultVariant,h=[r.fv.MshopIOSVariant,r.fv.MshopAndroidVariant,r.fv.MshopDefaultVariant,r.fv.MobileAndroidVariant,r.fv.MobileDefaultVariant],y=n.createContext(void 0);y.displayName="PageContext";const f=()=>{const e=n.useContext(y);if(void 0===e)throw new Error("usePageContext must be used within a PageContext.Provider");return e},b=()=>n.useContext(y);(0,i.eE)();const E=e=>{const[t,a]=n.useState(0),[l,f]=n.useState(!0),[b,E]=n.useState(!0),[C,T]=n.useState(!1),[_,k]=n.useState(!1),[I,L]=n.useState(!1),[x,w]=n.useState({visible:new Map,min:null,max:null}),P=(0,s.f)();function S(){L(!0)}function D(){L(!1)}function N(){f("visible"===document.visibilityState)}n.useEffect((()=>{const t="undefined"!=typeof window&&"undefined"!=typeof navigator&&("ontouchstart"in window||navigator.maxTouchPoints>0||(null!==(n=navigator.msMaxTouchPoints)&&void 0!==n?n:0)>0);var n;const l=e.os===r.U5.Windows&&window.matchMedia("(any-pointer: coarse)").matches;T(t),E((e=>{var t;if("undefined"==typeof window)return!0;const a=null===(t=navigator.userAgent)||void 0===t?void 0:t.match("[a-z]{2}-[a-z]{3}-[a-z]{3}@[a-z]{6}.[a-z]{3}");return window.matchMedia("(hover: hover)").matches||e||!!a&&a.length>0})(l)),k(l);const s=(a,n)=>{if(n){const i=t?"TouchScreen":"NonTouchScreen";e.logger.count(`DVWeb::Storefront::${a}::${i}::${n}`,1,!1),(0,u.d)(10,(()=>{d.c.count("DVWebPageOrientation",{Page:a,InteractionType:i,Orientation:n})}))}},o=()=>"undefined"==typeof window?null:window.innerWidth<window.innerHeight?"Portrait":"Landscape";let m=o();s("OnLoad",m),(0,i.eE)();const p=(0,c.D)((()=>{const e=o();e!==m&&(m=e,s("OnResize",m)),(0,i.eE)(),a(window.innerWidth)}),300);return"undefined"!=typeof window&&(window.addEventListener("resize",p),a(window.innerWidth)),document.addEventListener("visibilitychange",N),document.addEventListener("PVVideoPlayerPlay",S),document.addEventListener("PVVideoPlayerClosed",D),()=>{"undefined"!=typeof window&&window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",N),document.removeEventListener("PVVideoPlayerPlay",S),document.removeEventListener("PVVideoPlayerClosed",D)}}),[]);const M=n.useCallback(((e,t)=>{var a,n;const i=x.visible;i.set(e,t);const r=new Array;for(const[e,t]of i)t&&(0,o.y)(r,e);const l={visible:i,min:null!==(a=r[0])&&void 0!==a?a:null,max:null!==(n=r[r.length-1])&&void 0!==n?n:null};p(l,x)||w(l)}),[x]),R=g.indexOf(e.deviceVariant)>-1,A=e.deviceVariant===v,O=h.indexOf(e.deviceVariant)>-1,B=n.useCallback((t=>(e.strings||{})[t]||""),[e.strings]),G=e.swiftPageParameters&&"resiliencyHome"===e.swiftPageParameters.pageType||!1,V=n.useMemo((()=>{var a,n,i;return{pageWidth:t,isTouchDevice:C,isHoverEnabled:b,isDesktopDeviceVariant:R,isTabletDeviceVariant:A,isMobileDeviceVariant:O,isPageVisible:l,hasPageMounted:P,getString:B,theme:e.theme,isInResiliencyMode:G,clickstream:e.clickstream,clickstreamPageContext:e.clickstreamPageContext,onContainerVisibilityChange:M,containerVisibility:x,enableVerticalPerformantRender:null!==(a=e.enableVerticalPerformantRender)&&void 0!==a&&a,contingencies:e.contingencies,isPlayerVisible:I,isTouchEnabledWindowsDevice:_,shouldDarkenImage:null!==(n=e.shouldDarkenImage)&&void 0!==n&&n,shouldAlwaysShowMaturityRating:null!==(i=e.shouldAlwaysShowMaturityRating)&&void 0!==i&&i,testDebugFlags:e.testDebugFlags,pageType:e.pageType}}),[B,R,G,l,A,O,P,C,b,t,e.clickstream,e.clickstreamPageContext,e.theme,M,x,e.enableVerticalPerformantRender,e.contingencies,I,_,e.shouldDarkenImage,e.shouldAlwaysShowMaturityRating,e.testDebugFlags,e.pageType]);return n.createElement(y.Provider,{value:V},n.createElement(m.a,null,e.children))};E.displayName="PageContainer";const C=(0,l.ty)(E)},"./src/shared/Explore/containers/PaginationApiController/PaginateViaPaginateCollectionAPI.tsx":(e,t,a)=>{a.d(t,{Z:()=>c});var n=a("./src/shared/Stores/context.ts"),i=a("./src/util/api/swiftCommonArgs.ts"),r=a("./src/util/api/WPSClient.ts"),l=a("./node_modules/react/index.js"),s=a("./src/shared/Explore/containers/PaginationApiController/PaginationApiContext.tsx");const o=new r.eZ,c=({children:e,device:t,swiftPageParameters:a,swiftCustomerFeature:r,myStuffViewType:c,myStuffManageFilter:d,requestFeatureSwitches:u})=>{const m=l.useMemo((()=>{if(!a||!r)return{paginateContainer:void 0};return{paginateContainer:async e=>{var l;const{paginationTargetId:s,serviceToken:m,startIndex:p,isPurchaseAndRentalCarousel:g,journeyIngressContext:v}=e,h=(0,n.getRequestContext)(),y=await o.PaginateCollection({context:h,pageType:a.pageType,pageId:a.pageId,collectionType:"Container",paginationTargetId:s,serviceToken:m,startIndex:p,isCleanSlateActive:!0,...c&&{myStuffViewType:c},...d&&{myStuffManageFilter:d},...g&&{isPurchaseAndRentalCarousel:g},...(0,i.Xc)({customerFeature:r,domain:h.domain,isInternal:h.isInternal,queryParameters:h.queryParameters,device:t,requestFeatureSwitches:u}),journeyIngressContext:v,isRemasterEnabled:null!==(l=null==u?void 0:u.isRemasterEnabled)&&void 0!==l&&l});return{entities:y.entities,hasMoreItems:y.hasMoreItems,startIndex:y.startIndex,pagination:y.pagination}}}}),[u,r,a,c,d]);return l.createElement(s.I.Provider,{value:m},e)}},"./src/shared/Explore/containers/PaginationApiController/PaginationApiContext.tsx":(e,t,a)=>{a.d(t,{I:()=>n});const n=a("./node_modules/react/index.js").createContext({});n.displayName="PaginationApiContext"},"./src/shared/Explore/containers/RotatingCarousel/index.tsx":(e,t,a)=>{a.d(t,{Z:()=>O,n:()=>R});var n=a("./node_modules/react/index.js"),i=a("./node_modules/classnames/index.js"),r=a.n(i),l=a("./src/util/utils/math.ts"),s=a("./src/util/wrappers/ArgsContext.tsx"),o=a("./src/shared/Explore/hooks/useIsResizing/useIsResizing.tsx");const c="data-smooth-scroll",d=e=>{var t;const{containerRef:a,containerWidth:i,enable:r,moveTo:d}=e,{render:u}=(0,s.G4)(),m=(0,o.y)({resetDelay:500}),[p,g]=n.useState(0),v=n.useRef(!1),h=n.useRef(0);n.useEffect((()=>{var e,t;r&&!m?h.current=null!==(e=null===(t=a.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==e?e:0:v.current=!1}),[r,m]),n.useEffect((()=>{if(!d||!a.current||!r)return;const e=a.current,{scrollLeft:t}=e,n=()=>e.scrollTo({left:t+i}),l=()=>e.scrollTo({left:t-i});e.setAttribute(c,"true"),null!=u&&u.isRTL?"NEXT"===d.type?l():n():"NEXT"===d.type?n():l();const s=setTimeout((()=>{e.removeAttribute(c)}),1e3);return()=>clearTimeout(s)}),[d]),n.useEffect((()=>{if(!r)return;if(m)return;const e=()=>{var e,t;const n=null!==(e=null===(t=a.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==e?e:0;g(Math.abs(n)),v.current||Math.abs(n-h.current)>50&&(v.current=!0)},t=a.current,n=setTimeout((()=>{null==t||t.addEventListener("scroll",e,{passive:!0})}),500);return()=>{clearTimeout(n),null==t||t.removeEventListener("scroll",e)}}),[r,m,a]);const y=n.useRef(0);y.current=null!==(t=function(e,t){if(0===t)return;const a=e/t,n=l.m.getOnlyDecimal(a);if(n>.01&&n<.99)return;return n<.5?Math.floor(a):Math.ceil(a)}(p,i))&&void 0!==t?t:y.current;const f=m?"activeOnly":v.current?"all":"activeAndNext";return{scrollIndex:y.current,scrollLock:f}};var u=a("./src/util/wrappers/LoggersContext.tsx");const m=1e3,p=e=>{const{containerRef:t,cardsCount:a,containerWidth:i,animationType:r,moveTo:l}=e,{logger:o}=(0,u.L1)(),[c,p]=n.useState(a<=1?{type:"SINGLE_ITEM"}:"SCROLLING"===r?{type:"SCROLLING",scrollLock:"activeAndNext",cards:v(0,a),activeScrollIndex:1002,virtualPaddingCount:m}:{type:"FADING",cardsSet:new Set(v(0,a)),activeCard:0});n.useEffect((()=>{if("SCROLLING"===r&&"FADING"===c.type){const e=c.activeCard;p({type:"SCROLLING",scrollLock:"activeAndNext",activeScrollIndex:1002+e,cards:v(e,a),virtualPaddingCount:m+e})}else if("FADING"===r&&"SCROLLING"===c.type){const e=g(c.activeScrollIndex,a);p({type:"FADING",cardsSet:new Set(v(e,a)),activeCard:e})}}),[r]);const{scrollIndex:h,scrollLock:y}=d({containerRef:t,containerWidth:i,enable:"SCROLLING"===c.type,moveTo:l}),f=n.useRef(!1);n.useEffect((()=>{if("SCROLLING"!==c.type)return;const e={...c,scrollLock:y};if(!h||"activeOnly"===y)return void p(e);if(h<=3)return p({...e,activeScrollIndex:h,cards:c.cards,virtualPaddingCount:1}),void(f.current||(o.warn("User clicked 1000 times on the left arrow"),f.current=!0));const t=v(g(h,a),a),n=h-(0===c.activeScrollIndex?h:c.activeScrollIndex);p({...e,activeScrollIndex:h,cards:t,virtualPaddingCount:c.virtualPaddingCount+n})}),[h,y]);const{swipe:b}=(e=>{var t;const{containerRef:a,enable:i}=e,{render:r}=(0,s.G4)(),l=null!==(t=null==r?void 0:r.isRTL)&&void 0!==t&&t,[o,c]=n.useState(void 0),d=n.useRef(0);return n.useEffect((()=>{e.moveTo&&c(e.moveTo)}),[e.moveTo]),n.useEffect((()=>{if(!i)return;const e=e=>{d.current=e.changedTouches[0].pageX},t=e=>{let t=e.changedTouches[0].pageX-d.current;Math.abs(t)>100&&(t=l?-t:t,c(t>0?{type:"PREV"}:{type:"NEXT"}))},n=a.current;return null==n||n.addEventListener("touchstart",e,{passive:!0}),null==n||n.addEventListener("touchend",t,{passive:!0}),()=>{null==n||n.removeEventListener("touchstart",e),null==n||n.removeEventListener("touchend",t)}}),[i,a,l]),n.useMemo((()=>({swipe:o})),[o])})({containerRef:t,enable:"FADING"===c.type,moveTo:l});return n.useEffect((()=>{if("FADING"!==c.type)return;if(!b)return;let e=c.activeCard;e="PREV"===b.type?(e-1+a)%a:(e+1)%a;const t=new Set(v(e,a));p({...c,cardsSet:t,activeCard:e})}),[b]),c};function g(e,t){const a=1002;return((e>=a?e-a:t-(a-e))+t)%t}function v(e,t){const a=[];return a.push((e+t-2)%t),a.push((e+t-1)%t),a.push(e%t),a.push((e+1)%t),a.push((e+2)%t),a}const h="ouk2it",y="yYlmw4",f="J3G1iw",b="izeqMI",E="yFF3Ko",C="k8jjlu",T="sk4PHz",_="y3DjUX",k="riw8-2",I="xjn8gj",L="_6IkZEw",x="EPJToK",w="zLhu8I",P="NgnnQH";var S=a("./src/util/utils/debounce.ts");function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},D.apply(this,arguments)}const N={activeOnly:b,activeAndNext:C,all:T},M=({animationType:e="FADING",allowBleedInFading:t=!0,cardsCount:a,renderCard:i,onActiveCardChange:l,moveTo:s})=>{const o=n.useRef(null),[c,d]=n.useState(0),u=n.useDeferredValue(c),m=(e=>{const{containerRef:t}=e,[a,i]=n.useState(0);return n.useEffect((()=>{const e=()=>{t.current&&i(parseInt(window.getComputedStyle(t.current).width))},a=(0,S.D)((()=>{e()}),10);return e(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}}),[]),a})({containerRef:o}),v=p({containerRef:o,cardsCount:a,containerWidth:m,animationType:e,moveTo:s}),[b,C]=n.useState(!1);if(n.useEffect((()=>{C(!1),"FADING"===e&&(0,S.D)((()=>C(!0)),100)()}),[e]),n.useEffect((()=>{let e=0;"FADING"===v.type?e=v.activeCard:"SCROLLING"===v.type&&(e=g(v.activeScrollIndex,a)),"number"==typeof e&&(null==l||l(e),d(e))}),[a,l,v]),"SINGLE_ITEM"===(null==v?void 0:v.type))return n.createElement("ul",{className:h,"data-testid":"single-item-carousel","data-cards-count":a},n.createElement("li",{className:y},i(0,!0)));if("SCROLLING"===(null==v?void 0:v.type)){const{activeScrollIndex:e,cards:t,virtualPaddingCount:l,scrollLock:s}=v;return n.createElement("ul",{ref:o,className:r()(f,N[s]),"data-testid":"scrolling-rotating-carousel","data-active-scroll-index":e,"data-cards-count":a},n.createElement("li",{className:_,style:{width:m*l},"aria-hidden":!0,"data-virtualised-count":l},"♥"),t.map(((t,a)=>{const s=l+a,o=e===s,c=A({cardIndex:t,active:o,activeCardDeferred:u});return c["data-scroll-index"]=s,n.createElement("li",D({key:s,className:r()(y,{[E]:o})},c),i(t,o))})))}if("FADING"===(null==v?void 0:v.type)){const{activeCard:e,cardsSet:l}=v;return n.createElement("ul",{ref:o,className:r()(k,{[P]:!b}),"data-testid":"fading-rotating-carousel","data-cards-count":a},[...l].map((l=>{const s=l===e,o=A({cardIndex:l,active:s,activeCardDeferred:u}),c=function({activeCard:e,cardIndex:t,cardsCount:a}){if(e===t)return L;if(t===e-1||0===e&&t===a-1)return x;if(t===e+1||e===a-1&&0===t)return w}({cardsCount:a,activeCard:e,cardIndex:l});return n.createElement("li",D({key:l,className:r()(y,c,{[I]:t})},o),i(l,s))})))}return null};function R(){const[e,t]=n.useState(void 0);return{movePrev:()=>t({type:"PREV"}),moveNext:()=>t({type:"NEXT"}),moveTo:e}}function A({cardIndex:e,active:t,activeCardDeferred:a}){const n={"data-index":e};return t&&(n["data-active"]=!0),a!==e&&(n.inert=""),n}M.displayName="RotatingCarousel";const O=M},"./src/shared/Explore/containers/StandardCarousel/StandardCarouselPageClearance.tsx":(e,t,a)=>{a.d(t,{Y:()=>s});var n=a("./node_modules/react/index.js"),i=a("./src/shared/Explore/containers/PageContainer/index.tsx"),r=a("./src/shared/Explore/containers/StandardCarousel/StandardCarousel.module.scss"),l=a("./src/shared/Stores/context.ts");const s=()=>{const e=(0,l.getRequestContext)(),{isTouchDevice:t}=(0,i.lO)();return t||"Fogg"!==e.domain?null:n.createElement("div",{"aria-hidden":"true",className:r.Z.pageEndClearance,"data-testid":"page-clearance"})}},"./src/shared/Explore/hooks/IsHoveringHook/useIsHovering.ts":(e,t,a)=>{a.d(t,{x:()=>i});var n=a("./node_modules/react/index.js");function i(){const[e,t]=n.useState(0),[a,i]=(0,n.useState)(!1),r=t=>{!0===t?(new Date).getTime()-e>1e3&&i(!0):i(!1)},[l,s]=(0,n.useState)(!1),o=()=>s(!0);return{isHovering:a,onTouchStart:()=>{t((new Date).getTime())},onMouseEnter:()=>{o(),r(!0)},onMouseLeave:()=>{o(),r(!1)},onMouseMove:l?void 0:e=>{if(o(),!(e.target instanceof Element))return;const t=e.target.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom?r(!0):r(!1)}}}},"./src/shared/Explore/hooks/TestDebugFlagsHooks/testDebugFlags.ts":(e,t,a)=>{a.d(t,{D:()=>r});var n=a("./node_modules/react/index.js"),i=a("./src/shared/Stores/context.ts");function r(){const[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(!1),[l,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t((0,i.isInternal)()&&window&&window.location.search.includes("miniDetailsDebug")),r((0,i.isInternal)()&&window&&window.location.search.includes("disableFallbackPlaybackActions"))}),[]),(0,n.useEffect)((()=>{const e=window.matchMedia("screen and (prefers-reduced-motion: reduce)");function t(e){s(e.matches)}s(e.matches||window&&window.location.search.includes("useReducedMotion"));const a="function"==typeof e.addEventListener;return a?e.addEventListener("change",t):e.addListener(t),()=>{a?e.removeEventListener("change",t):e.removeListener(t)}}),[]),{miniDetailsDebug:e,useReducedMotion:l,disableFallbackPlaybackActions:a}}},"./src/shared/Explore/hooks/useIsResizing/useIsResizing.tsx":(e,t,a)=>{a.d(t,{y:()=>i});var n=a("./node_modules/react/index.js");const i=({resetDelay:e})=>{const[t,a]=n.useState(!1);return n.useEffect((()=>{let t=0;const n=()=>{a(!0),clearTimeout(t),t=window.setTimeout((()=>{a(!1)}),e)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),clearTimeout(t)}}),[]),t}},"./src/shared/Explore/shared/navigation.ts":(e,t,a)=>{a.d(t,{Au:()=>n,Gz:()=>r,mP:()=>i});const n="pv-nav-container",i=880,r=599},"./src/shared/Explore/utils/GlobalQueueHandler.tsx":(e,t,a)=>{a.d(t,{Z:()=>s});var n=a("./src/util/api/WPSClient.ts");const i=(e,t,a,n,i,r,l,s)=>{const o=(c=e)&&JSON.stringify(c);var c;const d=((e,t,a,n,i,r,l)=>({placement:e,playback:t,preroll:a,trailer:n,watchlist:i,badge:r,impressionData:l}))(t,a,n,i,r,l,s&&encodeURIComponent(s));var u;return{metadataToEnrich:(u=d)&&JSON.stringify(u),titleIDsToEnrich:o}};var r=a("./src/shared/Stores/context.ts");function l(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class s{constructor(e=1500,t=!1){l(this,"ctx",void 0),l(this,"queueMap",{}),l(this,"finished",[]),l(this,"timeout",void 0),l(this,"titleIdsForBadgeRequest",[]),l(this,"isRemasterEnabled",!1),l(this,"parseBatchKey",(e=>JSON.parse(e))),l(this,"handleQueue",(e=>{if(!this.ctx||!this.getQueue(e)||0==this.getQueue(e).length)return;const t=this.getQueue(e).splice(0,30);this.finished=[...this.finished,...t];const a=t.map((e=>e.title)),r=this.parseBatchKey(e),l=r.canRequestPreroll,o=r.canRequestTrailer,c=t.some((e=>this.titleIdsForBadgeRequest.includes(e.title))),d=i(a,r.placement,!0,l,o,!0,c,r.impressionData);(new n.eZ).EnrichItemMetadata({context:this.ctx,...d,journeyIngressContext:r.journeyIngressContext,isRemasterEnabled:this.isRemasterEnabled,currentUrl:window.location.href}).then((t=>{this.clearTimer(e);const n=s.enrichmentMap[e];s.enrichmentMap={...s.enrichmentMap,[e]:{...n,...t.enrichments}},this.broadcastChanges(t.enrichments,a,e),null!=t.isTrailerAutoplayEnabled&&(s.isTrailerAutoplayEnabled=t.isTrailerAutoplayEnabled),this.queueFull(e)?this.handleQueue(e):this.getQueue(e).length>0&&this.setTimer(e)})).catch((()=>this.broadcastChanges({},a,e)))})),this.ctx=(0,r.getRequestContext)(),this.timeout=e,this.isRemasterEnabled=t}enrichmentFor(e,t="HOVER",a,n=!0,i=!0){var r;if(!e)return;const l=this.batchKey(t,a,void 0,n,i);return null===(r=s.enrichmentMap[l])||void 0===r?void 0:r[e]}enrichmentPromise(e,t="HOVER",a,n=!1,i=!0,r=!0,l=!1,o){return new Promise(((c,d)=>{if(!e)return d();const u=this.batchKey(t,a,o,i,r),m={title:e,placement:t,journeyIngressContext:a,impressionData:o,canRequestPreroll:i,canRequestTrailer:r},p=this.isTitleDetailIncluded(this.finished,m)&&!n&&s.enrichmentMap[u]&&s.enrichmentMap[u][e],g=l&&p&&!this.titleIdsForBadgeRequest.includes(e);if(p&&!g)return c(p);{this.isTitleDetailIncluded(this.getQueue(u),m)||this.getQueue(u).push(m),l&&!this.titleIdsForBadgeRequest.includes(e)&&this.titleIdsForBadgeRequest.push(e);const t=this.getOrSet(s.resolverMap,u,{})[e]||[];s.resolverMap[u][e]=[...t,c];const a=this.getOrSet(s.rejecterMap,u,{})[e]||[];s.rejecterMap[u][e]=[...a,d],this.queueFull(u)?this.handleQueue(u):this.getTimer(u)||this.setTimer(u)}}))}batchKey(e,t,a,n,i){return JSON.stringify({placement:e,journeyIngressContext:t,impressionData:a,canRequestPreroll:n,canRequestTrailer:i})}getQueueAndTimer(e){return this.queueMap[e]||(this.queueMap[e]={timer:void 0,queue:[]}),this.queueMap[e]}getQueue(e){return this.getQueueAndTimer(e).queue}getTimer(e){return this.getQueueAndTimer(e).timer}isTitleDetailIncluded(e,t){return e.some((e=>e.title===t.title&&e.placement===t.placement&&e.journeyIngressContext===t.journeyIngressContext&&e.impressionData===t.impressionData))}getOrSet(e,t,a){return e[t]=e[t]||a,e[t]}queueFull(e){return this.getQueue(e).length>=30}setTimer(e){this.getQueueAndTimer(e).timer=window.setTimeout(this.handleQueue,this.timeout,e)}clearTimer(e){window.clearTimeout(this.getTimer(e)),this.getQueueAndTimer(e).timer=void 0}broadcastChanges(e,t,a){t.forEach((t=>{const n=e[t],i=s.resolverMap[a][t],r=s.rejecterMap[a][t];s.resolverMap[a][t]=[],s.rejecterMap[a][t]=[],i&&n?i.forEach((e=>e(n))):r&&!n&&r.forEach((e=>e(`EnrichItemMetadata failed to respond with enrichment for title ID ${t} with batch key ${a}`)))}))}}l(s,"enrichmentMap",{}),l(s,"resolverMap",{}),l(s,"rejecterMap",{}),l(s,"isTrailerAutoplayEnabled",!0)},"./src/shared/Explore/utils/baseContainerApiInteractions.ts":(e,t,a)=>{a.d(t,{C:()=>l});var n=a("./src/util/api/APIClient.ts"),i=a("./src/util/utils/serializeFormData.ts"),r=a("./src/util/api/WPSClient.ts");const l={hideThis:async e=>{var t,a,n,r,l;const o={tag:null===(t=e.endpoint)||void 0===t||null===(t=t.query)||void 0===t?void 0:t.tag,token:null===(a=e.endpoint)||void 0===a||null===(a=a.query)||void 0===a?void 0:a.token,titleId:null===(n=e.endpoint)||void 0===n||null===(n=n.query)||void 0===n?void 0:n.titleId,titleType:null===(r=e.endpoint)||void 0===r||null===(r=r.query)||void 0===r?void 0:r.titleType},c=null===(l=e.endpoint)||void 0===l?void 0:l.partialURL,d=(0,i.V)(o);return s(c,d)},toggleWatchlist:async(e,t)=>{var a,n,r;const l=null!==(a=null===(n=e.endpoint)||void 0===n?void 0:n.query)&&void 0!==a?a:{},o=null===(r=e.endpoint)||void 0===r?void 0:r.partialURL;if(!e.ajaxEnabled){const e=new URLSearchParams(l).toString();return void(window.location.href=`${o}?${e}`)}l.relatedRequestId=null==t?void 0:t.requestID;const c=(0,i.V)(l);return s(o,c)},setLiveEventsCustomerIntent:async(e,t)=>await(new r.eZ).SetLiveEventsCustomerIntent({context:t,...e}),libraryItemStateChange:async(e,t)=>await(new r.eZ).LibraryStateChange({context:t,titleID:e.titleID,token:e.token,state:e.state}),setReaction:async(e,t,a,n,i,l)=>await(new r.eZ).SetReaction({context:i,gti:e,csrfToken:t,reaction:a,reactionTag:n,feedbackSource:l})},s=async(e,t)=>{const a=new n.l;return await a.call(e,{credentials:"include",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-requested-with":"XMLHttpRequest"},body:t})}},"./src/shared/Explore/utils/contingencies.ts":(e,t,a)=>{a.d(t,{Q:()=>n});const n=e=>{var t,a;return{disableHover:null!==(t=null==e?void 0:e.disableHover)&&void 0!==t&&t,disableEnrichItemMetadata:null!==(a=null==e?void 0:e.disableEnrichItemMetadata)&&void 0!==a&&a}}},"./src/shared/Explore/utils/cssUtils.ts":(e,t,a)=>{a.d(t,{My:()=>l,eE:()=>s,pm:()=>r});const n=["--dv-carousel-column-margin","--dv-carousel-column-gap","--dv-current-target-screen","--side-panel-width"];let i=new Map;function r(e){var t;return null!==(t=i.get(e))&&void 0!==t?t:""}function l(e,t=0){const a=parseInt(r(e));return isNaN(a)?t:a}function s(){if("undefined"==typeof window)return;const e=new Map,t=window.getComputedStyle(document.documentElement);n.forEach((a=>{e.set(a,t.getPropertyValue(a))})),i=e}},"./src/shared/Explore/utils/highValueActionsUtils.ts":(e,t,a)=>{a.d(t,{h:()=>r});var n=a("./src/util/utils/sample.ts"),i=a("./src/util/logger/kirup.ts");const r=(e,t,a,r)=>{(0,n.d)(null!=r?r:10,(()=>{i.c.count("DVWebHighValueAction",null!=a?a:1,{ContainerType:t,Action:e})}))}},"./src/shared/Explore/utils/pageWidth.ts":(e,t,a)=>{a.d(t,{A:()=>r,b:()=>i});var n=a("./src/shared/Explore/utils/cssUtils.ts");let i=function(e){return e[e.PHONE_PORTRAIT=5]="PHONE_PORTRAIT",e[e.PHONE=10]="PHONE",e[e.TABLET_SMALL=15]="TABLET_SMALL",e[e.TABLET=20]="TABLET",e[e.LAPTOP=30]="LAPTOP",e[e.DESKTOP=40]="DESKTOP",e[e.DESKTOP_HD=50]="DESKTOP_HD",e[e.DESKTOP_UHD=60]="DESKTOP_UHD",e}({});class r{static is(e){const t=l();switch(e){case i.PHONE:return t===i.PHONE_PORTRAIT||t===i.PHONE;case i.TABLET:return t===i.TABLET_SMALL||t===i.TABLET;default:return t===e}}static isAtleast(e){return l()>=e}static isAtmost(e){return l()<=e}static isSmallerThan(e){return l()<e}static isLargerThan(e){return l()>e}}function l(){const e=(0,n.pm)("--dv-current-target-screen");return e?parseInt(e):0}},"./src/shared/Explore/utils/urlChecker.ts":(e,t,a)=>{a.d(t,{Z:()=>i});var n=a("./src/util/logger/logger.ts");function i({url:e,info:t}){if(void 0!==e&&"string"!=typeof e){new n.Oc(`DVWebNode:${t}:URLError`).error(e)}return e}},"./src/shared/Live/components/Playback/Playback.tsx":(e,t,a)=>{a.d(t,{TD:()=>T,xU:()=>L,DC:()=>k,vx:()=>_,Sj:()=>x,Ro:()=>I});var n=a("./node_modules/@amzn/dvui/dist/Text.js"),i=a("./node_modules/react/index.js"),r=a("./src/shared/Live/components/Playback/playback.module.scss"),l=a("./node_modules/classnames/index.js"),s=a.n(l),o=a("./node_modules/@amzn/dvui/dist/Fable/components/Button/index.js"),c=a("./node_modules/@amzn/dvui/dist/Icons/PlayArrow.js"),d=a.n(c),u=a("./node_modules/@amzn/dvui/dist/Icons/StartOver.js"),m=a.n(u),p=a("./node_modules/@amzn/dvui/dist/Icons/RapidRecap.js"),g=a.n(p),v=a("./src/util/types/wps/shared.ts"),h=a("./src/util/utils/hooks/useRemasterGating.ts");function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y.apply(this,arguments)}const f=({playbackStatus:e})=>{const t=e===v.PO.RapidRecap,a=e===v.PO.FromBeginning||e===v.PO.FromEarliest;return t?i.createElement(g(),null):a?i.createElement(m(),null):i.createElement(d(),null)},b=({playbackStatus:e,className:t,children:a,...n})=>{const r=i.createElement(f,{playbackStatus:e}),{enabled:l}=(0,h.F)(),c=l?o.PrimaryLinkButton:o.SecondaryLinkButton;return i.createElement(c,y({},n,{icon:r,className:s()(t)}),i.createElement("span",null,a))},E="_1EJvy-";var C=a("./src/util/utils/refMarker.ts");const T=({playbackContent:e,isMShop:t,triggerPlayback:a})=>e?i.createElement("div",{className:`${E} ${r.Z.playback} dv-shared-node-playback`},i.createElement(b,{href:t?void 0:e.playbackUrl,onClick:a,playbackStatus:e.playbackStatus,className:r.Z.squareButton,"data-testid":"play"},i.createElement(n.Text,{tag:"span",string:e.label}))):null,_=e=>null==e?void 0:e.playbackExperiences,k=e=>null!=e&&e.playbackEnvelope?{envelope:e.playbackEnvelope,correlationId:e.correlationId,expiration:e.expiryTime}:void 0,I=(e,t)=>{var a;return(null==e||null===(a=e.playbackActionDataList)||void 0===a?void 0:a.map((e=>({contentConfig:{asin:e.playbackID,trailer:!1,position:e.resumeTime,ref:e.playerRefMarker,videoType:e.videoMaterialType,useFullView:!0,playbackEnvelope:k(e),playbackExperiences:_(e)},signInUrl:e.signInURL,playbackUrl:e.playbackURL,fallbackUrl:e.fallbackURL,isBonus:!1,label:e.label,triggerLocation:t,subscriptionName:e.subscriptionName,refMarker:e.refMarker,playbackStatus:e.playbackStatus}))))||[]},L=e=>e.playbackActions.map((t=>{var a,n;return{playbackUrl:t.fallbackUrl,fallbackUrl:t.appFallbackUrl,signInUrl:t.signInUrl,contentConfig:{asin:null!==(a=t.titleID)&&void 0!==a?a:t.channelId,videoType:t.videoMaterialType,trailer:!1,position:t.resumeTime||e.defaultResumeTime,ref:t.refMarker,playbackEnvelope:null!==(n=t.playbackExperienceMetadata)&&void 0!==n&&n.playbackEnvelope?{envelope:t.playbackExperienceMetadata.playbackEnvelope,correlationId:t.playbackExperienceMetadata.correlationId,expiration:t.playbackExperienceMetadata.expiryTime}:void 0,playbackExperiences:t.playbackExperiences},triggerLocation:e.triggerLocation,playbackStatus:t.playbackStatus,label:t.label,refMarker:(0,C.vA)(e.carouselRefTag,t.videoMaterialType,t.playbackStatus),linear:Boolean(t.channelId)}}))||[],x=(e,t)=>{var a;const n=null!==(a=null==t?void 0:t.actionSegments.flatMap((e=>e.actions)))&&void 0!==a?a:[];if(0!=n.length&&n.every((e=>"PLAY"==e.actionType&&e.payload.playbackPayload))){var i,r;return{playbackActions:n.map((e=>({...e.payload.playbackPayload,label:e.decoration.label}))),groupTreatments:{displayTreatments:{label:e}},groupMetadata:{behaviour:"COLLAPSED",deeplinkUrl:null==t||null===(i=t.modalDeeplink)||void 0===i?void 0:i.url,fallbackUrl:null==t||null===(r=t.modalDeeplink)||void 0===r?void 0:r.deeplinkFallbackUrl}}}}},"./src/shared/Live/components/Playback/clickstream.ts":(e,t,a)=>{a.d(t,{DU:()=>d,Tk:()=>s,Z8:()=>o,pW:()=>c});var n=a("./src/shared/utils/analytics/recordReftag.tsx"),i=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),r=a("./src/util/logger/kirup.ts"),l=a("./src/widgets/DVWebNodeLive/utils/logging.ts");const s=(e,t,a)=>{e&&r.c.count(`${l.E}EventInLiveState`,1,{hasPlayback:t?"WithPlayback":"NoPlayback",isCollapsed:t&&a?"WithCollapsedPlayback":"WithExpandedOrNoPlayback"})},o=(e,t,a)=>{const n=t||"ATVUnknown";r.c.count(`${l.E}PlaybackClicked`,1,{locationTag:n,isSSM:a?"SSM":"NotSSM",playbackStatus:e||"NoPlaybackStatus"})},c=(e,t,a)=>{(0,n.X)(e,i.c7.ATVModal,i.wW.SSM,a,[i.W0.PageNavigate],i.qB.PopUp),t&&r.c.count(`${l.E}PlaybackShown`,1,{playbackStatus:t})},d=(e,t,a)=>{const s=t||"Unknown",o=`${e}_${s.toLowerCase()}_live_playmod${a?"_back":""}`;(0,n.X)(o,i.c7.ATVModal,i.wW.SSM,void 0,void 0,i.qB.PageTouch),r.c.count(`${l.E}SSM`,1,{locationTag:s,actionStatus:a?"Closed":"Opened"})}},"./src/shared/Live/components/StreamSelectorModal/StreamSelector.tsx":(e,t,a)=>{a.d(t,{mY:()=>L,Do:()=>w});var n=a("./src/shared/CS/components/Modal/Modal.tsx"),i=a("./node_modules/react/index.js");const r="mdfRyz",l="rJYNAU",s="Koh1N4",o="EWG-Jn",c="_4lxgDz",d="By+Hl3",u="pwgeVW";var m=a("./node_modules/@amzn/dvui/dist/Spacer.js"),p=a("./src/shared/Live/components/Playback/Playback.tsx");function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}const v=({playbackContentList:e,playerConfigData:t,isMShop:a,triggerPlaybackList:n})=>null!=e&&e.length&&null!=n&&n.length&&e.length==n.length?i.createElement(i.Fragment,null,e.map(((e,r)=>{const l={playbackContent:e,playerConfigData:t,isMShop:a};return i.createElement(p.TD,g({key:`action-box-playback-${r}`},l,{triggerPlayback:n[r]}))}))):null;var h=a("./src/shared/Live/components/Playback/clickstream.ts"),y=a("./node_modules/@amzn/dvui/dist/Icons/Checkbox.js"),f=a("./node_modules/@amzn/dvui/dist/Icons/CheckboxChecked.js");const b=({isChecked:e,text:t,onClick:a})=>i.createElement("div",{className:c},i.createElement("button",{className:d,onClick:a,"data-testid":"record-season-checkbox"},i.createElement("div",{className:u},e?i.createElement(f.CheckboxChecked,null):i.createElement(y.Checkbox,null)),i.createElement("div",null,t)));var E=a("./src/widgets/DVWebNodeLive/utils/wps.ts"),C=a("./src/shared/Stores/context.ts"),T=a("./src/shared/WebSPA/Context.tsx"),_=a("./src/widgets/DVWebNodeLive/components/liveState/liveState.tsx");const k=({isOpen:e,onClose:t,eventTitle:a,liveState:c,playbackContentList:d,isMShop:u,playerConfigData:p,triggerLocation:g,onPlay:y,recordSeasonCheckboxProps:f,customerIntentAction:k,titleMetadataBadge:I})=>{const[L,x]=(0,i.useState)(!0),w=(0,T.CU)();if(!e||!d)return null;const P=[];return d&&d.map((e=>{e.refMarker&&(0,h.pW)(e.refMarker,e.playbackStatus,e.contentConfig.asin);P.push((a=>{t(),k&&f&&E.py.SetLiveEventsCustomerIntent({token:k.query.token,id:k.query.id,intent:L?f.onCheckedIntent:f.onUncheckedIntent,scope:f.scope,context:(0,C.getRequestContext)()}),y&&y(e),a.preventDefault(),(0,h.Z8)(e.playbackStatus,g,!0),null==w||w.invalidatePageCaches()}))})),e&&d?i.createElement(n.u,{isVisible:e,onRequestClose:t,size:"s",className:s,titleText:a,header:i.createElement("div",{className:l},(0,_.N)(c,I,r),a&&i.createElement("h1",null,a)),body:i.createElement(m.Spacer,{alignItems:m.spacerAlignItems.center,space:m.spacerSpacing.m,className:o},i.createElement(v,{isMShop:u,playerConfigData:p,playbackContentList:d,triggerLocation:g,triggerPlaybackList:P})),footer:f?i.createElement(b,{isChecked:L,text:f.text,onClick:()=>{x(!L)}}):void 0,disableFooter:!f,testID:"stream-selector-modal"}):null};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I.apply(this,arguments)}const L=i.createContext({});L.displayName="SsmContext";const{Provider:x}=L,w=({children:e})=>{const[t,a]=(0,i.useState)({isOpen:!1});(0,i.useEffect)((()=>{const{refMarkerPrefix:e,triggerLocation:a,isOpen:n}=t;e&&(0,h.DU)(e,a,!n)}),[t]);const n=(0,i.useMemo)((()=>({openSsm:e=>a({...e,isOpen:!0}),isSsmOpen:t.isOpen})),[t.isOpen]);return i.createElement(x,{value:n},e,i.createElement(k,I({},t,{onClose:()=>a({...t,isOpen:!1})})))}},"./src/shared/SPA/SpaContext.tsx":(e,t,a)=>{a.d(t,{cG:()=>r});var n=a("./node_modules/react/index.js");const i=n.createContext({}),r=(i.Consumer,i.Provider,e=>t=>n.createElement(e,t))},"./src/shared/SPA/UWPNotifier/index.ts":(e,t,a)=>{a.d(t,{lh:()=>s,_5:()=>o});var n=a("./src/util/utils/pubSub.ts"),i=a("./src/util/logger/logger.ts");function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l{constructor(e,t=new i.Oc("DVWebNodeSPA/UWPNotifier")){r(this,"myWindow",void 0),r(this,"logger",void 0),r(this,"pubSub",void 0),r(this,"chromeWebViewInputDispatcher",(e=>{try{const t=e.data[0],a=JSON.parse(e.data[1]);t&&a&&this.pubSub.publish(t,a)}catch(t){this.logger.error("UWPNotifier failed to parse the native action payload in webview2 ",e,t)}})),this.myWindow=e,this.logger=t,this.pubSub=(0,n.M)(),this.init()}static getInstance(){return this.instance||(this.instance=new l(window)),this.instance}isChromeWebViewPresent(){return"undefined"!=typeof window&&void 0!==window.chrome&&void 0!==window.chrome.webview}isSubscribed(e){const t=this.pubSub.query(e);return t&&t.length>0}subscribe(e,t){try{return this.pubSub.subscribe(e.toString(),t)}catch(a){const n="UWPNotifier failed to subscribe to an event from the native app";this.logger.error(n,e,t,a)}}unsubscribe(e,t){try{return this.pubSub.unsubscribe(e.toString(),t)}catch(a){const n="UWPNotifier failed to unsubscribe to an event from the native app";return this.logger.error(n,e,t,a),Promise.reject(new Error(n))}}publish(e,t){const a=Date.now();try{this.notify(JSON.stringify({action:e,payload:t,timestamp:a}))}catch(n){this.logger.error("UWPNotifier failed to generate the payload and notify the native app",e,t,a,n)}}init(){var e;this.isChromeWebViewPresent()&&(null===(e=window.chrome)||void 0===e||null===(e=e.webview)||void 0===e||e.addEventListener("message",this.chromeWebViewInputDispatcher));this.myWindow.primevideoUWPNotifierHandler=this.inputDispatcher.bind(this)}notify(e){if(this.isChromeWebViewPresent())try{var t;null===(t=window.chrome)||void 0===t||null===(t=t.webview)||void 0===t||t.postMessage(e)}catch(e){0}else if(this.myWindow&&this.myWindow.external)try{this.myWindow.external.notify(e)}catch(e){0}}inputDispatcher(e,t){try{const a=JSON.parse(t);this.pubSub.publish(e,a)}catch(a){this.logger.error("UWPNotifier failed to parse the native action payload",e,t,a)}}}r(l,"instance",void 0);let s=function(e){return e.IDLE="IDLE",e.SEASON_IDLE="SEASON_IDLE",e.SEASON_DOWNLOADING="SEASON_DOWNLOADING",e.SEASON_COMPLETED="SEASON_COMPLETED",e.SEASON_QUEUED="SEASON_QUEUED",e.SEASON_ERROR="SEASON_ERROR",e.WAITING="WAITING",e.QUEUED="QUEUED",e.DOWNLOADING="DOWNLOADING",e.PAUSED="PAUSED",e.ERROR="ERROR",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.REMOVED="REMOVED",e.DISABLED="DISABLED",e.CANCELLING="CANCELLING",e.REMOVING="REMOVING",e.RETRYING="RETRYING",e.PAUSING="PAUSING",e}({}),o=function(e){return e.UWP="UWP",e.XP="XP",e}({})},"./src/shared/components/PangaeaBanner/index.ts":(e,t,a)=>{a.d(t,{B:()=>s});var n=a("./node_modules/react/index.js"),i=a("./src/util/wrappers/ErrorBoundary.tsx"),r=a("./src/widgets/DVWebNodePangaeaBanner/components/Banner.tsx"),l=a("./src/shared/navigation/navBannerPortal/index.tsx");const s=e=>n.createElement(l.C,null,n.createElement(i.S,null,n.createElement(r.j,e)))},"./src/shared/components/PurchaseFlowWorkflowLoader/DVPAWrapper.tsx":(e,t,a)=>{a.r(t),a.d(t,{PurchaseFlowWorkflow:()=>r});var n=a("./node_modules/react/index.js");let i;i=a("./node_modules/DVPAWebWidgetsDetailsPageClient/dist/index.js").uc;const r=e=>{const[t,a]=n.useState(!1);n.useEffect((()=>{a(!0)}),[]);const r=t?e:{action:void 0,actionContext:{}};return n.createElement(i,r)}},"./src/shared/deeplink/index.ts":(e,t,a)=>{a.d(t,{b:()=>k});const n=({logOutcome:e})=>({url:t})=>{e({isSuccess:!0}),window.location.assign(t)};var i=a("./src/shared/utils/analytics/recordReftag.tsx");const r="dv_web_dl_success",l="dv_web_dl_failure",s=({logOutcome:e})=>({url:t,fallbackUrl:a})=>{var n;null===(n=window.P)||void 0===n||n.when("mash").execute((n=>{n.launchIntentURL({url:t,successCallback:()=>{e({isSuccess:!0}),(0,i.X)(r)},failCallback:async()=>{a?(e({isSuccess:!0}),await(0,i.X)(r),window.location.assign(a)):(e({isSuccess:!1}),await(0,i.X)(l))}})}))},o=({logOutcome:e})=>({url:t,fallbackUrl:a})=>{var n;null===(n=window.P)||void 0===n||n.when("mash").execute((n=>{n.canLaunchIntentURL({url:t,successCallback:async s=>{s?(await(0,i.X)(r),e({isSuccess:!0}),n.launchIntentURL({url:t})):(await(0,i.X)(l),e({isSuccess:!1}),a&&n.launchIntentURL({url:a}))},failCallback:()=>{e({isSuccess:!1}),(0,i.X)(l)}})}))};var c=a("./src/util/logger/logger.ts"),d=a("./src/util/logger/kirup.ts");const u=new c.Oc("DVWbNode:deeplink"),m="pv-hidden-iframe",p=e=>{var t,a;return null!==(t=null==e||null===(a=e.match(/^([^:]+)/))||void 0===a?void 0:a[1])&&void 0!==t?t:"unknown"},g=(e,t,a)=>{const n=p(e);a?((0,i.X)(`dv_deeplink_${n}_noapp`),d.c.count("DVWebDeeplinkNoApp",1,{scheme:n}),t({isSuccess:!0}),window.location.assign(a)):(t({isSuccess:!1}),u.error("fallbackUrl param is required for deeplinking"))},v=(e,t)=>{const a=p(e);(0,i.X)(`dv_deeplink_${a}`),t({isSuccess:!0}),d.c.count("DVWebDeeplink",{scheme:a})},h=()=>document.querySelector("#"+m)||((e,t)=>{const a=document.createElement("iframe");return a.src=t,a.id=m,a.style.display="none",e.appendChild(a),a})(document.body,"about:blank"),y=(e,t,a)=>(e.addEventListener(t,a),()=>{e.removeEventListener(t,a)}),f=({logOutcome:e})=>({url:t,fallbackUrl:a})=>{navigator.msLaunchUri&&navigator.msLaunchUri(t,(()=>v(t,e)),(()=>g(t,e,a)))},b=({logOutcome:e})=>({url:t,fallbackUrl:a})=>{const n=setTimeout((()=>{g(t,e,a),r&&r()}),1e3),i=h(),r=y(window,"blur",(()=>{clearTimeout(n),r&&r(),v(t,e)}));i.contentWindow&&(i.contentWindow.location.href=t)},E=({logOutcome:e})=>({url:t,fallbackUrl:a})=>{const n=h();try{n.contentWindow&&(n.contentWindow.location.href=t),v(t,e)}catch(n){"NS_ERROR_UNKNOWN_PROTOCOL"===n.name?g(t,e,a):u.error("Unexpected error with Firefox deeplinking",n)}},C=({logOutcome:e})=>({url:t,fallbackUrl:a})=>{const n=setTimeout((()=>{g(t,e,a),r&&r()}),1e3);let i=window;for(;i!=i.parent;)i=i.parent;const r=y(i,"blur",(()=>{clearTimeout(n),r&&r(),v(t,e)}));window.location.assign(t)},T="DVWebNodeDeeplinking",_=(e,t)=>e({logOutcome:({isSuccess:e})=>{e?d.c.count(`${T}Success`,1,{variant:t}):d.c.count(`${T}Failure`,1,{variant:t})}}),k=()=>({URL:_(n,"url"),URL_EMBEDDED:_(n,"urlEmbedded"),MSHOP_ANDROID:_(o,"mshopAndroid"),MSHOP_ANDROID_EMBEDDED:_(o,"mshopAndroidEmbedded"),MSHOP_IOS:_(s,"mshopIos"),IOS_LEGACY:_(n,"iosLegacy"),WIN10_EDGE:_(f,"win10Edge"),WIN10_FIREFOX:_(b,"win10Firefox"),WIN10_FIREFOX_LEGACY:_(E,"win10FirefoxLegacy"),WIN10_CHROME:_(C,"win10Chrome"),MAC_OS:_(b,"macOS")})},"./src/shared/imageUtils/imageUtils.ts":(e,t,a)=>{a.d(t,{GH:()=>l,L3:()=>c,Ro:()=>E,TQ:()=>b,X8:()=>f,e4:()=>y,er:()=>h,fn:()=>d,kM:()=>o,lN:()=>s,pz:()=>u,rB:()=>r});var n=a("./src/util/utils/imageUtils/imageUtils.tsx"),i=a("./src/shared/utils/utils.ts");let r=function(e){return e.WIDTH="WIDTH",e.HEIGHT="HEIGHT",e}({}),l=function(e){return e.gif="gif",e.jpg="jpg",e.pkmz="pkmz",e.png="png",e.webp="webp",e}({});const s="https://m.media-amazon.com/images/G/01/digital/video/web/Default_Background_Art_LTR.jpg",o="https://m.media-amazon.com/images/G/01/digital/video/web/Default_Background_Art_RTL.jpg",c="https://m.media-amazon.com/images/G/01/digital/video/web/Default_Background_Art_2x3.png",d="https://m.media-amazon.com/images/G/01/digital/video/web/Default_Background_Art_8x3_LTR.png",u="https://m.media-amazon.com/images/G/01/digital/video/web/Default_Background_Art_8x3_RTL.png",m=[1.5,2],p={phone:"20em",phablet:"28em","phone-landscape":"47em",tablet:"55em","tablet-landscape":"65em",desktop:"90em",largeScreen:"118em","tablet-lowest":"28em","laptop-lowest":"55em","desktop-lowest":"80em","desktop-hd-lowest":"100em","desktop-uhd-lowest":"150em"},g=RegExp(`(${Object.keys(p).join("|")})$`),v=e=>"string"==typeof e?e:`${e}px`,h=(e,t,a,n,i,r,l,s)=>{const o=m.map((o=>`${y({src:e,value:t*o,baseType:a,type:n,skipStripTags:i,supportTransparency:r,autoCrop:l,shouldDarkenImage:s})} ${o}x`));return o&&o.unshift(y({src:e,value:t,baseType:a,type:n,skipStripTags:i,supportTransparency:r,autoCrop:l,shouldDarkenImage:s})),o&&o.join(", ")},y=({src:e,value:t,baseType:a,type:i,skipStripTags:l,supportTransparency:s=!1,autoCrop:o,shouldDarkenImage:c})=>{if(!e)return"";const d=new n.e(e);return l||d.stripTags(),o&&c&&d.darken(),o&&d.autoCrop(),a===r.HEIGHT?d.scaleHeight(t):d.scaleWidth(t),i?d.forceFormat(i):s&&d.formatHasTransparencySupport&&d.forceFormat(d.urlFileFormat),d.getImageUrl()},f=(e,t,a,n,i,r,l)=>t.map((t=>`${y({src:e,value:t,baseType:a,type:n,skipStripTags:i,autoCrop:r,shouldDarkenImage:l})} ${t}w`)).join(", "),b=(e,t=[])=>{const a=t.reduce(((e,t)=>{const[a,n]=Object.entries(t)[0],i=(e=>e.replace(g,(e=>`width: ${p[e]}`)))(a);return i&&n&&e.push(`(${i}) ${v(n)}`),e}),[]);return a.push(v(e)),a.join(", ")},E=({src:e,baseValue:t,baseType:a=r.WIDTH,srcSizes:n,format:l,resolutions:s,skipStripTags:o,supportTransparency:c,autoCrop:d,elementTiming:u})=>{if(a===r.HEIGHT&&n)throw new Error("BaseType.HEIGHT can't be used with srcSizes. It is only compatible with format and resolutions.");if((0,i.xb)(n))return{src:y({src:e,value:t,baseType:a,type:l,skipStripTags:o,supportTransparency:c,autoCrop:d}),srcSet:h(e,t,a,l,o,c,d),...u?{elementtiming:u}:{}};const p=n.map((e=>Object.values(e)[0]));p.push(t);const g=((e,t=m)=>{const a=t.reduce(((t,a)=>[...t,...e.map((e=>Math.floor(e*a)))]),e);return Array.from(new Set(a)).sort(i.ws)})(p,s);return{src:y({src:e,value:t,baseType:a,type:l,skipStripTags:o,autoCrop:d}),srcSet:f(e,g,a,l,o,d),sizes:b(t,n),...u?{elementtiming:u}:{}}}},"./src/shared/navigation/identifiers.ts":(e,t,a)=>{a.d(t,{y:()=>n});const n="pv-navigation-bar-banner-container"},"./src/shared/navigation/navBannerPortal/index.tsx":(e,t,a)=>{a.d(t,{C:()=>o});var n=a("./node_modules/react/index.js"),i=a("./node_modules/react-dom/index.js"),r=a("./src/util/utils/hooks/useHasMounted.ts"),l=a("./src/util/utils/hooks/useRemasterGating.ts"),s=a("./src/shared/navigation/identifiers.ts");const o=({children:e})=>{const{enabled:t}=(0,l.F)(),a=(0,r.f)();if(!t)return n.createElement(n.Fragment,null,e);if(!a)return null;const o=document.getElementById(s.y);return o?i.createPortal(e,o):n.createElement(n.Fragment,null,e)}},"./src/shared/player/capabilities.ts":(e,t,a)=>{a.d(t,{J8:()=>u,Lt:()=>d,P0:()=>o,wH:()=>c});var n=a("./node_modules/react/index.js"),i=a("./src/util/logger/kirup.ts");let r=null;const l=new Set,s="DVWebPlayerMissingCapabilities",o=e=>{r!==e&&(r=e,l.forEach((e=>e())))},c=()=>r,d=()=>{const e=n.useMemo((()=>e=>(l.add(e),()=>{l.delete(e)})),[]);return n.useSyncExternalStore(e,c,c)},u=(e,t)=>{var a;(e.supportsDrm||i.c.count(s,1,{playerPageType:t,capabilityType:"DRM"}),e.supportsWebPlayback)||(i.c.count(s,1,{playerPageType:t,capabilityType:"WebPlayback"}),i.c.info(`Web playback is not supported on this device: ${null===(a=window)||void 0===a||null===(a=a.navigator)||void 0===a?void 0:a.userAgent}`))}},"./src/shared/player/index.tsx":(e,t,a)=>{a.d(t,{Sz:()=>ve,c4:()=>ue,wN:()=>pe});var n=a("./node_modules/react/index.js"),i=a("./src/util/logger/kirup.ts"),r=a("./src/util/utils/network.ts"),l=a("./src/util/utils/promise.ts"),s=a("./src/util/wrappers/ArgsContext.tsx"),o=a("./src/util/logger/logger.ts"),c=a("./src/util/utils/pubSub.ts");function d(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class u extends Error{constructor(e){super(e),this.name="MissingGlobalObjectError",Object.setPrototypeOf(this,u.prototype)}}class m extends Error{constructor(e){super(e),this.name="OnErrorTriggeredError",Object.setPrototypeOf(this,m.prototype)}}class p extends Error{constructor(e){super(e),this.name="TimeOutError",Object.setPrototypeOf(this,p.prototype)}}class g{constructor(e=12e4,t=3,a=document){d(this,"scriptTimeoutMs",void 0),d(this,"maxAttempts",void 0),d(this,"documentInstance",void 0),d(this,"scriptErrorCount",0),d(this,"scriptLoaded",!1),d(this,"scriptTimerId",void 0),d(this,"src",void 0),d(this,"objectNameToValidate",void 0),d(this,"elementId",void 0),d(this,"onNonFatal",void 0),d(this,"resolve",void 0),d(this,"reject",void 0),d(this,"load",(({url:e,elementId:t,onNonFatal:a,objectNameToValidate:n})=>new Promise(((i,r)=>{this.src=e,this.objectNameToValidate=n,this.onNonFatal=a,this.elementId=t,this.resolve=i,this.reject=r,this.loadScript()})))),d(this,"loadScript",(()=>{var e,t,a;const n=this.documentInstance.getElementById(null!==(e=this.elementId)&&void 0!==e?e:"");null!==n&&n.remove();const i=this.documentInstance.createElement("script");this.scriptTimerId=setTimeout((()=>{this.onScriptError(i,new p(`Script load timed out. Loading ${this.objectNameToValidate} via ${this.src}`))}),this.scriptTimeoutMs),i.type="text/javascript",i.crossOrigin="anonymous",i.id=null!==(t=this.elementId)&&void 0!==t?t:"",i.async=!0,i.defer=!0,i.onload=i.onreadystatechange=()=>{this.scriptLoaded||void 0!==i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(this.objectExists()?(clearTimeout(this.scriptTimerId),this.scriptLoaded=!0,i.onload=i.onerror=i.onreadystatechange=null,this.resolve&&this.objectNameToValidate&&this.resolve(window[this.objectNameToValidate])):this.onScriptError(i,new u(`Script loaded but missing expected global object. Loading ${this.objectNameToValidate} via ${this.src}`)))},i.onerror=()=>{this.onScriptError(i,new m(`Script onerror fired. Loading ${this.objectNameToValidate} via ${this.src}`))},i.src=null!==(a=this.src)&&void 0!==a?a:"",this.documentInstance.head.appendChild(i)})),d(this,"onScriptError",((e,t)=>{e&&(e.onload=e.onerror=e.onreadystatechange=null),clearTimeout(this.scriptTimerId),this.objectExists()||(++this.scriptErrorCount<this.maxAttempts?(this.onNonFatal&&this.onNonFatal(t),this.loadScript()):this.reject&&this.reject(t))})),this.scriptTimeoutMs=e,this.maxAttempts=t,this.documentInstance=a}objectExists(){return!!this.objectNameToValidate&&void 0!==window[this.objectNameToValidate]}}const v="player-script";let h,y=!1;const f="DVWebPlayerDeferredLoadError";var b=function(e){return e.MissingGlobalObject="MissingGlobalObject",e.OnErrorTriggered="OnErrorTriggered",e.TimeOut="TimeOut",e}(b||{});const E=e=>new Promise(((t,a)=>{const n=e=>{a(`DVWebPlayer:${e}:load:failure`),i.c.count("DVWebPlayerLoadFailureType",1,{errorType:e})},r=e=>{h||(h=e),t(new h)};if(window.WebPlayer)r(window.WebPlayer);else if(!y&&document.getElementById(v))(()=>{let t,a=0,l=!1;const s=()=>{a<60?(a+=1,window.WebPlayer?(l&&i.c.info(`Player is loaded after ${a} attempts, even when onerror was triggered before`),r(window.WebPlayer)):t=setTimeout(s,1e3)):n("Timeout")},o=t=>{e.warn(`onerror invoked ${t?"before":"after"} hydration while loading ${v}`),l=!0};s(),window.playerLoaderError&&o(!0);const c=document.getElementById(v);c.onload=()=>{clearTimeout(t),window.WebPlayer?r(window.WebPlayer):n("Loading")},c.onerror=()=>{o(!1)}})();else{y=!0;let e=null;e=(new g).load({url:"https://js-assets.aiv-cdn.net/playback/web_player/"+("1"===new URLSearchParams(window.location.search).get("playerBeta")?`webplayer_gamma.js?timestamp=${(new Date).getTime()}`:"WebLoader.js"),elementId:v,objectNameToValidate:"WebPlayer"}),e.then((()=>{r(window.WebPlayer),i.c.count("DVWebPlayerLazyLoadSuccess")})).catch((e=>{e instanceof u?i.c.count(f,1,{errorType:b.MissingGlobalObject}):e instanceof m?i.c.count(f,1,{errorType:b.OnErrorTriggered}):e instanceof p&&i.c.count(f,1,{errorType:b.TimeOut}),n("Deferred")}))}}));var C=a("./src/shared/player/integration/dom.ts"),T=a("./src/shared/player/integration/config.ts"),_=a("./src/shared/player/integration/logger.ts"),k=a("./src/shared/player/integration/playerStatus.ts");function I(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const L=["closed","aborted"],x=e=>({trailer:e.trailer,position:Number(e.position||0),videoType:e.videoType,live:Boolean(e.lcid),asin:e.lcid||e.asin,ref:e.ref,playbackEnvelope:e.playbackEnvelope,privacyConsent:e.privacyConsent,playbackExperiences:e.playbackExperiences,isAVOD:e.isAVOD}),w=e=>({...e,startEpoch:Math.floor(Date.now()/1e3)});class P{constructor(e,t,a,n){I(this,"player",void 0),I(this,"logger",void 0),I(this,"liveIncompatibleCallback",void 0),I(this,"playerConfigData",void 0),I(this,"playerConfig",void 0),I(this,"currentContentConfig",null),I(this,"pubSub",void 0),I(this,"lastTitle",void 0),I(this,"capabilities",void 0),I(this,"_test",void 0),I(this,"playbackLaunchedTime",void 0),this.player=e,this.logger=n,this._test={player:e},this.liveIncompatibleCallback=a,this.pubSub=(0,c.M)(),this.playerConfigData=t,this.playerConfig=(0,T.it)(t),this.lastTitle=null,this.init(),this.capabilities=new Promise((t=>{e.on("playerCapabilities",(({capabilities:e})=>{t(e)}))}))}init(){const e=(0,T.QD)(this.playerConfigData.pageType);L.forEach((e=>{this.player.on(e,(()=>this.callAction(e)))})),this.player.on("asinChanged",(async e=>{var t;const a=null===(t=this.lastTitle)||void 0===t?void 0:t.asin,n=e.asin;(0,k.M)()&&void 0!==a&&a!==n&&(await this.callAction("asinChanged",{from:a,to:n}),e&&(this.lastTitle=w(x(e))))})),this.player.on("playing",(async()=>{if(this.playbackLaunchedTime){const t=Date.now()-this.playbackLaunchedTime;this.logCounter("playbackdelay",t),this.playbackLaunchedTime=null,(0,_.c)({action:_.m.PlaybackStarted,pageType:e,logger:this.logger,videoType:this.getVideoType()}),await this.callAction("playing")}})),this.on("closed",(()=>(0,_.c)({action:_.m.PlayerClosed,pageType:e,logger:this.logger,videoType:this.getVideoType()}))),this.on("asinChanged",(()=>(0,_.c)({action:_.m.PlayerTitleChanged,pageType:e,logger:this.logger,videoType:this.getVideoType()}))),this.on("beforePlay",(e=>this.liveIncompatibleCheck(e))),this.on("play",(()=>{(0,C.W7)(this.playerConfigData.pageType)})),this.on("closed",(()=>{(0,C.MO)(this.playerConfigData.pageType)})),this.player.initialize(this.playerConfig)}async callAction(e,t){return await Promise.all(this.pubSub.query(e).map((e=>e(t?{...this.lastTitle,...t}:this.lastTitle))))}on(e,t){return this.pubSub.subscribe(e,t)}async prepare(e){await this.callAction("prepare"),this.player.prepare(this.playerConfig,{...x(e),immediateConsumption:!1})}async liveIncompatibleCheck(e){var t;if(!("Live"!==(t=e).videoType&&!t.lcid&&!t.live||(await this.capabilities).supportsLive))throw this.liveIncompatibleCallback(),"Live Incompatible"}async play(e){const t=x(e);this.lastTitle=w(t),this.currentContentConfig=t,this.playbackLaunchedTime=Date.now(),await this.callAction("beforePlay"),await this.callAction("play");const a={clickstreamRefMarker:e.ref||"atv_dp_unknown",playbackInitiatedTime:Date.now()};this.player.play(this.playerConfig,t,a)}async stop(){await this.callAction("stop"),this.player.initialize(this.playerConfig),this.currentContentConfig=null,this.playbackLaunchedTime=null,await this.callAction("closed")}getVideoType(){return this.currentContentConfig&&this.currentContentConfig.videoType||"unknown"}logCounter(e,t=1){i.c.count("DVWebPlayerPlayback",t,{metric:e,pageType:this.playerConfigData.pageType,platform:"web",videoType:this.getVideoType()})}}const S={};var D=a("./src/shared/SPA/SpaContext.tsx"),N=a("./src/shared/player/capabilities.ts"),M=a("./src/shared/WebSPA/Context.tsx"),R=a("./src/widgets/DVWebNodeDetail/utils/url/index.ts"),A=a("./src/shared/Stores/context.ts"),O=a("./src/util/utils/titleId.ts"),B=a("./src/util/logger/minerva.ts"),G=a("./src/util/utils/device.ts"),V=a("./node_modules/@amzn/atv-web-player-sdk-public-interfaces/dist/index.js");var W=a("./node_modules/@amzn/atvxp-player-sdk-public-interfaces/dist/index.js"),F=a("./src/shared/Stores/global.ts");function H(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const z=e=>{var t,a,n;return{titleId:e.lcid||e.asin,clickstreamRefMarker:e.ref||"atv_dp_unknown",dataPrivacy:{gdprPrivacyConsent:{applicable:(null===(t=e.privacyConsent)||void 0===t?void 0:t.isCookieConsentApplicable)||!1,gvlString:null===(a=e.privacyConsent)||void 0===a?void 0:a.gvlString,avlString:null===(n=e.privacyConsent)||void 0===n?void 0:n.avlString}},playbackEnvelope:e.playbackEnvelope,playbackExperiences:e.playbackExperiences,position:re(Number(e.position||0)),videoMaterialType:e.videoType,trailer:e.trailer}};let j=function(e){return e.AbortedEvent="aborted",e.ClosedEvent="closed",e.StopEvent="stop",e.InitializedEvent="initialized",e.PausedEvent="paused",e.PlayingEvent="playing",e.PrepareEvent="prepare",e.AsinChangedEvent="asinChanged",e.PlayEvent="play",e.PreparedEvent="prepared",e}({});class U{constructor(e,t,a){H(this,"player",void 0),H(this,"logger",void 0),H(this,"playerConfigData",void 0),H(this,"currentContentConfig",null),H(this,"pubSub",void 0),H(this,"lastTitle",void 0),H(this,"currentTitleId",void 0),H(this,"capabilities",void 0),H(this,"_test",void 0),H(this,"playbackLaunchedTime",void 0),H(this,"logDebug",((e,t=null)=>{(0,A.isInternal)()&&this.logger.debug(`[WebPlayerSDKPlayerProxy] >>> ${e}`,t)})),H(this,"onContentError",(e=>{this.logDebug("onContentError",{error:e.message,softwareRenderOverride:"NA"}),this.emitError(e)})),H(this,"onError",(e=>{this.logDebug("onError",{error:e.message,softwareRenderOverride:"NA"}),this.emitError(e)})),H(this,"onContentStateChange",(e=>{this.logDebug("onContentStateChange",e),e===W.ContentState.Unloaded?this.pubSub.publish(j.InitializedEvent):e===W.ContentState.Ready&&this.pubSub.publish(j.PreparedEvent)})),H(this,"onPlaybackStateChange",(e=>{this.logDebug("onPlaybackStateChange",e),e===W.PlaybackState.Paused?this.pubSub.publish(j.PausedEvent,this.lastTitle):e===W.PlaybackState.Playing&&this.pubSub.publish(j.PlayingEvent,this.lastTitle)})),H(this,"onTimeDataChange",(e=>{const t=this.player.timeline.contentInfos[this.player.timeline.items[e.currentTimelineItemIndex].contentId];if(this.logDebug("onTimeDataChange",{currentContentInfo:t,timeData:e,currentTitleId:this.currentTitleId}),(0,k.M)()&&null!==this.currentTitleId&&this.currentTitleId!==t.titleId){const e=this.currentTitleId,a=t.titleId;this.logDebug("onTimeDataChange AsinChanged",{...this.lastTitle,from:e,to:a}),this.pubSub.publish(j.AsinChangedEvent,{...this.lastTitle,from:e,to:a}),this.lastTitle=le({...this.lastTitle||{},titleId:t.titleId})}this.currentTitleId=t.titleId})),H(this,"onTimelineEnded",(()=>{this.logDebug("onTimelineEnded"),this.pubSub.publish(V.kq.TimelineEnded),this.onPlayerClose()})),H(this,"onPlayerClose",(()=>{this.logDebug("onPlayerClose"),this.lastTitle&&(this.lastTitle.position=this.getPosition()),this.callAction(j.ClosedEvent),this.player.unload()})),this.player=e,this._test={player:e},this.logger=a,this.pubSub=(0,c.M)(),this.playerConfigData=t,this.lastTitle=null,this.currentTitleId=null,this.capabilities=new Promise((e=>{e(te)})),this.attachEventListeners()}attachEventListeners(){this.logDebug("attachEventListeners");const e=(0,T.QD)(this.playerConfigData.pageType);this.player.on(this.player.Events.ContentError,this.onContentError),this.player.on(this.player.Events.ContentStateChange,this.onContentStateChange),this.player.on(this.player.Events.Error,this.onError),this.player.on(this.player.Events.PlaybackStateChange,this.onPlaybackStateChange),this.player.on(this.player.Events.TimeDataChange,this.onTimeDataChange),this.player.on(this.player.Events.TimelineEnded,this.onTimelineEnded),this.player.on(this.player.Events.Close,this.onPlayerClose),this.player.on(this.player.Events.TimelineChange,(()=>this.logDebug("TimelineChange"))),this.player.on(this.player.Events.FullscreenChange,(()=>this.logDebug("FullscreenChange"))),this.player.on(this.player.Events.Seek,(()=>this.logDebug("Seek"))),this.on(j.PlayingEvent,(async()=>{if(this.playbackLaunchedTime){(0,_.c)({action:_.m.PlaybackStarted,pageType:e,logger:this.logger,videoType:this.getVideoType()});const t=Date.now()-this.playbackLaunchedTime;this.logCounter("playbackdelay",t),this.playbackLaunchedTime=null}})),this.on(j.ClosedEvent,(()=>(0,_.c)({action:_.m.PlayerClosed,pageType:e,logger:this.logger,videoType:this.getVideoType()}))),this.on(j.AsinChangedEvent,(()=>(0,_.c)({action:_.m.PlayerTitleChanged,pageType:e,logger:this.logger,videoType:this.getVideoType()}))),this.on(j.PlayEvent,(()=>{(0,C.W7)(this.playerConfigData.pageType)})),this.on(j.ClosedEvent,(()=>{(0,C.MO)(this.playerConfigData.pageType)})),this.pubSub.publish(j.InitializedEvent)}async callAction(e){return this.logDebug(`callAction: ${e}`),await Promise.all(this.pubSub.query(e).map((e=>e(this.lastTitle))))}on(e,t){return this.pubSub.subscribe(e,t)}once(e,t){return this.pubSub.subscribe(e,t)}off(e,t){return this.pubSub.unsubscribe(e,t)}emitError(e){this.logger.warn(e,"Player Emitted Errors"),this.pubSub.publish(j.AbortedEvent,e)}async stop(){this.logDebug("stop"),await this.callAction(j.StopEvent),this.player.unload(),await this.callAction(j.ClosedEvent)}async seek(e){this.logDebug("seek",e),this.player.seek(e)}getPosition(){return ie(this.player.currentTime&&this.player.currentTime.currentPosition)}async prepare(e){this.logDebug("prepare ATVWebPlayer ContentConfig",e),await this.callAction(j.PrepareEvent);const t=z(e);this.logDebug("prepare WebPlayer ContentConfig",t),this.player.load(t)}reportPlayInteraction(e,t){const a=(0,F.Lo)();((null==a?void 0:a.isPlayInteractionReportFeatureEnabled)||!1)&&e&&this.player.getFeature(V.a_.MetricsReporting).then((a=>{(null==a?void 0:a.reportInteraction)&&a.reportInteraction(e,"Play",void 0,void 0,void 0,void 0,null!=t?t:"Customer")})).catch((e=>{this.logger.error(e,"Failed to report play interaction metric")}))}async play(e,t,a){this.logDebug("play",e),this.reportPlayInteraction(t,a),this.playbackLaunchedTime=Date.now(),this.currentContentConfig=e;const n=z(e);this.lastTitle=le(n),this.currentTitleId=n.titleId,await this.callAction(j.PlayEvent),this.player.start(n)}getVideoType(){return this.currentContentConfig&&this.currentContentConfig.videoType||"unknown"}logCounter(e,t=1){i.c.count("DVWebPlayerPlayback",t,{metric:e,pageType:this.playerConfigData.pageType,platform:"web",videoType:this.getVideoType()})}}const $="WebPlayerSDK";var q=function(e){return e.MissingGlobalObject="MissingGlobalObject",e.OnErrorTriggered="OnErrorTriggered",e.TimeOut="TimeOut",e}(q||{});const Z="DVWebPlayerSDKLoadFailure",J=new o.Oc("WebPlayerSDKLoader"),K=(e,t=null)=>{(0,A.isInternal)()&&J.debug(`[WebPlayerSDKLoader] >>> ${e}`,t)},X={sdkConstructor:void 0,sdkPlayers:{}},Y=async e=>{var t;K("loadWebPlayerFromSDK");const a=await Q(e),n=(0,T.it)(e),r={locale:null==n||null===(t=n.locale)||void 0===t?void 0:t.replace(/_/,"-"),container:n.domElement,titleDecorationScheme:void 0,requiredCapabilities:void 0};try{K("Get Feature from WebPlayerSDK",{playerConfig:r});const e=await a.getFeature(a.Features.AmazonVideoPlayer,r);return e}catch(t){throw K("Failed to call getFeature of WebPlayerSDK",{cause:t}),i.c.count("DVWebPlayerSDKGetFeatureFailure",1,{playerPageType:e.pageType}),new Error("Failed to call getFeature of WebPlayerSDK",{cause:t})}},Q=async e=>{K("loadWebPlayerSDK"),X.sdkConstructor=X.sdkConstructor||ee(e);const t=await X.sdkConstructor,a={debug:ne(),marketplaceId:e.marketplaceId,sessionId:e.sessionId,deviceId:e.deviceId,clientId:(0,T.J$)(e.pageType),deviceTypeId:(0,G.Iw)().deviceTypeId,applicationIdentity:void 0};K("Initialise player sdk",{playerSDKConfig:a});return t&&new t(a)},ee=e=>new Promise(((t,a)=>{(new g).load({url:se(),elementId:"player-script",objectNameToValidate:$}).then((()=>{t(window[$]),i.c.count("DVWebPlayerSDKLoadSuccess",1,{playerPageType:e.pageType})})).catch((t=>{t instanceof u?i.c.count(Z,1,{errorType:q.MissingGlobalObject,playerPageType:e.pageType}):t instanceof m?i.c.count(Z,1,{errorType:q.OnErrorTriggered,playerPageType:e.pageType}):t instanceof p&&i.c.count(Z,1,{errorType:q.TimeOut,playerPageType:e.pageType}),a(`[WebPlayerSDKLoader] Failed to load WebPlayerSDK with error: ${t}`)}))})),te={supportsDrm:!0,supportsNativePlayback:!1,supportsWebPlayback:!0,supportsAVOD:!0,supportsMidStreamMTA:!0,supportsHDMovies:!0,supportsHDTVShows:!0,supportsLive:!0},ae={supportsDrm:!1,supportsNativePlayback:!1,supportsWebPlayback:!1,supportsAVOD:!1,supportsMidStreamMTA:!1,supportsHDMovies:!1,supportsHDTVShows:!1,supportsLive:!1},ne=()=>{const e=(0,A.getRequestContext)();return e.isInternal&&e.queryParameters.hasOwnProperty("playerDebug")&&"1"===e.queryParameters.playerDebug[0]},ie=e=>e/1e3,re=e=>1e3*e,le=e=>({...e,startEpoch:Math.floor(Date.now()/1e3),asin:e.titleId}),se=()=>{const e=(0,A.getRequestContext)(),t=e.queryParameters.hasOwnProperty("playerGamma")&&"1"===e.queryParameters.playerGamma[0],a=`https://cloudfront.xp-assets.aiv-cdn.net/packages/ATVWebPlayerSDK-1.0/${(0,A.isInternal)()&&t?"gamma":"prod"}/WebPlayerSDK.js`;return(0,A.isInternal)(),undefined,a};function oe(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ce=new Set(["ATF","ATFCircle","BTF","EpisodeList","ExploreTab","Extras"]),de=(e,t)=>{const a=document.createEvent("CustomEvent");a.initCustomEvent(e,!0,!0,t),document.dispatchEvent(a)},ue=e=>{window.location.assign(e)};let me=new Set;const pe=e=>(me=new Set(e),()=>me.clear());class ge extends n.Component{constructor(e){var t;super(e),oe(this,"logger",void 0),oe(this,"player",void 0),oe(this,"playerFailedToLoad",void 0),oe(this,"unsubscribeHandlers",void 0),oe(this,"removeOnClose",void 0),oe(this,"hasPlayed",void 0),oe(this,"hasNavigated",void 0),oe(this,"navigationCount",void 0),oe(this,"cancelNavigation",void 0),oe(this,"loadWebPlayerFromSDK",void 0),oe(this,"playbackNavigationMode",void 0),oe(this,"currentTitleID",void 0),oe(this,"addEvent",((e,t,a=!1)=>{this.unsubscribeHandlers[a?"closeWhenNavigated":"unmount"].push(this.player.on(e,(e=>t(e))))})),oe(this,"navigate",((e,t,a,n,i)=>{this.cancelNavigation(),this.navigationCount++;let r=()=>{};const s=setTimeout((()=>{const{deferred:n,abort:s}=this.props.webSPA.navigate(e,{requestType:t,navigationType:a});r=s,(0,l.SD)((()=>n.then((()=>{this.hasNavigated=!0,(0,B.G)("DVWebPlayerNavigated"),null==i||i()}))))}),n);this.cancelNavigation=()=>{clearTimeout(s),r()}})),oe(this,"loadPlayer",(async(e=!1)=>{const{playerConfig:t,whisperCacheData:a,liveIncompatibleCallback:n,capabilities:r,onPlayerLoadErrorCallback:l}=this.props;try{this.loadWebPlayerFromSDK?this.player=await((e,t,a=!1)=>X.sdkPlayers[e.pageType]=!a&&X.sdkPlayers[e.pageType]||Y(e).then((a=>new U(a,e,t))).catch((a=>{throw(0,_.c)({action:_.m.PlayerFailedToLoad,pageType:(0,T.QD)(e.pageType),logger:t,videoType:"unknown"}),X.sdkPlayers[e.pageType]=void 0,a})))(t,this.logger,e):this.player=await((e,t,a,n=!1)=>S[e.pageType]=!n&&S[e.pageType]||E(a).then((n=>new P(n,e,t,a))).catch((t=>{throw(0,_.c)({action:_.m.PlayerFailedToLoad,pageType:(0,T.QD)(e.pageType),logger:a,videoType:"unknown"}),S[e.pageType]=void 0,t})))(t,n,this.logger,e),this.attachCoreEventHandlers(),a&&await this.handlePrepareRequest(a),i.c.count("DVWebPlayerLoadSuccess",1,{playerPageType:t.pageType})}catch(e){this.loadWebPlayerFromSDK&&this.updateCapabilities(ae);(0,G.fU)((0,A.getRequestContext)())?this.logger.warn(e):this.logger.fatal(e),this.playerFailedToLoad=!0,i.c.count("DVWebPlayerLoadFailure",1,{playerPageType:t.pageType}),l&&l()}})),oe(this,"handleNetworkChange",(async()=>{!this.player&&r.Zc.isOnline()&&this.loadPlayer(!0)})),this.logger=e.logger||new o.Oc(`DVWebNode_player:${this.props.playerConfig.pageType}`),this.unsubscribeHandlers={unmount:[],closeWhenNavigated:[]},this.playerFailedToLoad=!1,this.hasPlayed=!1,this.hasNavigated=!1,this.navigationCount=0,this.currentTitleID=void 0,this.cancelNavigation=()=>{},e.webSPA&&null!==(t=e.requestFeatureSwitches)&&void 0!==t&&t.isRemasterEnabled?this.playbackNavigationMode=e.webSPA.playbackNavigationMode:this.playbackNavigationMode="NONE";const a=(0,F.Lo)();this.loadWebPlayerFromSDK=(null==a?void 0:a.isWebPlayerSDKIntegrationEnabled)||!1}count(e){const{pageType:t}=this.props.playerConfig;return this.logger.count(`${e}:${t}`,1,!1)}buildNavigationURL(e,t){const{originalURI:a,queryParameters:n,domain:i}=(0,A.getRequestContext)();let r=e;try{const t=(0,O.vB)(e);t&&(r=t)}catch(e){}return(0,R.P_)({isRetail:"Retail"===i,parameters:n,originalURI:a},r,`atv_plr_${this.props.playerConfig.pageType.toLowerCase()}_${t}`)}attachPostPlayEventHandlers(){const{onAsinChanged:e}=this.props;this.addEvent("asinChanged",(e=>de("PVVideoPlayerTitleChanged",e))),e&&this.addEvent("asinChanged",e),"NONE"!==this.playbackNavigationMode&&this.addEvent("asinChanged",(({to:e})=>{if(this.currentTitleID=e,this.shouldNavigate()&&this.playbackNavigationMode.includes("WHEN_PLAYING")&&!me.has(e)){const t=this.hasNavigated;this.navigate(this.buildNavigationURL(e,`change_${this.navigationCount}`),"WHEN_PLAYING_CLIENT_LOG"===this.playbackNavigationMode?"optimistic-navigation":"navigation",t?"replace":"push",3e3,(()=>{t&&(0,B.G)("DVWebPlayerNavigatedThenTitleChanged")}))}}),!0)}shouldNavigate(){const e=this.props.playbackLinkData;if(!e)return!1;const t=e.triggerLocation;if(t&&ce.has(t))return!1;const a=e.contentConfig;return!e.linear&&("Trailer"!==a.videoType&&!a.trailer)}updateCapabilities(e){(0,N.P0)(e),de("PVVideoPlayerCapabilities",e),this.props.onPlayerCapabilities&&this.props.onPlayerCapabilities(e)}async attachCoreEventHandlers(){const{onPlay:e,onClosed:t,downloadGateway:a,onInitialized:n,onPrepare:r,playerConfig:l,webSPA:s}=this.props,o=this.player;this.addEvent("play",(e=>de("PVVideoPlayerPlay",e))),e&&this.addEvent("play",e),this.addEvent("closed",(e=>de("PVVideoPlayerClosed",e)),this.playbackNavigationMode.includes("WHEN_PLAYING")),t&&this.addEvent("closed",t),a&&this.addEvent("closed",a.onPlayerClosed),this.addEvent("initialized",(()=>de("PVVideoPlayerInitialized",void 0))),n&&this.addEvent("initialized",n),this.addEvent("prepare",(()=>de("PVVideoPlayerPrepared",void 0))),r&&this.addEvent("prepare",r),this.addEvent("aborted",(()=>{i.c.count("DVWebPlayerAborted",1,{playerPageType:l.pageType})})),this.removeOnClose=o.on("closed",(()=>{var e;((0,B.G)("DVWebPlayerClosed"),this.hasNavigated)&&((0,B.G)("DVWebPlayerNavigatedThenPageSeen"),this.unsubscribeHandlers.closeWhenNavigated.forEach((e=>e())),this.unsubscribeHandlers.closeWhenNavigated=[],null===(e=this.removeOnClose)||void 0===e||e.call(this),"WHEN_PLAYING_CLIENT_LOG"===this.playbackNavigationMode&&(null==s||s.reportNavigation()));this.cancelNavigation(),"ON_CLOSE"===this.playbackNavigationMode&&this.currentTitleID&&this.shouldNavigate()&&this.navigate(this.buildNavigationURL(this.currentTitleID,"play"),"navigation","push",0,(()=>{(0,B.G)("DVWebPlayerNavigatedThenPageSeen")}))})),this.playbackNavigationMode.includes("WHEN_PLAYING")&&this.addEvent("playing",(({asin:e})=>{this.shouldNavigate()&&this.navigate(this.buildNavigationURL(e,"play"),"WHEN_PLAYING_CLIENT_LOG"===this.playbackNavigationMode?"optimistic-navigation":"navigation","push",3e3)}));const c=await o.capabilities;(0,N.J8)(c,l.pageType),this.updateCapabilities(c)}async componentDidMount(){this.loadPlayer(),r.Zc.onNetworkChange(this.handleNetworkChange)}componentDidUpdate({playbackLinkData:e,whisperCacheData:t}){const{playbackLinkData:a,whisperCacheData:n}=this.props;a&&!e&&this.handlePlayRequest(a),!a&&n&&n!==t&&this.handlePrepareRequest(n)}componentWillUnmount(){var e;(this.unsubscribeHandlers.unmount.forEach((e=>e())),this.unsubscribeHandlers.unmount=[],this.hasNavigated)||(this.unsubscribeHandlers.closeWhenNavigated.forEach((e=>e())),this.unsubscribeHandlers.closeWhenNavigated=[],null===(e=this.removeOnClose)||void 0===e||e.call(this),this.cancelNavigation());r.Zc.offNetworkChange(this.handleNetworkChange)}async handlePrepareRequest(e){this.player&&this.player.prepare(e)}async handlePlayRequest({contentConfig:e,signInUrl:t,interactionSource:a,interactionCause:n}){const{onPlayFailure:r,playerConfig:l}=this.props;i.c.count("DVWebPlaybackStart",1,{playerPageType:l.pageType});let s=!0;if(this.player)if(t)this.props.onSignInNavigate&&this.props.onSignInNavigate(),ue(t);else try{await this.player.play(e,a,n)}catch(t){i.c.count("DVWebPlayerLoadedButFailedToPlay",1,{playerPageType:l.pageType}),this.logger.fatal(t,`Playback failed { contentConfig: ${e} }`),s=!1}finally{s&&(this.playbackNavigationMode.includes("ON_CLOSE")&&this.cancelNavigation(),this.currentTitleID=e.asin,this.hasPlayed||(this.hasPlayed=!0,this.attachPostPlayEventHandlers()))}else this.playerFailedToLoad?(i.c.count("DVWebPlayerFailedToLoad",1,{playerPageType:l.pageType}),this.logger.warn(`Player failed to load ${JSON.stringify({contentConfig:e})}`)):(i.c.count("DVWebPlayerNotReady",1,{playerPageType:l.pageType}),this.logger.warn(`Player not ready ${JSON.stringify({contentConfig:e})}`)),s=!1;!s&&r&&r()}render(){return null}}const ve=(0,s.s6)((0,M.n_)((0,D.cG)(ge)))},"./src/shared/player/integration/config.ts":(e,t,a)=>{a.d(t,{J$:()=>l,QD:()=>o,it:()=>c});var n=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),i=a("./src/shared/player/integration/dom.ts");const r={Detail:"f22dbddb-ef2c-48c5-8876-bed0d47594fd",DetailAndroid:"898eb3b8-96c0-4c6b-baa3-2d253860be8c",DetailAndroidMShop:"98d383c3-632a-4872-8ef8-7cc10d033066",Live:"b4f777f2-3153-4c55-8aa7-4645fe264be1",Home:"9ee9ba9b-f89c-41bb-8aa0-4db6e7f24cad",LandingPage:"9ee9ba9b-f89c-41bb-8aa0-4db6e7f24cad",MyStuffLanding:"54cb2f2e-e96f-4e25-9d08-ea852a40588d",AIVWatchlist:"8e377055-28b0-4475-a3e7-f909ebcad6f1",YourVideoLibrary:"1e2f7321-aba1-4bd3-bdfc-a63777d869af",SPA:"933adc82-54c5-4fe0-9273-f1e188456161",PersonPage:"41e7965c-89b8-4967-bdd3-74e2a8f06636",ChannelsSubscription:"66d54d28-d754-4b11-b74d-427a03909d93",Following:"74392e3c-4c00-479e-90c8-f4d42aae8705",EPG:"bdd74b62-c362-46c8-86f0-47e300702607",Search:"47c62571-58c9-4572-9a75-52f68e019cea",Browse:"47c62571-58c9-4572-9a75-52f68e019cea",Genre:"47c62571-58c9-4572-9a75-52f68e019cea",Categories:"47c62571-58c9-4572-9a75-52f68e019cea"},l=e=>r[e],s={Detail:n.c7.Detail,Live:n.c7.ATVDetail,DetailAndroid:n.c7.ATVDetail,DetailAndroidMShop:n.c7.ATVDetail,Home:n.c7.ATVHome,LandingPage:n.c7.ATVHome,MyStuffLanding:n.c7.ATVMyStuff,AIVWatchlist:n.c7.ATVMyStuff,YourVideoLibrary:n.c7.ATVMyStuff,SPA:n.c7.DVSPA,PersonPage:n.c7.ATVPerson,ChannelsSubscription:n.c7.ATVSubscription,Following:n.c7.ATVMyStuff,EPG:n.c7.ATVLive,Search:n.c7.ATVSearch,Browse:n.c7.ATVBrowse,Genre:n.c7.ATVGenre,Categories:n.c7.ATVCategories},o=e=>s[e],c=e=>{const{marketplaceId:t,sessionId:a,playerBeta:n,customerId:r,locale:s,pageType:o,deviceId:c}=e,d={marketplaceId:t,sessionId:a,playerBeta:n,customerId:r,locale:s,deviceId:c,domElement:(0,i.uY)(o),clientId:l(o)};var u;return(u=d)&&Object.entries(u).forEach((([e,t])=>void 0===t&&delete u[e])),d}},"./src/shared/player/integration/dom.ts":(e,t,a)=>{a.d(t,{MO:()=>c,W7:()=>o,uY:()=>d});var n=a("./src/shared/player/integration/playerStatus.ts");const i={},r=e=>{const t=i[e];if(void 0!==t)return t;const a=Object.keys(i).length;return i[e]="dv-web-player"+(0===a?"":`-${a+1}`)},l=e=>{document.getElementsByTagName("body")[0].style.overflow=e},s=(e,t)=>{const a=document.getElementById(r(t));a&&(a.className=e)},o=e=>{s("dv-player-fullscreen",e),l("hidden"),(0,n.k)(!0)},c=e=>{s("",e),l("visible"),(0,n.k)(!1)},d=e=>{const t=r(e);let a=document.getElementById(t);return a||(a=document.createElement("div"),a.setAttribute("id",t),document.body.appendChild(a),a)}},"./src/shared/player/integration/logger.ts":(e,t,a)=>{a.d(t,{c:()=>r,m:()=>i});var n=a("./src/util/logger/kirup.ts");let i=function(e){return e.PlaybackClicked="PlaybackClicked",e.PlaybackClickUnhandled="PlaybackClickUnhandled",e.PlaybackStarted="PlaybackStarted",e.PlayerTitleChanged="PlayerTitleChanged",e.PlayerClosed="PlayerClosed",e.PlayerFailedToLoad="PlayerFailedToLoad",e.SignupClick="SignupClick",e.SignupComplete="SignupComplete",e.PurchaseClicked="PurchaseClicked",e.PurchaseCompleted="PurchaseCompleted",e}({});const r=e=>{const{action:t,pageType:a,videoType:i}=e;n.c.count("DVWebPlayerIntegrationActions",1,{action:t,pageType:a,appName:"Web",videoType:i})}},"./src/shared/player/integration/playbackArea.tsx":(e,t,a)=>{a.d(t,{ET:()=>T,XM:()=>I,cr:()=>x});var n,i=a("./node_modules/react/index.js"),r=a("./src/shared/deeplink/index.ts"),l=a("./src/util/logger/logger.ts"),s=a("./src/util/wrappers/ArgsContext.tsx"),o=a("./src/util/logger/kirup.ts"),c=a("./node_modules/@amzn/dv-marin-tracking-js-library/dist/index.js"),d=a("./src/shared/SPA/SpaContext.tsx"),u=a("./src/shared/player/integration/logger.ts"),m=a("./src/shared/player/integration/config.ts"),p=a("./src/shared/SPA/UWPNotifier/index.ts"),g=a("./src/shared/utils/analytics/recordReftag.tsx"),v=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),h=a("./src/shared/Explore/containers/PageContainer/index.tsx"),y=a("./src/shared/utils/metrics/metricTypes.ts"),f=a("./src/shared/player/capabilities.ts"),b=a("./src/shared/Stores/context.ts"),E=a("./src/shared/player/ipadDeeplinkUtils.ts");const C=new l.Oc("DVWebNode:deeplink"),T=i.createContext({onPlay:null}),_=(e,t)=>{(0,r.b)()[t]({url:e.playbackUrl,fallbackUrl:e.fallbackUrl})},k=e=>(null==e?void 0:e.isBonus)||(null==e?void 0:e.sequenceNumber)&&e.sequenceNumber>=1&&e.sequenceNumber<=3,I=({onPlay:e,launchType:t,trailerLaunchType:a,playerConfigPageType:i,onDownloadAppRequired:l,enableMarinTracking:s,recordTerritory:d,downloadGateway:h,pageType:b,subPageType:T,clientVariant:I,clickstream:L})=>x=>{var w,P;const S=(0,m.QD)(i),D=null!=x&&x.triggerLocation?`${i}:${x.triggerLocation}`:i,N=null==x||null===(w=x.contentConfig)||void 0===w?void 0:w.asin,M=null==h?void 0:h.triggerNativeOfflinePlayback,R=null==h?void 0:h.hasDownloaded,A=null==h?void 0:h.isDownloadQueuedOrDownloading,O=null==h||null===(P=h.xp)||void 0===P?void 0:P.triggerXpOfflinePlayback,B=e?t=>{(0,u.c)({action:u.m.PlaybackClicked,pageType:S,logger:C,videoType:V}),e(t)}:null;const{trailer:G}=x.contentConfig;!s||G||x.isBonus||("Detail"===i||"DetailAndroid"===i?"Prime"===x.subscriptionName&&(0,c.sendConversionTrackingRequest)(c.ConversionType.SVOD_ANY_STREAM,null!=d?d:"INVALID_TERRITORY"):(0,c.sendConversionTrackingRequest)(c.ConversionType.UNDEFINED_ANY_STREAM,null!=d?d:"INVALID_TERRITORY"));const V=x.contentConfig.videoType||"unknown",W=V.toLowerCase(),F="trailer"===W?a:t,H=(0,f.wH)();if(o.c.count("DVWebNodePlayerLaunchType",1,{playerConfigPageType:i,launchTypeToApply:F,videoTypeInLowerCase:W}),!(0,E.P6)()&&(0,E.GY)(F)&&N)C.info("iPad emergency deeplink redirect"),(0,E.gc)(N,x.contentConfig.position||0);else if("feature"===W&&(e=>!e||e.supportsDrm)(H)&&["MSHOP_ANDROID_EMBEDDED","URL_EMBEDDED"].includes(F))"MSHOP_ANDROID_EMBEDDED"===F?((e,t,a,n)=>{var i;const r=()=>{k(t)&&e?e(t):n?n():_(t,a)};null===(i=window.P)||void 0===i||i.when("mash").execute((e=>{e.canLaunchIntentURL({url:t.playbackUrl,successCallback:e=>{e?_(t,a):r()},failCallback:()=>{r()}})}))})(B,x,F,l):((e,t,a)=>{k(t)&&e?e(t):_(t,a)})(B,x,F);else if("EMBEDDED"===F)if("feature"===W&&R&&R(N,p._5.UWP)&&M)M(N),n.count(y.p1.PlaybackOriginNativePlayback,{[D]:1});else if(B){let e=y.B.DownloadFallBackStreaming;"feature"===W&&R&&R(N,p._5.XP)&&O?(O(x,B),n.count(y.p1.PlaybackOriginXpPlayback,{[D]:1})):B(x),"feature"===W&&A&&A(N)&&n.count(e,{downloadingInComplete:1}),(0,g.X)(x.refMarker||x.contentConfig.ref||"atv_unknown",b,T,N,[v.W0.Click],void 0,I,L)}else(0,u.c)({action:u.m.PlaybackClickUnhandled,pageType:S,logger:C,videoType:V}),C.error(`Missing onPlay for Embedded Player ${JSON.stringify({pageType:b,subPageType:T})}`);else(0,r.b)().hasOwnProperty(F)?_(x,F):((0,u.c)({action:u.m.PlaybackClickUnhandled,pageType:S,logger:C,videoType:V}),C.error(`Unhandled Playback ${JSON.stringify({pageType:b,subPageType:T,launchTypeToApply:F})}`))},L=({onPlay:e,launchType:t,trailerLaunchType:a,playerConfigPageType:n,onDownloadAppRequired:r,children:l,enableMarinTracking:s,downloadGateway:o,pageType:c,subPageType:d,clientVariant:u,clickstream:m})=>{var p,g,v,y;const f=(0,h.zm)(),{clickstreamPageContext:E}=null!=f?f:{},C=null!==(p=null==E?void 0:E.pageType)&&void 0!==p?p:c,_=null!==(g=null==E?void 0:E.subPageType)&&void 0!==g?g:d,k=null!==(v=null==E?void 0:E.clientVariant)&&void 0!==v?v:u,L=I({onPlay:e,launchType:t,trailerLaunchType:a,playerConfigPageType:n,onDownloadAppRequired:r,enableMarinTracking:s,recordTerritory:null===(y=(0,b.getRequestContext)())||void 0===y?void 0:y.recordTerritory,downloadGateway:o,pageType:C,subPageType:_,clientVariant:k,clickstream:m});return i.createElement(T.Provider,{value:{onPlay:L,launchType:t}},l)};L.displayName="PlaybackArea";const x=(0,d.cG)((0,s.s6)(L))},"./src/shared/player/ipadDeeplinkUtils.ts":(e,t,a)=>{a.d(t,{GY:()=>l,P6:()=>s,gc:()=>o,v7:()=>c});var n=a("./src/shared/Stores/context.ts"),i=a("./src/util/utils/marketplace.ts"),r=a("./src/shared/deeplink/index.ts");const l=e=>{return/Macintosh; Intel Mac OS X/i.test(null===(t=window)||void 0===t||null===(t=t.navigator)||void 0===t?void 0:t.userAgent)&&!/Chrome|Firefox|Facebot/i.test(null===(a=window)||void 0===a||null===(a=a.navigator)||void 0===a?void 0:a.userAgent)&&(null===(n=window)||void 0===n||null===(n=n.navigator)||void 0===n?void 0:n.maxTouchPoints)&&(null===(i=window)||void 0===i||null===(i=i.navigator)||void 0===i?void 0:i.maxTouchPoints)>1&&"EMBEDDED"===e;var t,a,n,i},s=()=>{const e=(0,n.getRequestContext)();return e.queryParameters.skipIPadDeeplink&&"1"===e.queryParameters.skipIPadDeeplink[0]},o=(e,t)=>{let a;a="Fogg"===(0,n.getRequestContext)().domain?`https://app.primevideo.com/watch?gti=${e}&r=app&time=${t}`:`https://watch${(0,i.is)()}/watch?asin=${e}&r=app&time=${t}`,(0,r.b)().URL({url:a})},c=e=>{let t;t="Fogg"===(0,n.getRequestContext)().domain?`https://app.primevideo.com/detail?gti=${e}&r=app`:`https://watch${(0,i.is)()}/detail?asin=${e}&r=app`,(0,r.b)().URL({url:t})}},"./src/shared/player/simplePlayer.tsx":(e,t,a)=>{a.d(t,{E:()=>d});var n=a("./node_modules/react/index.js"),i=a("./src/util/wrappers/ArgsContext.tsx"),r=a("./src/shared/player/integration/playbackArea.tsx"),l=a("./src/shared/player/index.tsx"),s=a("./src/shared/Stores/context.ts");const o=()=>{},c=({playerConfigPageType:e,launchType:t,whisperCacheData:a,liveIncompatibleCallback:i,isEnabled:c=!0,children:d,avlString:u,gvlString:m,hasAmazonAdvertisingPublisherConsent:p,isCookieConsentApplicable:g,pageType:v,subPageType:h,clientVariant:y,clickstream:f,interactionSource:b})=>{const[E,C]=(0,n.useState)(),{sessionID:T,marketplaceID:_,customerID:k,locale:I,deviceID:L,isInternal:x}=(0,s.getRequestContext)(),w={avlString:u,gvlString:m,hasAmazonAdvertisingPublisherConsent:void 0!==p&&p,isCookieConsentApplicable:void 0!==g&&g},P={sessionId:T,marketplaceId:_,customerId:k,deviceId:L,locale:I,playerBeta:!1,useDefaultView:!0,pageType:e,isInternal:x},S=E?{...E,contentConfig:{...E.contentConfig,privacyConsent:w},interactionSource:b}:void 0;return c?n.createElement(n.Fragment,null,"EMBEDDED"===t&&n.createElement(l.Sz,{playerConfig:P,playbackLinkData:S,whisperCacheData:a,liveIncompatibleCallback:null!=i?i:o,onClosed:()=>C(void 0),onPlayFailure:()=>C(void 0),onSignInNavigate:()=>C(void 0)}),n.createElement(r.cr,{playerConfigPageType:e,onPlay:C,launchType:t,trailerLaunchType:t,pageType:v,subPageType:h,clientVariant:y,clickstream:f},d)):n.createElement(n.Fragment,null,d)};c.displayName="SimplePlayerComponent";const d=(0,i.s6)(c)},"./src/shared/utils/analytics/recordReftag.tsx":(e,t,a)=>{a.d(t,{J:()=>s,X:()=>l});var n=a("./node_modules/react/index.js"),i=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),r=a("./src/shared/deviceProxy/PVClickstreamClient.ts");function l(e,t,a,n,l,s,o,c,d){var u;l||(l=[void 0]);const m=c||(0,r.U)();null===(u=l)||void 0===u||u.forEach((r=>{null==m||m.action({action:r||i.W0.DefaultAction,pageTypeId:n,ref:e,sPageType:a,pType:t,hitType:s,clientVariantOverride:o,additionalData:d})}))}const s=({refTag:e,pageType:t,subPageType:a,children:i,className:r="",pageAction:s,hitType:o,titleId:c,clickstream:d})=>e?n.createElement("span",{className:r,onClick:()=>l(e,t,a,c,s&&[s],o,void 0,d)},i):n.createElement(n.Fragment,null,i)},"./src/shared/utils/events/index.ts":(e,t,a)=>{a.d(t,{q:()=>n});const n=e=>{e&&e.nativeEvent&&e.nativeEvent.ack&&e.nativeEvent.ack(e.currentTarget)}},"./src/shared/utils/highValueMessage/variantsMap.ts":(e,t,a)=>{a.d(t,{K:()=>i});var n=a("./node_modules/@amzn/dvui/dist/HighValueMessage.js");const i={error:n.HighValueMessageVariant.error}},"./src/shared/utils/utils.ts":(e,t,a)=>{a.d(t,{R4:()=>n,ws:()=>r,xb:()=>i});a("./node_modules/react/index.js");const n=(e,t)=>{const a=e||.7*window.innerWidth,n=t||.7*window.innerHeight;return`toolbar=0, status=0, width=${a}, height=${n}, top=${window.top?window.top.outerHeight/2+window.top.screenY-n/2:0}, left=${window.top?window.top.outerWidth/2+window.top.screenX-a/2:0}`},i=e=>!e||0===e.length,r=(e,t)=>e-t},"./src/widgets/DVWebNodeCrossBenefitModal/utils/utils.ts":(e,t,a)=>{a.d(t,{Dy:()=>f,Im:()=>c,LH:()=>v,M_:()=>g,bO:()=>y,hT:()=>o,oB:()=>h,qH:()=>p});var n=a("./src/shared/deviceProxy/Clickstream/ClickStreamTypes.ts"),i=a("./src/util/utils/localStorage.ts");const r="pvCrossBenefitModalTimestamp",l=n.c7.ATVModal,s=["#sp-cc",".DVWebNode-cookie-banner-wrapper",".DVWebNode-critical-notification"],o=()=>s.some((e=>document.querySelector(e))),c=()=>!!document.getElementById("crossbenefit-modal-suppression-key");let d=function(e){return e.MODAL_RENDER="vw",e.OPT_OUT="opt",e.MODAL_DISMISS="ds",e.MODAL_TILE="cta",e.CTA_BUTTON="cta",e}({}),u=function(e){return e.BUTTON="btn",e.MODAL_TILE="itl",e.MODAL_RENDER="none",e.MODAL_DISMISS="os",e}({}),m=function(e){return e.BUTTON="none",e.CTA_BUTTON="0",e.MODAL_RENDER="all",e.MODAL_DISMISS="none",e}({});const p=()=>{const e=Number.parseInt((0,i.le)(r)||"")||0;return(new Date).getTime()-e>72e5},g=(e,t)=>!!e&&!!t&&t.length>0,v=()=>{(0,i.D$)(r,`${(new Date).getTime()}`)},h=({clickstreamClient:e,subPageType:t,widgetRefmarker:a,callback:i})=>({hitType:r,interactionType:s,interactionMethod:o,ordering:c,action:d=n.W0.Click,shouldExecuteCallBack:u=!0})=>{e&&e.action({hitType:r,action:d,pType:l,sPageType:t,clientVariantOverride:n.Nb.DetailPage,ref:`atv_${a}_xbd_${s}_${o}_${c}`}),u&&i()},y=({modalContent:{modalDiscoveryTiles:e,modalTheme:t}})=>!!t&&e.length>0,f=e=>({onModalRender:()=>e({hitType:n.qB.PopUp,interactionType:d.MODAL_RENDER,interactionMethod:u.MODAL_RENDER,ordering:`${m.MODAL_RENDER}`,action:n.W0.ModalRendered,shouldExecuteCallBack:!1}),onModalDismount:()=>e({hitType:n.qB.PageHit,interactionType:d.MODAL_DISMISS,interactionMethod:u.MODAL_DISMISS,ordering:`${m.MODAL_DISMISS}`}),onCloseButtonClick:()=>e({hitType:n.qB.PageHit,interactionType:d.MODAL_DISMISS,interactionMethod:u.BUTTON,ordering:`${m.MODAL_DISMISS}`}),onOptOutButtonClick:()=>e({hitType:n.qB.PageHit,interactionType:d.OPT_OUT,interactionMethod:u.BUTTON,ordering:`${m.BUTTON}`}),onCTAButtonClick:()=>e({hitType:n.qB.PageHit,interactionType:d.CTA_BUTTON,interactionMethod:u.BUTTON,ordering:`${m.CTA_BUTTON}`}),onTileLinkClick:t=>()=>e({hitType:n.qB.PageTouch,interactionType:d.MODAL_TILE,interactionMethod:u.MODAL_TILE,ordering:`${t}`})})},"./src/widgets/DVWebNodeDetail/actions/constants.ts":(e,t,a)=>{a.d(t,{k:()=>n});let n=function(e){return e.STORE_MERGE="@@dp/STORE_MERGE",e.CHANGE_PAGE="@@dp/CHANGE_PAGE",e.LIVE_PAGE="@@lp/LIVE_PAGE",e.WatchlistToggle="@@dp/WatchlistToggle",e.WatchlistToggleFailed="@@dp/WatchlistToggleFailed",e.ClearWatchlistToggleFailure="@@dp/ClearWatchlistToggleFailure",e.GetDevices="@@dp/GetDevices",e.GetDevicesLoading="@@dp/GetDevicesLoading",e.RefreshEpisode="@@dp/ActionBox/RefreshEpisode",e.RefreshAtfActionBox="@@dp/ActionBox/RefreshAtfActionBox",e.RefreshBtfActionBoxes="@@dp/ActionBox/RefreshBtfActionBoxes",e.TriggerPurchase="@@dp/ActionBox/TriggerPurchase",e.PurchaseCancelled="@@dp/ActionBox/PurchaseCancelled",e.PurchaseFailed="@@dp/ActionBox/PurchaseFailed",e.TriggerRefund="@@dp/ActionBox/TriggerRefund",e.RefundFailed="@@dp/ActionBox/RefundFailed",e.RefundCancelled="@@dp/ActionBox/RefundCancelled",e.CreateBanner="@@dp/CreateBanner",e.ClearBanner="@@dp/ClearBanner",e.PlaybackStart="@@dp/player/PlaybackStart",e.PlaybackFailed="@@dp/player/PlaybackFailed",e.PlaybackClosed="@@dp/player/PlaybackClosed",e.UpdateShowCancellationWinback="@@dp/UpdateShowCancellationWinback",e.TriggerUpsellApp="@@dp/TriggerUpsellApp",e.ClearUpsellApp="@@dp/ClearUpsellApp",e.PaginateEpisodeList="@@dp/PaginateEpisodeList",e.SortEpisodeList="@@dp/SortEpisodeList",e.FetchReviewEligibility="@@dp/FetchReviewEligibility",e.ClearReviewEligibility="@@dp/ClearReviewEligibility",e}({})},"./src/widgets/DVWebNodeDetail/actions/index.ts":(e,t,a)=>{a.d(t,{k:()=>n.k});var n=a("./src/widgets/DVWebNodeDetail/actions/constants.ts")},"./src/widgets/DVWebNodeDetail/data/normalize.ts":(e,t,a)=>{a.d(t,{Jl:()=>A,gR:()=>U,e9:()=>Y,db:()=>ge,cO:()=>w,hh:()=>W,nn:()=>G,ci:()=>ee,h2:()=>K,Q7:()=>P,tM:()=>E,VK:()=>z,O7:()=>se,eK:()=>de,hV:()=>me,cg:()=>ce,um:()=>R,oi:()=>I,GA:()=>H,wc:()=>S,Kp:()=>Z,tV:()=>oe,TS:()=>O,FM:()=>D,fQ:()=>k,aN:()=>Q,LO:()=>pe,w3:()=>M,OS:()=>ue});var n=a("./src/widgets/DVWebNodeDetail/reducers/action.ts"),i=a("./src/widgets/DVWebNodeDetail/reducers/detail.ts"),r=a("./src/util/logger/kirup.ts"),l=a("./src/util/utils/htmlEncode.ts"),s=a("./src/util/types/wps/settings.ts"),o=a("./src/widgets/DVWebNodeDetail/reducers/devices.ts"),c=a("./src/widgets/DVWebNodeDetail/utils/stringUtils.ts"),d=a("./node_modules/@amzn/av-experiment-token-js-library/index.js"),u=a("./src/widgets/DVWebNodeDetail/utils/utils.ts"),m=a("./node_modules/@amzn/dvui/dist/Block.js"),p=a("./node_modules/@amzn/dv-web-node-reftags/index.js");let g=function(e){return e.WP_ERROR="WP_ERROR",e.WP_END="WP_END",e.WP_STREAM_ENDED="WP_STREAM_ENDED",e.WP_CREATE_INELIGIBLE="WP_CREATE_INELIGIBLE",e.WP_JOIN_INELIGIBLE="WP_JOIN_INELIGIBLE",e.WP_GEO_RESTRICTION="WP_GEO_RESTRICTION",e.WP_UNSUPPORTED_BROWSER="WP_UNSUPPORTED_BROWSER",e.WP_UNSUPPORTED_CHAT="WP_UNSUPPORTED_CHAT",e.WP_CREATE_INELIGIBLE_TVOD="WP_CREATE_INELIGIBLE_TVOD",e.WP_JOIN_INELIGIBLE_TVOD="WP_JOIN_INELIGIBLE_TVOD",e.WP_CREATE_INELIGIBLE_SVOD_TVOD="WP_CREATE_INELIGIBLE_SVOD_TVOD",e.WP_JOIN_INELIGIBLE_SVOD_TVOD="WP_JOIN_INELIGIBLE_SVOD_TVOD",e.WP_BANNED_SPECIFIC_CHAT="WP_BANNED_SPECIFIC_CHAT",e.WP_SAFARI_MAC_UNSUPPORTED="WP_SAFARI_MAC_UNSUPPORTED",e.WP_CREATE_INELIGIBLE_SWM="WP_CREATE_INELIGIBLE_SWM",e.WP_CREATE_INELIGIBLE_SVOD_TVOD_SWM="WP_CREATE_INELIGIBLE_SVOD_TVOD_SWM",e}({});const v=e=>({learnMore:{href:`/watchpartylearn/ref=${e}`}}),h={learnMore:{href:`/help/watchparty/communityguidelines/ref=${(0,p.i)("atv_dp_wp_guid")}`}},y={[g.WP_ERROR]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_ERROR_HEADING",body:"DV_DP_WP_ERROR",automationId:"wp-error-banner"},[g.WP_END]:{type:m.MessageTypes.info,heading:"DV_DP_WP_END_HEADING",body:"DV_DP_WP_END",automationId:"wp-end-banner"},[g.WP_STREAM_ENDED]:{type:m.MessageTypes.info,heading:"DV_DP_WP_END_HEADING",body:"DV_DP_WP_STREAM_ENDED",automationId:"wp-stream-end-banner"},[g.WP_CREATE_INELIGIBLE]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE",dvStringAttrs:v("atv_dp_wp_cr_in_learn"),automationId:"wp-create-ineligible-banner"},[g.WP_CREATE_INELIGIBLE_SWM]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE_SWM",dvStringAttrs:v("atv_dp_wp_cr_in_learn"),automationId:"wp-create-ineligible-banner"},[g.WP_JOIN_INELIGIBLE]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_JOIN_INELIGIBLE_HEADING",body:"DV_DP_WP_JOIN_INELIGIBLE",dvStringAttrs:v("atv_dp_wp_jn_in_learn"),automationId:"wp-join-ineligible-banner"},[g.WP_GEO_RESTRICTION]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_GEO_RESTRICTION_HEADING",body:"DV_DP_WP_GEO_RESTRICTION",automationId:"wp-geo-restriction-banner"},[g.WP_UNSUPPORTED_BROWSER]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_UNSUPPORTED_BROWSER_HEADING",body:"DV_DP_WP_UNSUPPORTED_BROWSER",dvStringAttrs:v("atv_dp_wp_ub_learn"),automationId:"wp-unsupported-browser-banner"},[g.WP_UNSUPPORTED_CHAT]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_UNSUPPORTED_CHAT_HEADING",body:"DV_DP_WP_UNSUPPORTED_CHAT",automationId:"wp-unsupported-chat-banner"},[g.WP_CREATE_INELIGIBLE_TVOD]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE_TVOD",dvStringAttrs:v("atv_dp_wp_cr_in_learn_t"),automationId:"wp-create-ineligible-banner"},[g.WP_JOIN_INELIGIBLE_TVOD]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_JOIN_INELIGIBLE_HEADING",body:"DV_DP_WP_JOIN_INELIGIBLE_TVOD",dvStringAttrs:v("atv_dp_wp_jn_in_learn_t"),automationId:"wp-join-ineligible-banner"},[g.WP_CREATE_INELIGIBLE_SVOD_TVOD]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE_SVOD_TVOD",dvStringAttrs:v("atv_dp_wp_cr_in_learn_st"),automationId:"wp-create-ineligible-banner"},[g.WP_CREATE_INELIGIBLE_SVOD_TVOD_SWM]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE_SVOD_TVOD_SWM",dvStringAttrs:v("atv_dp_wp_cr_in_learn_st"),automationId:"wp-create-ineligible-banner"},[g.WP_JOIN_INELIGIBLE_SVOD_TVOD]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_JOIN_INELIGIBLE_HEADING",body:"DV_DP_WP_JOIN_INELIGIBLE_SVOD_TVOD",dvStringAttrs:v("atv_dp_wp_jn_in_learn_st"),automationId:"wp-join-ineligible-banner"},[g.WP_BANNED_SPECIFIC_CHAT]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_BANNED_SPECIFIC_CHAT_HEADING",body:"DV_DP_WP_BANNED_SPECIFIC_CHAT",dvStringAttrs:h,automationId:"wp-banned-specific-chat"},[g.WP_SAFARI_MAC_UNSUPPORTED]:{type:m.MessageTypes.warning,heading:"DV_DP_WP_SAFARI_MAC_UNSUPPORTED_HEADING",body:"DV_DP_WP_SAFARI_MAC_UNSUPPORTED_BODY",dvStringAttrs:v("atv_dp_wp_ub_learn"),automationId:"wp-mac-safai-unsupported"}};var f=a("./src/shared/DetailPage/queryParameters.ts");const b=e=>Object.entries(e).reduce(((e,[t,a])=>{const{catalogId:n,contributors:i,genres:r,enhancedSubtitles:l,images:s,isStarlightEnhanced:o,studios:c,...d}=a;return e[t]={...d,images:s&&{packshot:s.packshot,covershot:s.covershot}},e}),{}),E=(e,t)=>{var a,n,r;return{[i.Xt]:b({...C(t.widgets.titleContent),...C(t.widgets.carousel),...C(t.widgets.extras),...((null===(a=t.widgets.castAndCrew)||void 0===a?void 0:a.castAndCrews)||[]).reduce(((e,t)=>{var a;return null===(a=t.titleCollections)||void 0===a||a.cards.forEach((t=>_(t.titleID,t.detail,e))),e}),{}),...((null===(n=t.widgets.episodeList)||void 0===n?void 0:n.episodes)||[]).reduce(((e,t)=>(_(t.titleID,t.detail,e),e)),{}),...T(null===(r=t.widgets.bundleCarousel)||void 0===r?void 0:r.cards),...t.widgets.productDetails?_(e,t.widgets.productDetails.detail):{}}),[i.B6]:t.widgets.header?_(e,t.widgets.header.detail):{},[i.k5]:{...t.widgets.productDetails?_(e,t.widgets.productDetails.detail):{}}}},C=e=>(e||[]).reduce(((e,t)=>(t.cards.forEach((t=>_(t.titleID,t.detail,e))),e)),{}),T=e=>(e||[]).reduce(((e,t)=>_(t.titleID,t.detail,e)),{}),_=(e,{title:t,synopsis:a,...n},i={})=>(i[e]={title:(0,l.l_)(t),synopsis:a?(0,l.l_)(a):void 0,...n},i),k=(e,t)=>{var a;return{...t.widgets.self?{[e]:t.widgets.self}:{},...(t.widgets.seasonSelector||[]).reduce(((e,t)=>(t.self&&(e[t.titleID]=t.self),e)),{}),...((null===(a=t.widgets.episodeList)||void 0===a?void 0:a.episodes)||[]).reduce(((e,t)=>(t.self&&(e[t.titleID]=t.self),e)),{}),...(t.widgets.titleContent||[]).reduce(((e,t)=>(t.cards.filter((e=>e.self)).forEach((t=>{t.self&&(e[t.titleID]=t.self)})),e)),{}),...t.widgets.buybox&&t.widgets.buybox.bestTitleID&&t.widgets.buybox.bestSelf?{[t.widgets.buybox.bestTitleID]:t.widgets.buybox.bestSelf}:{}}},I=(e,t)=>({...t.widgets.header?{[e]:t.widgets.header.imdb}:{}}),L=(e,t)=>({...t.widgets.notification?{[e]:t.widgets.notification}:{}}),x=(e,t)=>({...t.widgets.seasonSelector?{[e]:t.widgets.seasonSelector.map((e=>({seasonId:e.titleID,seasonLink:e.seasonLink,seasonSelectorIcon:e.seasonSelectorIcon,sequenceNumber:e.sequenceNumber,isSelected:e.isSelected})))}:{}}),w=(e,t)=>({...t.widgets.buybox?{[e]:t.widgets.buybox.titleID}:{}}),P=(e,t)=>({...t.widgets.creative?{[e]:t.widgets.creative}:{}}),S=e=>e.widgets.pageContext,D=(e,t)=>({...t.widgets.restrictions?{[e]:t.widgets.restrictions}:{}}),N=(e,t)=>({...t.widgets.trailer?{[e]:t.widgets.trailer}:{}}),M=(e,t)=>({...t.widgets.watchlist?{[e]:t.widgets.watchlist}:{}}),R=e=>{var t;return{...(e.widgets.carousel||[]).reduce(((e,t)=>(t.cards.filter((e=>e.watchlist)).forEach((t=>{e[t.titleID]=t.watchlist})),e)),{}),...(e.widgets.titleContent||[]).reduce(((e,t)=>(t.cards.filter((e=>e.watchlist)).forEach((t=>{e[t.titleID]=t.watchlist})),e)),{}),...((null===(t=e.widgets.castAndCrew)||void 0===t?void 0:t.castAndCrews)||[]).reduce(((e,t)=>{var a,n;return null===(a=t.titleCollections)||void 0===a||a.cards.filter((e=>e.watchlist)).forEach((t=>{e[t.titleID]=t.watchlist})),null===(n=t.castMemberContainer)||void 0===n||n.entities.filter((e=>e.titleID&&e.watchlistAction)).forEach((t=>{e[t.titleID]=t.watchlistAction})),e}),{}),...e.widgets.bundleCarousel&&e.widgets.bundleCarousel.cards||[].filter((e=>e.watchlist)).reduce(((e,t)=>(e[t.titleID]=t.watchlist,e)),{})}},A=(e,t)=>{var a;return{[n.L5]:{...[...t.widgets.titleContent||[],...t.widgets.extras||[]].reduce(((e,t)=>(t.cards.forEach((t=>{t.action&&(e[t.titleID]=t.action)})),e)),{}),...((null===(a=t.widgets.episodeList)||void 0===a?void 0:a.episodes)||[]).reduce(((e,t)=>(t.action&&(e[t.titleID]=t.action),e)),{})},[n.t1]:t.widgets.buybox?{[e]:t.widgets.buybox.action}:{}}},O=(e,t)=>{var a;return{fragments:{...(t.widgets.titleContent||[]).reduce(((e,t)=>(t.cards.forEach((t=>{t.refund&&(e[t.titleID]=t.refund)})),e)),{}),...((null===(a=t.widgets.episodeList)||void 0===a?void 0:a.episodes)||[]).reduce(((e,t)=>(t.refund&&(e[t.titleID]=t.refund),e)),{}),...(t.widgets.extras||[]).reduce(((e,t)=>(t.cards.forEach((t=>{t.refund&&(e[t.titleID]=t.refund)})),e)),{}),...t.widgets.buybox?{[e]:t.widgets.buybox.refund}:{}},refunding:null}},B=e=>{return{header:e.text,collectionType:(t=e.collectionType,t&&t.toLowerCase()||""),totalCardSize:e.totalCardSize,cardTitleIds:e.cards.map((e=>e.titleID)),impressionData:e.impressionData};var t},G=(e,t)=>{var a,n;return null!==(a=t.widgets)&&void 0!==a&&a.titleContent&&(null===(n=t.widgets)||void 0===n||null===(n=n.titleContent)||void 0===n?void 0:n.length)>0?{[e]:t.widgets.titleContent.map((e=>B(e)))}:{}},V=(e,t)=>{var a,n;return null!==(a=t.widgets)&&void 0!==a&&a.extras&&(null===(n=t.widgets)||void 0===n||null===(n=n.extras)||void 0===n?void 0:n.length)>0?{[e]:t.widgets.extras.map((e=>B(e)))}:{}},W=(e,t)=>{var a,n;return null!==(a=t.widgets)&&void 0!==a&&a.carousel&&(null===(n=t.widgets)||void 0===n||null===(n=n.carousel)||void 0===n?void 0:n.length)>0?{[e]:t.widgets.carousel.map((e=>B(e)))}:{}},F=e=>e.widgets.episodeList?{header:e.widgets.episodeList.header,totalCardSize:e.widgets.episodeList.episodeCount,cardTitleIds:e.widgets.episodeList.episodes.map((e=>e.titleID)),actions:e.widgets.episodeList.actions}:{},H=e=>(e.widgets.carousel||[]).reduce(((e,t)=>(t.cards.reduce(((e,t)=>(t.impressionAnalytics&&(e[t.titleID]=t.impressionAnalytics),e)),e),e)),{}),z=e=>(e.widgets.carousel||[]).reduce(((e,t)=>(t.cards.reduce(((e,t)=>(t.entitlementCue&&(e[t.titleID]=t.entitlementCue),e)),e),e)),{}),j=(e,t)=>t.widgets.bundleCarousel?{[e]:B(t.widgets.bundleCarousel)}:{},U=(e,t,a)=>{const{widgets:{banner:n,buybox:i,pageContext:r}}=t;return{crow:n?{[e]:n}:{},ui:q(a,i&&i.action&&i.action.watchPartyAction&&i.action.watchPartyAction.watchPartyOfferType||"s",r)}},$=(e,t)=>t.widgets.ageVerificationBanner?{[e]:t.widgets.ageVerificationBanner}:{},q=(e,t,a)=>{const n=(e.queryParameters[f.pN]||[]).join("").toUpperCase();let i,r=a.features&&"true"===a.features.isSWMEnabled;switch(n){case g.WP_CREATE_INELIGIBLE:i="t"===t?g.WP_CREATE_INELIGIBLE_TVOD:"st"===t?r?g.WP_CREATE_INELIGIBLE_SVOD_TVOD_SWM:g.WP_CREATE_INELIGIBLE_SVOD_TVOD:r?g.WP_CREATE_INELIGIBLE_SWM:g.WP_CREATE_INELIGIBLE;break;case g.WP_JOIN_INELIGIBLE_SVOD_TVOD:i=g.WP_JOIN_INELIGIBLE_SVOD_TVOD;break;case g.WP_CREATE_INELIGIBLE_SWM:i=g.WP_CREATE_INELIGIBLE_SWM;break;case g.WP_JOIN_INELIGIBLE:case g.WP_JOIN_INELIGIBLE_TVOD:default:i=n}const l=y[i];return l?{type:l.type,headingStringId:l.heading,stringId:l.body,dvStringAttrs:l.dvStringAttrs,automationId:l.automationId}:null},Z=e=>{var t;return{...(e.widgets.carousel||[]).reduce(((e,t)=>(t.cards.forEach((t=>{e[t.titleID]=t.pageLink})),e)),{}),...(e.widgets.extras||[]).reduce(((e,t)=>(t.cards.forEach((t=>{e[t.titleID]=t.pageLink})),e)),{}),...((null===(t=e.widgets.castAndCrew)||void 0===t?void 0:t.castAndCrews)||[]).reduce(((e,t)=>{var a,n;return null===(a=t.titleCollections)||void 0===a||a.cards.filter((e=>e.pageLink)).forEach((t=>{e[t.titleID]=t.pageLink})),null===(n=t.castMemberContainer)||void 0===n||n.entities.filter((e=>{var t;return e.titleID&&(null===(t=e.link)||void 0===t?void 0:t.url)})).forEach((t=>{var a;e[t.titleID]=null===(a=t.link)||void 0===a?void 0:a.url})),e}),{}),...(e.widgets.titleContent||[]).reduce(((e,t)=>(t.cards.forEach((t=>{e[t.titleID]=t.pageLink})),e)),{})}},J=(e,t)=>({...t.widgets.castAndCrew?{[e]:{...t.widgets.castAndCrew,castAndCrews:t.widgets.castAndCrew.castAndCrews.map((({cast:e,titleCollections:t,castMemberContainer:a})=>({cast:e,titles:[...(null==t?void 0:t.cards)||(null==a?void 0:a.entities)||[]].map((({titleID:e})=>e)),container:a})))}}:{}}),K=(e,t)=>({...t.widgets.containers&&t.widgets.containers.length>0?{[e]:t.widgets.containers}:{}}),X=(e,t)=>({...t.widgets.otherFormats?{[e]:t.widgets.otherFormats}:{}}),Y=e=>e.widgets.bottomBar,Q=(e,t)=>t.widgets.buybox&&t.widgets.buybox.action&&t.widgets.buybox.action.experimentToken?ae(t.widgets.buybox.action.experimentToken,e):{},ee=(e,t)=>({...t.widgets.buybox?{[e]:Boolean(t.widgets.buybox.isComingSoon)}:{}}),te=(e,t)=>{var a;return t.widgets.productDetails?{[e]:t.widgets.productDetails.metadata,...(t.widgets.titleContent||[]).reduce(((e,t)=>(t.cards.forEach((t=>{e[t.titleID]=t.metadata})),e)),{}),...((null===(a=t.widgets.episodeList)||void 0===a?void 0:a.episodes)||[]).reduce(((e,t)=>(e[t.titleID]=t.metadata,e)),{})}:{...t.widgets.metadata?{[e]:t.widgets.metadata}:{}}},ae=(e,t)=>{const a=new d.ExperimentTokenHelper,n=(()=>{try{return a.decode(e)}catch(e){return void r.c.count(`${u.EZ}ExperimentTokenCallFailure`,1)}})();return n?{[t]:{...ne(n.pvCinemaToken),...ie(n.cancellationWinbackToken)}}:{}},ne=e=>{const t=e&&e.brandingMessage,a=e&&e.logoUrl;return e?{pvCinemaToken:{message:(0,c.e6)(t),logoUrl:a}}:{}},ie=e=>{const t=e&&e.cancellationWinbackStringInfo;return t?{cancellationWinbackToken:{cancellationWinbackStringInfo:{label:t.label,confirmationLabel:t.confirmationLabel,cancellationLabel:t.cancellationLabel,playbackLabel:t.playbackLabel,modalMessage:t.modalMessage},enrollmentId:e.enrollmentId,csrfToken:e.csrfToken}}:{}},re=(e,t)=>({...t.widgets.autoplayHero?{[e]:t.widgets.autoplayHero}:{}}),le=e=>e.widgets.playbackIntegration?e.widgets.playbackIntegration:{},se=(e,t)=>{const a=oe(e);return{pageTitleId:a,detail:E(a,e),action:A(a,e),refund:O(a,e),imdb:I(a,e),bundleCarousel:j(a,e),buyboxTitleId:w(a,e),creative:P(a,e),banner:U(a,e,t),ageVerificationBanner:$(a,e),notification:L(a,e),seasons:x(a,e),self:k(a,e),trailer:N(a,e),watchlist:M(a,e),hoverWatchlist:R(e),restriction:D(a,e),collections:G(a,e),extras:V(a,e),carousel:W(a,e),pageLink:Z(e),castAndCrew:J(a,e),episodeList:F(e),containers:K(a,e),otherFormats:X(a,e),pageContext:S(e),bottomBar:Y(e),entitlementCue:z(e),tapsExperimentToken:Q(a,e),autoplayHero:re(a,e),playbackIntegration:le(e),comingSoon:ee(a,e),impressionAnalytics:H(e),metadata:te(a,e),widgets:{[a]:e.sections},termsText:pe(e),bottomMenu:ge(e)}},oe=e=>e&&e.widgets&&e.widgets.pageContext.pageTitleId,ce=e=>Object.keys(e.results).reduce(((t,a)=>{const{action:i,refund:r}=e.results[a];return t.action[n.L5][a]=i,t.refund.fragments[a]=r,t}),{action:{[n.t1]:{},[n.L5]:{}},refund:{fragments:{}}}),de=e=>{var t,a,r,l,s;return{detail:{[i.Xt]:((null===(t=e.widgets.episodeList)||void 0===t?void 0:t.episodes)||[]).reduce(((e,t)=>(_(t.titleID,t.detail,e),e)),{})},action:{[n.L5]:((null===(a=e.widgets.episodeList)||void 0===a?void 0:a.episodes)||[]).reduce(((e,t)=>(t.action&&(e[t.titleID]=t.action),e)),{})},self:((null===(r=e.widgets.episodeList)||void 0===r?void 0:r.episodes)||[]).reduce(((e,t)=>(t.self&&(e[t.titleID]=t.self),e)),{}),metadata:((null===(l=e.widgets.episodeList)||void 0===l?void 0:l.episodes)||[]).reduce(((e,t)=>(t.metadata&&(e[t.titleID]=t.metadata),e)),{}),refund:{fragments:((null===(s=e.widgets.episodeList)||void 0===s?void 0:s.episodes)||[]).reduce(((e,t)=>(t.refund&&(e[t.titleID]=t.refund),e)),{})},episodeList:e.widgets.episodeList?{header:e.widgets.episodeList.header,totalCardSize:e.widgets.episodeList.episodeCount,cardTitleIds:e.widgets.episodeList.episodes.map((e=>e.titleID)),actions:e.widgets.episodeList.actions}:{}}},ue=(e,t)=>({watchlist:{...t.watchlistAction?{[e]:t.watchlistAction}:{}}}),me=e=>{let t=o.V;if(e&&e.widgets){const a=e.widgets.find((e=>e.widgetType===s.dV.DevicesWidget&&e.content));a&&(t=a.content.devices)}return{deviceEntries:t}},pe=e=>{var t;return null===(t=e.widgets.productDetails)||void 0===t?void 0:t.termsText},ge=e=>{var t,a;return{feedbackSignInUrl:null===(t=e.widgets.productDetails)||void 0===t?void 0:t.feedbackSignInUrl,helpText:null===(a=e.widgets.productDetails)||void 0===a?void 0:a.helpText}}},"./src/widgets/DVWebNodeDetail/reducers/action.ts":(e,t,a)=>{a.d(t,{E3:()=>d,I6:()=>m,L5:()=>o,er:()=>u,t1:()=>s,tZ:()=>c});var n=a("./src/widgets/DVWebNodeDetail/utils/reducer.ts"),i=a("./src/widgets/DVWebNodeDetail/actions/index.ts"),r=a("./node_modules/redux/es/redux.js"),l=a("./src/widgets/DVWebNodeDetail/utils/utils.ts");const s="atf",o="btf",c=(0,l.bc)([s,o]),d={},u=e=>(t=d,a)=>{switch(a.type){case i.k.RefreshAtfActionBox:case i.k.RefreshBtfActionBoxes:case i.k.PaginateEpisodeList:case i.k.SortEpisodeList:case i.k.RefreshEpisode:return a.output&&a.output.action&&a.output.action[e]&&{...t,...a.output.action[e]}||t;default:return t}},m=(0,r.UY)(c.reduce(((e,t)=>{var a;return e[t]=(a=t,(0,n.V)((e=>e.action&&e.action[a]),d,u(a))),e}),{}))},"./src/widgets/DVWebNodeDetail/reducers/detail.ts":(e,t,a)=>{a.d(t,{B6:()=>l,I6:()=>c,Xt:()=>o,k5:()=>s});var n=a("./src/widgets/DVWebNodeDetail/utils/reducer.ts"),i=a("./node_modules/redux/es/redux.js"),r=a("./src/widgets/DVWebNodeDetail/actions/index.ts");const l="headerDetail",s="btfMoreDetails",o="detail",c=(0,i.UY)({[l]:(0,n.V)((e=>e.detail&&e.detail[l]),{}),[s]:(0,n.V)((e=>e.detail&&e.detail[s]),{}),[o]:(0,n.V)((e=>e.detail&&e.detail[o]),{},((e={},t)=>{switch(t.type){case r.k.PaginateEpisodeList:case r.k.SortEpisodeList:return t.output&&t.output.detail&&t.output.detail[o]&&{...e,...t.output.detail[o]}||e;default:return e}}))})},"./src/widgets/DVWebNodeDetail/reducers/devices.ts":(e,t,a)=>{a.d(t,{I:()=>l,V:()=>i});var n=a("./src/widgets/DVWebNodeDetail/actions/index.ts");const i=void 0,r={deviceEntries:i,isLoading:!1},l=(e=r,t)=>{switch(t.type){case n.k.GetDevices:return{...t.output,isLoading:!1};case n.k.GetDevicesLoading:return{...e,isLoading:!0};default:return e}}},"./src/widgets/DVWebNodeDetail/utils/reducer.ts":(e,t,a)=>{a.d(t,{V:()=>i});var n=a("./src/widgets/DVWebNodeDetail/actions/constants.ts");const i=(e,t,a,i=((e,t)=>({...t,...e})))=>(r=t,l)=>{switch(l.type){case n.k.STORE_MERGE:return e(l.payload)?i(e(l.payload),r):r;case n.k.CHANGE_PAGE:return e(l.payload)||t;default:return a?a(r,l):r}}},"./src/widgets/DVWebNodeDetail/utils/stringUtils.ts":(e,t,a)=>{a.d(t,{bJ:()=>s,e6:()=>l,qY:()=>r});var n=a("./src/util/utils/strings.ts"),i=a("./src/shared/Stores/context.ts");const r=(e,t)=>{let a=0;return(r,l)=>{const s=e[r];return s?(0,n.VJ)(s,l,t):(0===a&&t.error(`Missing string ${r}`),a+=1,(0,i.isInternal)()?`MISSING STRING ${r}`:"")}},l=(e,t={})=>({string:e,attrs:t}),s=e=>"string"==typeof e?l(e.trim()):e},"./src/widgets/DVWebNodeDetail/utils/url/index.ts":(e,t,a)=>{a.d(t,{P_:()=>u,Md:()=>c,Z$:()=>m,K1:()=>d,bf:()=>s});const n=new Set(["aivDebug","appDebug","auiDebug","avClientAddress","avCurrentTerritory","avMarketplace","avRecordTerritory","avRegion","avGeoToken","csTools","debug","experiment","forceAV","isDebug","language","pfDisableCache","pfShowFeatures","serviceDebug","inspector","stringDebug","keepSubscription","tab","cookieConsentGroupsOverride","cookieConsentTimestampOverride","privConOverride","hideConditionalSiteWideFeature","forcePageCdn"]),i=new RegExp("(/-/[^/?]+)?(/region/(na|eu|fe|local))"),r=(e,t)=>e.isRetail?(e=>e?"":"/gp/video")(t):(({originalURI:e})=>{const t=e&&e.match(i);return t&&t[2]||""})(e),l=(e,t)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`,s=(e,{urlData:t,get:a,refTag:i,isShortUrl:s=!1})=>{if(!t)return"";const o=r(t,s),c=((e,t={})=>{return{...(a=e,Object.keys(a).reduce(((e,t)=>n.has(t)?{...e,[t]:a[t]}:e),{})),...t};var a})(t.parameters||{},a),d=Object.keys(c).reduce(((e,t)=>{const a=c[t];if(Array.isArray(a)){const n=a.map((e=>l(t,e)));e.push(...n)}else e.push(l(t,a));return e}),[]).join("&"),u=d?`?${d}`:"",m=i?`/ref=${i}`:"";return`${o}/${(e=>e.replace(/^\//,""))(e)}${m}${u}`};var o=a("./node_modules/@amzn/dv-web-node-reftags/index.js");function c(e,t,a){return s("/auth-redirect",{urlData:e,refTag:t,get:{returnUrl:a,signin:"1"}})}const d=(e,t=!1)=>`/detail/${e}`;function u(e,t,a,n=!1){return s(d(t,n),{urlData:e,refTag:a})}const m=(e,t,a,n)=>{const{queryParameters:i,originalURI:r}=e,l={parameters:{...i,tab:["details"]},originalURI:r,isRetail:"Retail"===e.domain},s=u(l,t,(0,o.i)(n));return c(l,(0,o.i)(a),s)}},"./src/widgets/DVWebNodeDetail/utils/utils.ts":(e,t,a)=>{a.d(t,{Db:()=>i,Dv:()=>d,EZ:()=>u,VF:()=>c,bc:()=>o,e$:()=>l,w6:()=>r,yb:()=>s});var n=a("./src/shared/utils/utils.ts");const i=e=>!(0,n.xb)(e),r=(e,t)=>Array.from({length:t-e+1},((t,a)=>a+e)),l=e=>parseInt(e,10)||0,s=e=>Boolean(e),o=e=>e,c=e=>e.reduce(((e,t)=>e.concat(t)),[]),d=e=>e&&JSON.stringify(e),u="DVWebNodeDetail"},"./src/widgets/DVWebNodeLive/components/liveState/liveState.tsx":(e,t,a)=>{a.d(t,{I:()=>s,N:()=>o});var n=a("./node_modules/react/index.js"),i=a("./node_modules/@amzn/dvui/dist/Fable/components/LabelBadge/index.js"),r=a("./src/shared/Explore/components/StatusBadge/StatusBadge.tsx");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const s=({text:e,isLive:t,className:a})=>e?n.createElement(i.LabelBadge,{label:e,color:t?"live":"secondary",ariaLabel:e,testID:"live-state-badge-legacy",className:a}):null,o=(e,t,a)=>null!=e&&e.text?n.createElement(s,l({},e,{className:a})):null!=t&&t.message?n.createElement(r.O,{style:t.level,label:t.message,className:a}):null},"./src/widgets/DVWebNodeLive/utils/logging.ts":(e,t,a)=>{a.d(t,{E:()=>n,U:()=>r});const n="DVWebNodeLive",i="LiveDetailPage",r={WPS_FAILURE:{domain:i,id:"WpsFailure"},GET_STRINGS_FAILURE:{domain:i,id:"GetStringsFailure"},MISSING_ATF_METADATA:{domain:i,id:"MissingAtfMetadata"},AJAX_FAILURE:{domain:i,id:"AjaxFailure"}}},"./src/widgets/DVWebNodeLive/utils/wps.ts":(e,t,a)=>{a.d(t,{fI:()=>c,SU:()=>p,dS:()=>g,e$:()=>v,py:()=>d});var n=a("./src/util/logger/logger.ts"),i=a("./src/util/api/util.ts"),r=a("./src/util/api/WPSClient.ts"),l=a("./src/widgets/DVWebNodeDetail/data/normalize.ts");var s=a("./src/shared/Stores/context.ts"),o=a("./src/widgets/DVWebNodeLive/utils/logging.ts");let c=function(e){return e.GetLivePage="GetLivePage",e.SetLiveEventsCustomerIntent="SetLiveEventsCustomerIntent",e}({});const d=new r.eZ,u=new n.Oc("DVWebNode_live"),m=async({input:e})=>((e,t)=>{const a=(0,l.tV)(e);return{pageTitleId:a,detail:(0,l.tM)(a,e),action:(0,l.Jl)(a,e),refund:(0,l.TS)(a,e),imdb:(0,l.oi)(a,e),buyboxTitleId:(0,l.cO)(a,e),containers:(0,l.h2)(a,e),creative:(0,l.Q7)(a,e),banner:(0,l.gR)(a,e,t),self:(0,l.fQ)(a,e),watchlist:(0,l.w3)(a,e),hoverWatchlist:(0,l.um)(e),restriction:(0,l.FM)(a,e),collections:(0,l.nn)(a,e),carousel:(0,l.hh)(a,e),pageLink:(0,l.Kp)(e),pageContext:(0,l.wc)(e),bottomBar:(0,l.e9)(e),entitlementCue:(0,l.VK)(e),tapsExperimentToken:(0,l.aN)(a,e),comingSoon:(0,l.ci)(a,e),impressionAnalytics:(0,l.GA)(e),recordSeason:e.widgets.recordSeason,widgets:{[a]:e.sections},degradations:e.degradations,termsText:(0,l.LO)(e),bottomMenu:(0,l.db)(e),autoplay:e.widgets.autoplay,deeplink:e.widgets.deeplink,metadata:{},trailer:{},notification:{}}})(await d.GetLivePage(e),e.context),p=(e,t)=>v({input:e,operation:c.GetLivePage},m,t),g=async({input:e})=>await d.SetLiveEventsCustomerIntent(e),v=({input:e,operation:t},a,n,r,l)=>async c=>{const d=e=>{const t=n(e);c(t)};try{const n={...e,context:(0,s.getRequestContext)()};d(await a({input:n,operation:t},r))}catch(e){e instanceof i.RQ?u.info(e):u.fatal(e,o.U.AJAX_FAILURE),d(null),"function"==typeof l&&l(e)}}},"./src/widgets/DVWebNodePangaeaBanner/components/Banner.tsx":(e,t,a)=>{a.d(t,{j:()=>u});var n=a("./node_modules/react/index.js"),i=a("./node_modules/@amzn/dvui/dist/Block.js"),r=a("./node_modules/@amzn/dvui/dist/Text.js"),l=a("./src/util/utils/localStorage.ts"),s=a("./src/util/wrappers/LoggersContext.tsx");const o="Uj-2Hw",c="isPangaeaBannerDismissed",d="true",u=e=>{const t=n.useRef(void 0),a=n.useRef(void 0),[u,m]=n.useState(!1),{logger:p}=(0,s.L1)(),g=e=>{t.current&&((e,t)=>{a.current&&t&&(e.preventDefault(),a.current.openInExternalBrowser({url:t}))})(e,t.current.href)};return n.useEffect((()=>{const t=(0,l.le)(c,p)===d,n=Boolean(!t&&e.banner);if(m(n),n){const e=(()=>{const e=document.getElementById("av-pangaea-banner"),t=e&&e.getElementsByTagName("a");return t?t[0]:void 0})();return e&&e.addEventListener("click",g),"undefined"!=typeof window&&void 0!==window.P&&window.P.when("mash").execute((e=>{a.current=e})),()=>{e&&e.removeEventListener("click",g)}}}),[]),u&&n.createElement("div",{className:o,id:"av-pangaea-banner","data-testid":"av-pangaea-banner"},n.createElement(i.MessageBlock,{heading:void 0,type:i.MessageTypes.info,dismissable:!0,onDismiss:()=>{(0,l.D$)(c,d,p)},fableBannerTypeOverride:"info"},n.createElement(r.Text,{string:e.banner})))||null}},"./src/shared/CS/components/Modal/Modal.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={modalContainer:"iKamlh",modalWrapper:"rvJd8n",fadeInFrames:"r9gEB4",background:"e8FL8q",modalContent:"t3E74H",emptyHeader:"zg6Cp5",xsModalSize:"fHwPje",sModalSize:"CGno9b",mModalSize:"tow9o1",lModalSize:"oAUzdo",headerWrapper:"_4CeEyk",closeButton:"q2lvVN",bodyWrapper:"UV6HKC",footerWrapper:"kZXeoZ",actionButton:"fuSZLL",alignedActionButton:"vhGVDS"}},"./src/shared/CS/styles/Grid.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={heroSixteenByNineOverride:"vb5aPW"}},"./src/shared/Explore/components/Carousel/Carousel.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={grid:"+ctjxm","grid-container":"DTPMgu",carousel:"hj1e0s",cards:"_70Gje9",card:"tHfREs",StandardHero:"_3+3zj7",Nodes:"krHwZu"}},"./src/shared/Explore/containers/Live/NowPlayingStationCard/NowPlayingStationCard.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={card:"ixN1a+",playArrow:"WH-k6U",nowPlayingImage:"gJvy+4",details:"_2zaN2R",isEntitled:"eg51eO",fixedScrollContainer:"mAWgiT",startTime:"CftJiO",episodeTitle:"ObVrDJ",contentMaturityRating:"Iuks5n",chromelessButton:"nqySy3",progressBarContainer:"krPlim",title:"KWzQGq",screenReaderLabel:"xwZa2x"}},"./src/shared/Explore/containers/Live/StationLogo/StationLogo.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={frame:"shaTeH",isEntitled:"Qub7YV",aspect:"_8Jd7tK",aspectRemastered:"O5fVEB",eocIcon:"_27+CGe",unentitledIconGradient:"M5XWE9"}},"./src/shared/Explore/containers/StandardCarousel/StandardCarousel.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={carouselWrapper:"+OSZzQ",standardCarousel:"YxKE01",verticalOverflowVisible:"LLws87",pageEndClearance:"EPBbt1",circle:"Ml46ZK",fadeInFrames:"JjqrKz"}},"./src/shared/Explore/containers/StandardMiniDetails/StandardMiniDetailsMetadata.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={metadata:"RmtlRt",metadataModal:"_1HBcAl",starRating:"NgkdA8",metadataText:"oeG1vb",maturityRating:"dL5AME",highValueMessage:"Krg12D",synopsis:"EarBrV",stationTitle:"YLGBUW",nextBroadcastTitle:"xfAyx4",stationDetailSeparator:"BWkLNj"}},"./src/shared/Explore/containers/StandardMiniDetails/StandardMiniDetailsMetadataRemaster.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={metadata:"bEQp71",metadataModal:"_3levY+",starRating:"YHb3Q+",metadataText:"u9pQuR",maturityRating:"JWZ94R",synopsis:"FifJZH",stationTitle:"hyxIQj",nextBroadcastTitle:"FSmu++",stationDetailSeparator:"RdbYVl"}},"./src/shared/Live/components/Playback/playback.module.scss":(e,t,a)=>{a.d(t,{Z:()=>n});const n={playback:"NyrD54",squareButton:"IJb8Xj",playbox:"sBF9NU",circle:"rYlYvM",focus:"eUL-cq",active:"-0krpT",icon:"_3LKSXM",progress:"t5xckA",playButtonRightContent:"_24OiC0"}},"./src/shared/global.module.scss":()=>{}}]);
//# sourceMappingURL=http://sourcemaps.aka.amazon.com/77df9d92825d0efa3680d7954754ccb052bfcc8bdab06416dc89e4f87d06fb54e27fff3f078e4f384b787c0ff2bfa30beeb1cc3be8e0bb0f8b691baa3bb6ebd4e299bdc06676187ca4505ed9bf437bbc777fbf36d3d9f02d5619a400a347e5eaa0dd330c40385148c22e8348d7d720ff815b3e5453c9ea0d5619af37a8febb608a8b5ed54281c440c85110d5b3067c30af6b3723d2a774fb915920e7bf10113f35d94e2c1a9c332b035e46d22af4e95f50f6305252b65149ee648af180f073e26820b06fcc6bfb10b70d20ada8a0c6862becc28c928ebc84e625b19d9a1b8ab8fdefb48339151c2cf4c8b6eac01db4d33d8a14d283ec69c7915dd7ccee82148d?np=1